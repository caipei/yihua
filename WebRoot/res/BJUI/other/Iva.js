!function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){var i=e[a][1][t];return r(i?i:t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e,i){"use strict";function n(t,e){var n,r=t.filename,o=arguments.length>1;if(t.cache){if(!r)throw new Error("cache option requires a filename");if(n=i.cache.get(r))return n;o||(e=c.readFileSync(r).toString().replace(y,""))}else if(!o){if(!r)throw new Error("Internal EJS error: no file name or template provided");e=c.readFileSync(r).toString().replace(y,"")}return n=i.compile(e,t),t.cache&&i.cache.set(r,n),n}function r(t,e){var r=h.shallowCopy({},e);if(!r.filename)throw new Error("`include` requires the 'filename' option.");return r.filename=i.resolveInclude(t,r.filename),n(r)}function o(t,e){var n,r,o=h.shallowCopy({},e);if(!o.filename)throw new Error("`include` requires the 'filename' option.");n=i.resolveInclude(t,o.filename),r=c.readFileSync(n).toString().replace(y,""),o.filename=n;var a=new l(r,o);return a.generateSource(),a.source}function a(t,e,i,n){var r=e.split("\n"),o=Math.max(n-3,0),a=Math.min(r.length,n+3),s=r.slice(o,a).map(function(t,e){var i=e+o+1;return(i==n?" >> ":"    ")+i+"| "+t}).join("\n");throw t.path=i,t.message=(i||"ejs")+":"+n+"\n"+s+"\n\n"+t.message,t}function s(t,e){g.forEach(function(i){"undefined"!=typeof t[i]&&(e[i]=t[i])})}function l(t,e){e=e||{};var n={};this.templateText=t,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],n.client=e.client||!1,n.escapeFunction=e.escape||h.escapeXML,n.compileDebug=e.compileDebug!==!1,n.debug=!!e.debug,n.filename=e.filename,n.delimiter=e.delimiter||i.delimiter||p,n._with="undefined"!=typeof e._with?e._with:!0,n.context=e.context,n.cache=e.cache||!1,n.rmWhitespace=e.rmWhitespace,this.opts=n,this.regex=this.createRegex()}var c=t("fs"),h=t("./utils"),d=!1,u=t("../package.json").version,p="%",f="locals",v="(<%%|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",g=["cache","filename","delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace"],m=/;\s*$/,y=/^\uFEFF/;i.cache=h.cache,i.localsName=f,i.resolveInclude=function(e,i){var n=t("path"),r=n.dirname,o=n.extname,a=n.resolve,s=a(r(i),e),l=o(e);return l||(s+=".ejs"),s},i.compile=function(t,e){var i;return e&&e.scope&&(d||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),d=!0),e.context||(e.context=e.scope),delete e.scope),i=new l(t,e),i.compile()},i.render=function(t,e,i){e=e||{},i=i||{};return 2==arguments.length&&s(e,i),n(i,t)(e)},i.renderFile=function(){var t,e=Array.prototype.slice.call(arguments),i=e.shift(),r=e.pop(),o=e.shift()||{},a=e.pop()||{};a=h.shallowCopy({},a),3==arguments.length&&s(o,a),a.filename=i;try{t=n(a)(o)}catch(l){return r(l)}return r(null,t)},i.clearCache=function(){i.cache.reset()},l.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},l.prototype={createRegex:function(){var t=v,e=h.escapeRegExpChars(this.opts.delimiter);return t=t.replace(/%/g,e),new RegExp(t)},compile:function(){var t,e,n=this.opts,o="",s="",l=n.escapeFunction;n.rmWhitespace&&(this.templateText=this.templateText.replace(/\r/g,"").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>"),this.source||(this.generateSource(),o+="  var __output = [], __append = __output.push.bind(__output);\n",n._with!==!1&&(o+="  with ("+i.localsName+" || {}) {\n",s+="  }\n"),s+='  return __output.join("");\n',this.source=o+this.source+s),t=n.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(n.filename?JSON.stringify(n.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line);\n}\n":this.source,n.debug&&console.log(t),n.client&&(t="escape = escape || "+l.toString()+";\n"+t,n.compileDebug&&(t="rethrow = rethrow || "+a.toString()+";\n"+t));try{e=new Function(i.localsName+", escape, include, rethrow",t)}catch(c){throw c instanceof SyntaxError&&(n.filename&&(c.message+=" in "+n.filename),c.message+=" while compiling ejs"),c}if(n.client)return e.dependencies=this.dependencies,e;var d=function(t){var i=function(e,i){var o=h.shallowCopy({},t);return i&&(o=h.shallowCopy(o,i)),r(e,n)(o)};return e.apply(n.context,[t||{},l,i,a])};return d.dependencies=this.dependencies,d},generateSource:function(){var t=this,e=this.parseTemplateText(),n=this.opts.delimiter;e&&e.length&&e.forEach(function(r,a){var s,l,c,d,u;if(0===r.indexOf("<"+n)&&0!==r.indexOf("<"+n+n)&&(l=e[a+2],l!=n+">"&&l!="-"+n+">"&&l!="_"+n+">"))throw new Error('Could not find matching close tag for "'+r+'".');return(c=r.match(/^\s*include\s+(\S+)/))&&(s=e[a-1],s&&(s=="<"+n||s=="<"+n+"-"||s=="<"+n+"_"))?(d=h.shallowCopy({},t.opts),u=o(c[1],d),u="    ; (function(){\n"+u+"    ; })()\n",t.source+=u,void t.dependencies.push(i.resolveInclude(c[1],d.filename))):void t.scanLine(r)})},parseTemplateText:function(){for(var t,e,i=this.templateText,n=this.regex,r=n.exec(i),o=[];r;)t=r.index,e=n.lastIndex,0!==t&&(o.push(i.substring(0,t)),i=i.slice(t)),o.push(r[0]),i=i.slice(r[0].length),r=n.exec(i);return i&&o.push(i),o},scanLine:function(t){function e(){i.truncate?(t=t.replace("\n",""),i.truncate=!1):i.opts.rmWhitespace&&(t=t.replace(/^\n/,"")),t&&(t=t.replace(/\\/g,"\\\\"),t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t=t.replace(/"/g,'\\"'),i.source+='    ; __append("'+t+'")\n')}var i=this,n=this.opts.delimiter,r=0;switch(r=t.split("\n").length-1,t){case"<"+n:case"<"+n+"_":this.mode=l.modes.EVAL;break;case"<"+n+"=":this.mode=l.modes.ESCAPED;break;case"<"+n+"-":this.mode=l.modes.RAW;break;case"<"+n+"#":this.mode=l.modes.COMMENT;break;case"<"+n+n:this.mode=l.modes.LITERAL,this.source+='    ; __append("'+t.replace("<"+n+n,"<"+n)+'")\n';break;case n+">":case"-"+n+">":case"_"+n+">":this.mode==l.modes.LITERAL&&e(),this.mode=null,this.truncate=0===t.indexOf("-")||0===t.indexOf("_");break;default:if(this.mode){switch(this.mode){case l.modes.EVAL:case l.modes.ESCAPED:case l.modes.RAW:t.lastIndexOf("//")>t.lastIndexOf("\n")&&(t+="\n")}switch(this.mode){case l.modes.EVAL:this.source+="    ; "+t+"\n";break;case l.modes.ESCAPED:this.source+="    ; __append(escape("+t.replace(m,"").trim()+"))\n";break;case l.modes.RAW:this.source+="    ; __append("+t.replace(m,"").trim()+")\n";break;case l.modes.COMMENT:break;case l.modes.LITERAL:e()}}else e()}i.opts.compileDebug&&r&&(this.currentLine+=r,this.source+="    ; __line = "+this.currentLine+"\n")}},i.__express=i.renderFile,t.extensions&&(t.extensions[".ejs"]=function(t,e){e=e||t.filename;var n={filename:e,client:!0},r=c.readFileSync(e).toString(),o=i.compile(r,n);t._compile("module.exports = "+o.toString()+";",e)}),i.VERSION=u,"undefined"!=typeof window&&(window.ejs=i)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(t,e,i){"use strict";function n(t){return o[t]||t}var r=/[|\\{}()[\]^$+*?.]/g;i.escapeRegExpChars=function(t){return t?String(t).replace(r,"\\$&"):""};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},a=/[&<>\'"]/g,s='var _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n';i.escapeXML=function(t){return void 0==t?"":String(t).replace(a,n)},i.escapeXML.toString=function(){return Function.prototype.toString.call(this)+";\n"+s},i.shallowCopy=function(t,e){e=e||{};for(var i in e)t[i]=e[i];return t},i.cache={_data:{},set:function(t,e){this._data[t]=e},get:function(t){return this._data[t]},reset:function(){this._data={}}}},{}],3:[function(t,e,i){},{}],4:[function(t,e,i){(function(t){function e(t,e){for(var i=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};i.resolve=function(){for(var i="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(i=a+"/"+i,r="/"===a.charAt(0))}return i=e(n(i.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+i||"."},i.normalize=function(t){var r=i.isAbsolute(t),o="/"===a(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},i.isAbsolute=function(t){return"/"===t.charAt(0)},i.join=function(){var t=Array.prototype.slice.call(arguments,0);return i.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},i.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=i.resolve(t).substr(1),e=i.resolve(e).substr(1);for(var r=n(t.split("/")),o=n(e.split("/")),a=Math.min(r.length,o.length),s=a,l=0;a>l;l++)if(r[l]!==o[l]){s=l;break}for(var c=[],l=s;l<r.length;l++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},i.sep="/",i.delimiter=":",i.dirname=function(t){var e=o(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},i.basename=function(t,e){var i=o(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},i.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return 0>e&&(e=t.length+e),t.substr(e,i)}}).call(this,t("_process"))},{_process:5}],5:[function(t,e,i){function n(){if(!s){s=!0;for(var t,e=a.length;e;){t=a,a=[];for(var i=-1;++i<e;)t[i]();e=a.length}s=!1}}function r(){}var o=e.exports={},a=[],s=!1;o.nextTick=function(t){a.push(t),s||setTimeout(n,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.on=r,o.addListener=r,o.once=r,o.off=r,o.removeListener=r,o.removeAllListeners=r,o.emit=r,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],6:[function(t,e,i){e.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"2.3.4",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",contributors:["Timothy Gu <timothygu99@gmail.com> (https://timothygu.github.io)"],license:"Apache-2.0",main:"./lib/ejs.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{},devDependencies:{browserify:"^8.0.3",istanbul:"~0.3.5",jake:"^8.0.0",jsdoc:"^3.3.0-beta1","lru-cache":"^2.5.0",mocha:"^2.1.0",rimraf:"^2.2.8","uglify-js":"^2.4.16"},engines:{node:">=0.10.0"},scripts:{test:"mocha",coverage:"istanbul cover node_modules/mocha/bin/_mocha",doc:"rimraf out && jsdoc -c jsdoc.json lib/* docs/jsdoc/*",devdoc:"rimraf out && jsdoc -p -c jsdoc.json lib/* docs/jsdoc/*"}}},{}]},{},[1]),function(){function t(t,e){if("js"==e){var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",t)}else if("css"==e){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t)}"undefined"!=typeof i&&document.getElementsByTagName("head")[0].appendChild(i)}t("//7xjfim.com2.z0.glb.qiniucdn.com/Iva.css","css")}(),this.Iva=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n,r;n=[i(2),i(85),i(82),i(93),i(94),i(95),i(96),i(1),i(86),i(131),i(83),i(91),i(4)],r=function(t,e,i,n,r,o,a,s,l,c,h,d,u){function p(t,e){return this.parent=t,"string"==typeof t&&(this.parent=u("#"+t).get(0)),u(this.parent).css("position","relative"),this.options=e,this.dotList=[],this.showingDotList=[],this.$ivaAlertWrap=u('<div class="iva-alertWrap"></div>').appendTo(u(this.parent)),this.live_tags={},this.options.appkey?this.options.video?(this._init(),this.played=!1,this.dotInserted=!1,this.player=new o(this.parent,{logo:this.options.logo}),this._getDefaultOptions(),this._initEvent(),void(/Android|iPhone|iPad/.test(navigator.userAgent)?this.isMobile=!0:this.player.show_loading())):void d({type:"error",msg:"请添加video"}):void d({type:"error",msg:"请添加appkey"})}return u.support.cors=!0,p.prototype._init=function(){if(e.dgs={},e.appkey=this.options.appkey,e.cms=this.options.cms,!(this.parent instanceof HTMLElement)){if("string"!=typeof this.parent)throw Error("parent is required!");this.parent=u("#"+this.parent).get(0)}if(this.options.logo=h+"/api/apps/logo?appkey="+l.encode(this.options.appkey),/plu/.test(this.options.video))this.options.site="plu";else if(this.options.video=t.call(this,this.options.video),!this.options.video)return;/youku|tudou|v\.qq|letv|sohu|pptv|videojj/.test(this.options.video)?this.options.type=0:this.options.type=1,/cloudletv/.test(this.options.video)&&(this.options.type=1),/hunantv/.test(this.options.video)&&(this.options.type=1),/\.mp4|\.m3u8|\.flv/.test(this.options.video)&&(this.options.type=1),0==this.options.video.indexOf("#videoId=")&&(this.options.type=3),this.options.live&&(this.options.type=2),n("/api/jsonp/getCookie.js",function(t){t.token&&(e.token=t.token,i("/api/users/getCurrentUser","GET",{},function(t){t.msg.power&&(e.power=t.msg.power,e.userId=t.msg._id)}))})},p.prototype._getDefaultOptions=function(){void 0==this.options.memory&&(this.options.memory=!0),i("/api/apps/me","GET",{},function(t){"timeout"!==t.statusText&&"error"!==t.statusText&&(this.options=u.extend(t.msg.config,this.options)),r(this)}.bind(this),2e3)},p.prototype._initEvent=function(){this.options.memory&&window.addEventListener("beforeunload",function(){this.options.live||(this.player.get_total_time()-this.player.get_time()>5?s.docCookies.setItem("video"+a.hex_md5(this.options.video),this.player.get_time()):s.docCookies.removeItem("video"+a.hex_md5(this.options.video)))}.bind(this)),window.onblur=function(){this._stopLoop(),console.log("window blur")}.bind(this),window.onfocus=function(){this._loop(),console.log("window focus")}.bind(this),window.addEventListener("beforeunload",function(){i("/api/tracks/close","POST",{video:e.videoId,time:parseInt(1e3*this.player.get_time())},function(){console.log("video closed track")})}.bind(this))},p.prototype._getVideo=function(){0==this.options.video.indexOf("#videoId")?this._afterVideo(this.options.video.split("=")[1]):i("/api/videos","POST",{url:l.encode(this.options.video),title:this.options.title,local:this.options.type},function(t){this._afterVideo(t.msg._id)}.bind(this))},p.prototype._afterVideo=function(t){if(e.videoId=t,this.options.live||(this._getTags(),this._loop()),this.bubble&&this.bubble._getList(),i("/api/tracks/viewVideo","POST",{video:e.videoId},function(){console.log("video showed track")}),this.options.live){var n=io(h,{query:"type=live&video="+e.videoId,path:"/socket.io-client",transports:["websocket"]});n.on("connect",function(){console.log("wsonconnect")}),n.on("newTag",function(t){console.log(Date(),"new tag",t),this.popTag(t)}.bind(this)),n.on("hideTag",function(t){console.log(Date(),"hide tag",t),this.deleteTag(t)}.bind(this))}},p.prototype._getTags=function(){i("/api/tags","GET",{v:e.videoId},function(t){if(t.msg instanceof Array){var i=!1;if(!this.dotList.length&&t.msg.length&&(i=!0),this.dotList=t.msg.sort(function(t,e){return t.time-e.time}),e.dotList=this.dotList.concat(),this.dotInserted)return;var n=[];e.dotList.forEach(function(t,e){t.auto_hidden||2==t.type||n.push({id:t._id,time:t.dot_user.time/1e3,title:t.title})});try{this.player.insert_dots(n)}catch(r){console.error(r)}this.dotInserted=!0}}.bind(this))},p.prototype._loop=function(){this.setIntervalId=setInterval(function(){var t=this.player.get_time(),n=1e3*t,r=Math.floor(t);if(this.dotList.length)for(var o=0;o<this.dotList.length;o++){var a=this.dotList[o],s=a.dot_user.time;1==a.type&&a.dot.length&&(s=a.dot[0].time);var l=!1,h=!1;if(2==a.type||a.dg){var d=a.dot_user.duration||5e3,u=s+d,p=n-s;n>=s&&u>=n&&(l=!0),p>=-600&&600>=p&&(h=!0)}if(l){if(2==a.type)this.windmill&&this.windmill.show({tag:"html",type:3,content:a.title+(e.userId?'<i class="iva-iconfont iva-delete" data-tagid="'+a._id+'">&#xe60d;</i>':""),timeout:4e3,clickHandler:null});else{var f=new c(this,a,h);this.showingDotList.push(f),i("/api/tracks/showTag","POST",{tag:a._id},function(){console.log("tag showed track")})}this.dotList.splice(o,1)}}if(this.showingDotList.length)for(var o=0;o<this.showingDotList.length;o++){var a=this.showingDotList[o],u=a.options.dot_user.time+(a.options.dot_user.duration?a.options.dot_user.duration:5e3);1==a.options.type&&a.options.dot.length&&(u=a.options.dot[a.options.dot.length-1].time);var p=n-u;if(p>0){if(5==a.options.dg.cat){if(a.isOptionsShow)return;if(a.isOptionsShowed&&!this.isGettingTag)return a.isOptionsShowed=!1,void(a.options.dot_user.duration=n-a.options.dot_user.time-5e3)}a.close(),this.showingDotList.splice(o,1)}}if(this.bubble&&this.bubble.list.length)for(var o=0;o<this.bubble.list.length;o++){var v=this.bubble.list[o],g=v.time,m=n-g;300>m&&m>0&&(this.bubble.pop(v.title,r),o==this.bubble.list.length-1&&this.bubble._getList())}}.bind(this),300)},p.prototype._stopLoop=function(){clearInterval(this.setIntervalId)},p.prototype._play=function(){this.player.play(),this.player.show_the_player_bar()},p.prototype._pause=function(){this.player.pause(),this.player.hide_the_player_bar()},p.prototype.popTag=function(t){var e=new c(this,t);this.live_tags[t._id]=e,i("/api/tracks/showTag","POST",{tag:t._id},function(){console.log("tag showed track")})},p.prototype.deleteTag=function(t){console.log("tag closed track"),this.live_tags[t].close()},p.prototype.previewTag=function(t){var e=t.dot_user.time/1e3-2;0>e&&(e=0),this.player.jumpTo(e),setTimeout(function(){var e=new c(this,t);3!=t.dg.cat&&e.tip.trigger("click")}.bind(this),2e3)},p.prototype.popBubble=function(t,e){this.bubble.pop(t,this.player.get_time(),e)},p.prototype.next=function(t){this._stopLoop(),this.options.video=t,this._getVideo(),this.player=this.player.set_src(t)},p.prototype.destroy=function(){this.player.destroy(),clearInterval(this.setIntervalId),u(this.parent).empty()},p}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return{lengthInUtf8Bytes:function(t){var e=encodeURIComponent(t).match(/%[89ABab]/g);return t.length+(e?e.length:0)},lengthInPageEncoding:function(t){var e=document.createElement("A");e.href="#"+t;var i=e.href;i=i.substring(i.indexOf("#")+1);var n=i.match(/%[0-9a-f]{2}/g);return i.length-(n?2*n.length:0)},getOffset:function(t){function e(t){for(var e={x:0,y:0};t;)e.x+=t.offsetLeft+t.clientLeft,e.y+=t.offsetTop+t.clientTop,t=t.offsetParent;return e}var i=t.target;void 0==i.offsetLeft&&(i=i.parentNode);var n=e(i),r={x:window.pageXOffset+t.clientX,y:window.pageYOffset+t.clientY},o={offsetX:r.x-n.x,offsetY:r.y-n.y};return o},parseQuery:function(t){for(var e={},i=t.split("&"),n=0;n<i.length;n++){var r=i[n].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e},docCookies:{getItem:function(t){return t?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(t,e,i,n,r,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(i)switch(i.constructor){case Number:a=i===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:a="; expires="+i;break;case Date:a="; expires="+i.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(r?"; domain="+r:"")+(n?"; path="+n:"")+(o?"; secure":""),!0},removeItem:function(t,e,i){return this.hasItem(t)?(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(e?"; path="+e:""),!0):!1},hasItem:function(t){return t?new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=t.length,i=0;e>i;i++)t[i]=decodeURIComponent(t[i]);return t}}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(3),i(4)],r=function(t,e){return function(i){if(t.isMongoId(i))return"#videoId="+i;var n;if(/static\.video\.qq/.test(i)){n=i.substr(i.indexOf("vid="));var r=tools.parseQuery(n).vid;i="http://v.qq.com/cover/9/9yqopbftj96gq4n.html?vid="+r}else if(/player\.youku/.test(i))if(/sid/.test(i)){var o=i.substring(i.indexOf("sid")+4,i.indexOf("/v.swf"));i="http://v.youku.com/v_show/id_"+o+"==.html"}else if(/embed/.test(i)){var o=i.substring(i.indexOf("embed")+6);i="http://v.youku.com/v_show/id_"+o+"==.html"}if(/^\$.+\$(youku|letv|pptv|tudou|qq|iqiyi|sohu)/.test(i)){var a=i.split("$");if("youku"==a[2])i="http://v.youku.com/v_show/id_"+a[1]+"==.html";else if("letv"==a[2])i="http://www.letv.com/ptv/vplay/"+a[1]+".html";else if("pptv"==a[2])i="http://v.pptv.com/show/"+a[1]+".html";else{if("tudou"==a[2]){var s='<embed allowNetworking="internal" allowFullScreen="true" allowscriptaccess="never" src="http://www.tudou.com/a/oO9sKFzT3Gs/&resourceId=0_05_05_99&iid='+a[1]+'&bid=05/v.swf&autoPlay=true" type="application/x-shockwave-flash" width="100%" height="100%"></embed>';return void e(this.parent).html(s)}if("qq"==a[2]){var s='<embed height="100%" width="100%" flashvars="vid='+a[1]+'&amp;skin=http://imgcache.qq.com/minivideo_v1/vd/res/skins/QQPlayerSkin.swf&amp;autoplay=1&amp;gourl=http://video.qq.com/v1/videopl?v=&amp;list=1&amp;" allowfullscreen="true" wmode="Opaque" allowscriptaccess="always" quality="high" src="http://cache.tv.qq.com/QQPlayer.swf" type="application/x-shockwave-flash" id="player">';return void e(this.parent).html(s)}if("iqiyi"==a[2])return void ivaAlert(e(this.parent),"暂不支持爱奇艺视频id");if("sohu"==a[2]){var s='<embed type="application/x-shockwave-flash" src="http://tv.sohu.com/upload/swf/20101021/Main.swf?autoplay=true&vid='+a[1]+'" width="100%" height="100%" type="application/x-shockwave-flash" allowFullScreen="true" allownetworking="internal" allowscriptaccess="never" wmode="opaque">';return void e(this.parent).html(s)}}}return i}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){!function(e,i){t.exports=i()}("validator",function(t){"use strict";function e(t,e){t=t||{};for(var i in e)"undefined"==typeof t[i]&&(t[i]=e[i]);return t}function i(t){var e="(\\"+t.symbol.replace(/\./g,"\\.")+")"+(t.require_symbol?"":"?"),i="-?",n="[1-9]\\d*",r="[1-9]\\d{0,2}(\\"+t.thousands_separator+"\\d{3})*",o=["0",n,r],a="("+o.join("|")+")?",s="(\\"+t.decimal_separator+"\\d{2})?",l=a+s;return t.allow_negatives&&!t.parens_for_negatives&&(t.negative_sign_after_digits?l+=i:t.negative_sign_before_digits&&(l=i+l)),t.allow_negative_sign_placeholder?l="( (?!\\-))?"+l:t.allow_space_after_symbol?l=" ?"+l:t.allow_space_after_digits&&(l+="( (?!$))?"),t.symbol_after_digits?l+=e:l=e+l,t.allow_negatives&&(t.parens_for_negatives?l="(\\("+l+"\\)|"+l+")":t.negative_sign_before_digits||t.negative_sign_after_digits||(l=i+l)),new RegExp("^(?!-? )(?=.*\\d)"+l+"$")}t={version:"3.40.0"};var n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e])|(\\[\x01-\x09\x0b\x0c\x0d-\x7f])))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))$/i,r=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))$/i,o=/^(?:[a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~\.]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(?:[a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~\.]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\s)*<(.+)>$/i,a=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,s=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/,l=/^(?:[0-9]{9}X|[0-9]{10})$/,c=/^(?:[0-9]{13})$/,h=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,d=/^[0-9A-F]{1,4}$/i,u={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},p=/^[A-Z]+$/i,f=/^[0-9A-Z]+$/i,v=/^[-+]?[0-9]+$/,g=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,m=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,y=/^[0-9A-F]+$/i,_=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i,b=/^[\x00-\x7F]+$/,w=/[^\x00-\x7F]/,x=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,k=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,C=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,P=/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i,T={"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"pt-PT":/^(\+351)?9[1236]\d{7}$/,"el-GR":/^(\+30)?((2\d{9})|(69\d{8}))$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"en-ZM":/^(\+26)?09[567]\d{7}$/};t.extend=function(e,i){t[e]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=t.toString(e[0]),i.apply(t,e)}},t.init=function(){for(var e in t)"function"==typeof t[e]&&"toString"!==e&&"toDate"!==e&&"extend"!==e&&"init"!==e&&t.extend(e,t[e])},t.toString=function(t){return"object"==typeof t&&null!==t&&t.toString?t=t.toString():null===t||"undefined"==typeof t||isNaN(t)&&!t.length?t="":"string"!=typeof t&&(t+=""),t},t.toDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)?t:(t=Date.parse(t),isNaN(t)?null:new Date(t))},t.toFloat=function(t){return parseFloat(t)},t.toInt=function(t,e){return parseInt(t,e||10)},t.toBoolean=function(t,e){return e?"1"===t||"true"===t:"0"!==t&&"false"!==t&&""!==t},t.equals=function(e,i){return e===t.toString(i)},t.contains=function(e,i){return e.indexOf(t.toString(i))>=0},t.matches=function(t,e,i){return"[object RegExp]"!==Object.prototype.toString.call(e)&&(e=new RegExp(e,i)),e.test(t)};var E={allow_display_name:!1,allow_utf8_local_part:!0,require_tld:!0};t.isEmail=function(i,a){if(a=e(a,E),a.allow_display_name){var s=i.match(o);s&&(i=s[1])}else if(/\s/.test(i))return!1;var l=i.split("@"),c=l.pop(),h=l.join("@");return t.isFQDN(c,{require_tld:a.require_tld})?a.allow_utf8_local_part?r.test(h):n.test(h):!1};var S={protocols:["http","https","ftp","tomyapp","tomyapps"],require_tld:!0,require_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1};t.isURL=function(i,n){if(!i||i.length>=2083||/\s/.test(i))return!1;if(0===i.indexOf("mailto:"))return!1;n=e(n,S);var r,o,a,s,l,c,h;if(h=i.split("://"),h.length>1){if(r=h.shift(),-1===n.protocols.indexOf(r))return!1}else{if(n.require_protocol)return!1;n.allow_protocol_relative_urls&&"//"===i.substr(0,2)&&(h[0]=i.substr(2))}return i=h.join("://"),h=i.split("#"),i=h.shift(),h=i.split("?"),i=h.shift(),h=i.split("/"),i=h.shift(),h=i.split("@"),h.length>1&&(o=h.shift(),o.indexOf(":")>=0&&o.split(":").length>2)?!1:(s=h.join("@"),h=s.split(":"),a=h.shift(),h.length&&(c=h.join(":"),l=parseInt(c,10),!/^[0-9]+$/.test(c)||0>=l||l>65535)?!1:t.isIP(a)||t.isFQDN(a,n)||"localhost"===a?n.host_whitelist&&-1===n.host_whitelist.indexOf(a)?!1:n.host_blacklist&&-1!==n.host_blacklist.indexOf(a)?!1:!0:!1)},t.isIP=function(e,i){if(i=t.toString(i),!i)return t.isIP(e,4)||t.isIP(e,6);if("4"===i){if(!h.test(e))return!1;var n=e.split(".").sort(function(t,e){return t-e});return n[3]<=255}if("6"===i){var r=e.split(":"),o=!1;if(r.length>8)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(r.shift(),r.shift(),o=!0):"::"===e.substr(e.length-2)&&(r.pop(),r.pop(),o=!0);for(var a=0;a<r.length;++a)if(""===r[a]&&a>0&&a<r.length-1){if(o)return!1;o=!0}else if(!d.test(r[a]))return!1;return o?r.length>=1:8===r.length}return!1};var D={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};t.isFQDN=function(t,i){i=e(i,D),i.allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var n=t.split(".");if(i.require_tld){var r=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(r))return!1}for(var o,a=0;a<n.length;a++){if(o=n[a],i.allow_underscores){if(o.indexOf("__")>=0)return!1;o=o.replace(/_/g,"")}if(!/^[a-z\u00a1-\uffff0-9-]+$/i.test(o))return!1;if("-"===o[0]||"-"===o[o.length-1]||o.indexOf("---")>=0)return!1}return!0},t.isBoolean=function(t){return["true","false","1","0"].indexOf(t)>=0},t.isAlpha=function(t){return p.test(t)},t.isAlphanumeric=function(t){return f.test(t)},t.isNumeric=function(t){return v.test(t)},t.isHexadecimal=function(t){return y.test(t)},t.isHexColor=function(t){return _.test(t)},t.isLowercase=function(t){return t===t.toLowerCase()},t.isUppercase=function(t){return t===t.toUpperCase()},t.isInt=function(t,e){return e=e||{},g.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},t.isFloat=function(t,e){return e=e||{},""!==t&&m.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},t.isDivisibleBy=function(e,i){return t.toFloat(e)%t.toInt(i)===0},t.isNull=function(t){return 0===t.length},t.isLength=function(t,e,i){var n=t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],r=t.length-n.length;return r>=e&&("undefined"==typeof i||i>=r)},t.isByteLength=function(t,e,i){return t.length>=e&&("undefined"==typeof i||t.length<=i)},t.isUUID=function(t,e){var i=u[e?e:"all"];return i&&i.test(t)},t.isDate=function(t){return!isNaN(Date.parse(t))},t.isAfter=function(e,i){var n=t.toDate(i||new Date),r=t.toDate(e);return!!(r&&n&&r>n)},t.isBefore=function(e,i){var n=t.toDate(i||new Date),r=t.toDate(e);return r&&n&&n>r},t.isIn=function(e,i){var n;if("[object Array]"===Object.prototype.toString.call(i)){var r=[];for(n in i)r[n]=t.toString(i[n]);return r.indexOf(e)>=0}return"object"==typeof i?i.hasOwnProperty(e):i&&"function"==typeof i.indexOf?i.indexOf(e)>=0:!1},t.isCreditCard=function(t){var e=t.replace(/[^0-9]+/g,"");if(!a.test(e))return!1;for(var i,n,r,o=0,s=e.length-1;s>=0;s--)i=e.substring(s,s+1),n=parseInt(i,10),r?(n*=2,o+=n>=10?n%10+1:n):o+=n,r=!r;return!!(o%10===0?e:!1)},t.isISIN=function(t){if(!s.test(t))return!1;for(var e,i,n=t.replace(/[A-Z]/g,function(t){return parseInt(t,36)}),r=0,o=!0,a=n.length-2;a>=0;a--)e=n.substring(a,a+1),i=parseInt(e,10),o?(i*=2,r+=i>=10?i+1:i):r+=i,o=!o;return parseInt(t.substr(t.length-1),10)===(1e4-r)%10},t.isISBN=function(e,i){if(i=t.toString(i),!i)return t.isISBN(e,10)||t.isISBN(e,13);var n,r=e.replace(/[\s-]+/g,""),o=0;if("10"===i){if(!l.test(r))return!1;for(n=0;9>n;n++)o+=(n+1)*r.charAt(n);if(o+="X"===r.charAt(9)?100:10*r.charAt(9),o%11===0)return!!r}else if("13"===i){if(!c.test(r))return!1;var a=[1,3];for(n=0;12>n;n++)o+=a[n%2]*r.charAt(n);if(r.charAt(12)-(10-o%10)%10===0)return!!r}return!1},t.isMobilePhone=function(t,e){return e in T?T[e].test(t):!1};var I={symbol:"$",require_symbol:!1,
allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};t.isCurrency=function(t,n){return n=e(n,I),i(n).test(t)},t.isJSON=function(t){try{JSON.parse(t)}catch(e){return!1}return!0},t.isMultibyte=function(t){return w.test(t)},t.isAscii=function(t){return b.test(t)},t.isFullWidth=function(t){return x.test(t)},t.isHalfWidth=function(t){return k.test(t)},t.isVariableWidth=function(t){return x.test(t)&&k.test(t)},t.isSurrogatePair=function(t){return C.test(t)},t.isBase64=function(t){return P.test(t)},t.isMongoId=function(e){return t.isHexadecimal(e)&&24===e.length},t.ltrim=function(t,e){var i=e?new RegExp("^["+e+"]+","g"):/^\s+/g;return t.replace(i,"")},t.rtrim=function(t,e){var i=e?new RegExp("["+e+"]+$","g"):/\s+$/g;return t.replace(i,"")},t.trim=function(t,e){var i=e?new RegExp("^["+e+"]+|["+e+"]+$","g"):/^\s+|\s+$/g;return t.replace(i,"")},t.escape=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\`/g,"&#96;")},t.stripLow=function(e,i){var n=i?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return t.blacklist(e,n)},t.whitelist=function(t,e){return t.replace(new RegExp("[^"+e+"]+","g"),"")},t.blacklist=function(t,e){return t.replace(new RegExp("["+e+"]+","g"),"")};var $={lowercase:!0};return t.normalizeEmail=function(i,n){if(n=e(n,$),!t.isEmail(i))return!1;var r=i.split("@",2);if(r[1]=r[1].toLowerCase(),"gmail.com"===r[1]||"googlemail.com"===r[1]){if(r[0]=r[0].toLowerCase().replace(/\./g,""),"+"===r[0][0])return!1;r[0]=r[0].split("+")[0],r[1]="gmail.com"}else n.lowercase&&(r[0]=r[0].toLowerCase());return r.join("@")},t.init(),t})},function(t,e,i){var n,r;n=[i(7),i(30),i(33),i(49),i(48),i(47),i(50),i(51),i(52),i(55),i(34),i(61),i(17),i(62),i(68),i(5),i(69),i(70),i(63),i(71),i(72),i(73),i(74),i(76),i(53),i(77),i(78),i(79),i(80),i(81)],r=function(t){return t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(39),i(22),i(37),i(38),i(40),i(41),i(42),i(43),i(6),i(44),i(45),i(25),i(26),i(46),i(47),i(30)],r=function(t,e,i,n,r,o,a,s,l,c,h,d,u){function p(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,r=k.length;r--;)if(e=k[r]+i,e in t)return e;return n}function f(t,e,i){var n=_.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function v(e,i,n,r,a){for(var s=n===(r?"border":"content")?4:"width"===i?1:0,l=0;4>s;s+=2)"margin"===n&&(l+=t.css(e,n+o[s],!0,a)),r?("content"===n&&(l-=t.css(e,"padding"+o[s],!0,a)),"margin"!==n&&(l-=t.css(e,"border"+o[s]+"Width",!0,a))):(l+=t.css(e,"padding"+o[s],!0,a),"padding"!==n&&(l+=t.css(e,"border"+o[s]+"Width",!0,a)));return l}function g(e,i,n){var o=!0,a="width"===i?e.offsetWidth:e.offsetHeight,c=s(e),h="border-box"===t.css(e,"boxSizing",!1,c);if(0>=a||null==a){if(a=l(e,i,c),(0>a||null==a)&&(a=e.style[i]),r.test(a))return a;o=h&&(d.boxSizingReliable()||a===e.style[i]),a=parseFloat(a)||0}return a+v(e,i,n||(h?"border":"content"),o,c)+"px"}function m(e,i){for(var n,r,o,s=[],l=0,h=e.length;h>l;l++)r=e[l],r.style&&(s[l]=u.get(r,"olddisplay"),n=r.style.display,i?(s[l]||"none"!==n||(r.style.display=""),""===r.style.display&&a(r)&&(s[l]=u.access(r,"olddisplay",c(r.nodeName)))):(o=a(r),"none"===n&&o||u.set(r,"olddisplay",o?n:t.css(r,"display"))));for(l=0;h>l;l++)r=e[l],r.style&&(i&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=i?s[l]||"":"none"));return e}var y=/^(none|table(?!-c[ea]).+)/,_=new RegExp("^("+e+")(.*)$","i"),b=new RegExp("^([+-])=("+e+")","i"),w={position:"absolute",visibility:"hidden",display:"block"},x={letterSpacing:"0",fontWeight:"400"},k=["Webkit","O","Moz","ms"];return t.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=l(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=t.camelCase(i),c=e.style;return i=t.cssProps[l]||(t.cssProps[l]=p(c,l)),s=t.cssHooks[i]||t.cssHooks[l],void 0===n?s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:c[i]:(a=typeof n,"string"===a&&(o=b.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(t.css(e,i)),a="number"),null!=n&&n===n&&("number"!==a||t.cssNumber[l]||(n+="px"),d.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(c[i]=n)),void 0)}},css:function(e,i,n,r){var o,a,s,c=t.camelCase(i);return i=t.cssProps[c]||(t.cssProps[c]=p(e.style,c)),s=t.cssHooks[i]||t.cssHooks[c],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=l(e,i,r)),"normal"===o&&i in x&&(o=x[i]),""===n||n?(a=parseFloat(o),n===!0||t.isNumeric(a)?a||0:o):o}}),t.each(["height","width"],function(e,i){t.cssHooks[i]={get:function(e,n,r){return n?y.test(t.css(e,"display"))&&0===e.offsetWidth?t.swap(e,w,function(){return g(e,i,r)}):g(e,i,r):void 0},set:function(e,n,r){var o=r&&s(e);return f(e,n,r?v(e,i,r,"border-box"===t.css(e,"boxSizing",!1,o),o):0)}}}),t.cssHooks.marginRight=h(d.reliableMarginRight,function(e,i){return i?t.swap(e,{display:"inline-block"},l,[e,"marginRight"]):void 0}),t.each({margin:"",padding:"",border:"Width"},function(e,i){t.cssHooks[e+i]={expand:function(t){for(var n=0,r={},a="string"==typeof t?t.split(" "):[t];4>n;n++)r[e+o[n]+i]=a[n]||a[n-2]||a[0];return r}},n.test(e)||(t.cssHooks[e+i].set=f)}),t.fn.extend({css:function(e,n){return i(this,function(e,i,n){var r,o,a={},l=0;if(t.isArray(i)){for(r=s(e),o=i.length;o>l;l++)a[i[l]]=t.css(e,i[l],!1,r);return a}return void 0!==n?t.style(e,i,n):t.css(e,i)},e,n,arguments.length>1)},show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){a(this)?t(this).show():t(this).hide()})}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(17)],r=function(t){function e(e,i){var n,r=t(i.createElement(e)).appendTo(i.body),o=window.getDefaultComputedStyle&&(n=window.getDefaultComputedStyle(r[0]))?n.display:t.css(r[0],"display");return r.detach(),o}function i(i){var o=document,a=r[i];return a||(a=e(i,o),"none"!==a&&a||(n=(n||t("<iframe frameborder='0' width='0' height='0'/>")).appendTo(o.documentElement),o=n[0].contentDocument,o.write(),o.close(),a=e(i,o),n.detach()),r[i]=a),a}var n,r={};return i}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(8),i(9),i(10),i(11),i(12),i(13),i(14),i(15),i(16)],r=function(t,e,i,n,r,o,a,s,l){function c(t){var e="length"in t&&t.length,i=u.type(t);return"function"===i||u.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}var h=window.document,d="@VERSION",u=function(t,e){return new u.fn.init(t,e)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,f=/^-ms-/,v=/-([\da-z])/gi,g=function(t,e){return e.toUpperCase()};return u.fn=u.prototype={jquery:d,constructor:u,selector:"",length:0,toArray:function(){return e.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:e.call(this)},pushStack:function(t){var e=u.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return u.each(this,t,e)},map:function(t){return this.pushStack(u.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:n,sort:t.sort,splice:t.splice},u.extend=u.fn.extend=function(){var t,e,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||u.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)i=a[e],n=t[e],a!==n&&(c&&n&&(u.isPlainObject(n)||(r=u.isArray(n)))?(r?(r=!1,o=i&&u.isArray(i)?i:[]):o=i&&u.isPlainObject(i)?i:{},a[e]=u.extend(c,o,n)):void 0!==n&&(a[e]=n));return a},u.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===u.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!u.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==u.type(t)||t.nodeType||u.isWindow(t)?!1:t.constructor&&!s.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?o[a.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=u.trim(t),t&&(1===t.indexOf("use strict")?(e=h.createElement("script"),e.text=t,h.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(f,"ms-").replace(v,g)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var n,r=0,o=t.length,a=c(t);if(i){if(a)for(;o>r&&(n=e.apply(t[r],i),n!==!1);r++);else for(r in t)if(n=e.apply(t[r],i),n===!1)break}else if(a)for(;o>r&&(n=e.call(t[r],r,t[r]),n!==!1);r++);else for(r in t)if(n=e.call(t[r],r,t[r]),n===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(p,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(c(Object(t))?u.merge(i,"string"==typeof t?[t]:t):n.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:r.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;i>n;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,a=t.length,s=!i;a>o;o++)n=!e(t[o],o),n!==s&&r.push(t[o]);return r},map:function(t,e,n){var r,o=0,a=t.length,s=c(t),l=[];if(s)for(;a>o;o++)r=e(t[o],o,n),null!=r&&l.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&l.push(r);return i.apply([],l)},guid:1,proxy:function(t,i){var n,r,o;return"string"==typeof i&&(n=t[i],i=t,t=n),u.isFunction(t)?(r=e.call(arguments,2),o=function(){return t.apply(i||this,r.concat(e.call(arguments)))},o.guid=t.guid=t.guid||u.guid++,o):void 0},now:Date.now,support:l}),u.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){o["[object "+e+"]"]=e.toLowerCase()}),u}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return[]}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(8)],r=function(t){return t.slice}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(8)],r=function(t){return t.concat}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(8)],r=function(t){return t.push}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(8)],r=function(t){return t.indexOf}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return{}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(13)],r=function(t){return t.toString}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(13)],r=function(t){return t.hasOwnProperty}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return{}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(7),i(10),i(11),i(22),i(23),i(24),i(25),i(18),i(26),i(21),i(33),i(30),i(34)],r=function(t,e,i,n,r,o,a,s){function l(e,i){return t.nodeName(e,"table")&&t.nodeName(11!==i.nodeType?i:i.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function c(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function h(t){var e=w.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function d(t,e){for(var i=0,n=t.length;n>i;i++)a.set(t[i],"globalEval",!e||a.get(e[i],"globalEval"))}function u(e,i){var n,r,o,l,c,h,d,u;if(1===i.nodeType){if(a.hasData(e)&&(l=a.access(e),c=a.set(i,l),u=l.events)){delete c.handle,c.events={};for(o in u)for(n=0,r=u[o].length;r>n;n++)t.event.add(i,o,u[o][n])}s.hasData(e)&&(h=s.access(e),d=t.extend({},h),s.set(i,d))}}function p(e,i){var n=e.getElementsByTagName?e.getElementsByTagName(i||"*"):e.querySelectorAll?e.querySelectorAll(i||"*"):[];return void 0===i||i&&t.nodeName(e,i)?t.merge([e],n):n}function f(t,e){var i=e.nodeName.toLowerCase();"input"===i&&r.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}var v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,g=/<([\w:]+)/,m=/<|&#?\w+;/,y=/<(?:script|style|link)/i,_=/checked\s*(?:[^=]|=\s*.checked.)/i,b=/^$|\/(?:java|ecma)script/i,w=/^true\/(.*)/,x=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,k={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};return k.optgroup=k.option,k.tbody=k.tfoot=k.colgroup=k.caption=k.thead,k.th=k.td,t.extend({clone:function(e,i,n){var r,a,s,l,c=e.cloneNode(!0),h=t.contains(e.ownerDocument,e);if(!(o.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||t.isXMLDoc(e)))for(l=p(c),s=p(e),r=0,a=s.length;a>r;r++)f(s[r],l[r]);if(i)if(n)for(s=s||p(e),l=l||p(c),r=0,a=s.length;a>r;r++)u(s[r],l[r]);else u(e,c);return l=p(c,"script"),l.length>0&&d(l,!h&&p(e,"script")),c},buildFragment:function(e,i,n,r){for(var o,a,s,l,c,h,u=i.createDocumentFragment(),f=[],y=0,_=e.length;_>y;y++)if(o=e[y],o||0===o)if("object"===t.type(o))t.merge(f,o.nodeType?[o]:o);else if(m.test(o)){for(a=a||u.appendChild(i.createElement("div")),s=(g.exec(o)||["",""])[1].toLowerCase(),l=k[s]||k._default,a.innerHTML=l[1]+o.replace(v,"<$1></$2>")+l[2],h=l[0];h--;)a=a.lastChild;t.merge(f,a.childNodes),a=u.firstChild,a.textContent=""}else f.push(i.createTextNode(o));for(u.textContent="",y=0;o=f[y++];)if((!r||-1===t.inArray(o,r))&&(c=t.contains(o.ownerDocument,o),a=p(u.appendChild(o),"script"),c&&d(a),n))for(h=0;o=a[h++];)b.test(o.type||"")&&n.push(o);return u},cleanData:function(e){for(var i,n,r,o,l=t.event.special,c=0;void 0!==(n=e[c]);c++){if(t.acceptData(n)&&(o=n[a.expando],o&&(i=a.cache[o]))){if(i.events)for(r in i.events)l[r]?t.event.remove(n,r):t.removeEvent(n,r,i.handle);a.cache[o]&&delete a.cache[o]}delete s.cache[n[s.expando]]}}}),t.fn.extend({text:function(e){return n(this,function(e){return void 0===e?t.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=l(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=l(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(e,i){for(var n,r=e?t.filter(e,this):this,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||t.cleanData(p(n)),n.parentNode&&(i&&t.contains(n.ownerDocument,n)&&d(p(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,i=0;null!=(e=this[i]);i++)1===e.nodeType&&(t.cleanData(p(e,!1)),e.textContent="");return this},clone:function(e,i){return e=null==e?!1:e,i=null==i?e:i,this.map(function(){return t.clone(this,e,i)})},html:function(e){return n(this,function(e){var i=this[0]||{},n=0,r=this.length;if(void 0===e&&1===i.nodeType)return i.innerHTML;if("string"==typeof e&&!y.test(e)&&!k[(g.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(v,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(t.cleanData(p(i,!1)),i.innerHTML=e);i=0}catch(o){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(i){e=this.parentNode,t.cleanData(p(this)),e&&e.replaceChild(i,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(i,n){i=e.apply([],i);var r,s,l,d,u,f,v=0,g=this.length,m=this,y=g-1,w=i[0],k=t.isFunction(w);if(k||g>1&&"string"==typeof w&&!o.checkClone&&_.test(w))return this.each(function(t){var e=m.eq(t);k&&(i[0]=w.call(this,t,e.html())),e.domManip(i,n)});if(g&&(r=t.buildFragment(i,this[0].ownerDocument,!1,this),s=r.firstChild,1===r.childNodes.length&&(r=s),s)){for(l=t.map(p(r,"script"),c),d=l.length;g>v;v++)u=r,v!==y&&(u=t.clone(u,!0,!0),d&&t.merge(l,p(u,"script"))),n.call(this[v],u,v);if(d)for(f=l[l.length-1].ownerDocument,t.map(l,h),v=0;d>v;v++)u=l[v],b.test(u.type||"")&&!a.access(u,"globalEval")&&t.contains(f,u)&&(u.src?t._evalUrl&&t._evalUrl(u.src):t.globalEval(u.textContent.replace(x,"")))}return this}}),t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,n){t.fn[e]=function(e){for(var r,o=[],a=t(e),s=a.length-1,l=0;s>=l;l++)r=l===s?this:this.clone(!0),t(a[l])[n](r),i.apply(o,r.get());return this.pushStack(o)}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(19)],r=function(t){return new t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(20),i(21)],r=function(t,e){function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=t.expando+i.uid++}return i.uid=1,i.accepts=t.acceptData,i.prototype={key:function(e){if(!i.accepts(e))return 0;var n={},r=e[this.expando];if(!r){r=i.uid++;try{n[this.expando]={value:r},Object.defineProperties(e,n)}catch(o){n[this.expando]=r,t.extend(e,n)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,i,n){var r,o=this.key(e),a=this.cache[o];if("string"==typeof i)a[i]=n;else if(t.isEmptyObject(a))t.extend(this.cache[o],i);else for(r in i)a[r]=i[r];return a},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(e,i,n){var r;return void 0===i||i&&"string"==typeof i&&void 0===n?(r=this.get(e,i),void 0!==r?r:this.get(e,t.camelCase(i))):(this.set(e,i,n),void 0!==n?n:i)},remove:function(i,n){var r,o,a,s=this.key(i),l=this.cache[s];if(void 0===n)this.cache[s]={};else{t.isArray(n)?o=n.concat(n.map(t.camelCase)):(a=t.camelCase(n),n in l?o=[n,a]:(o=a,o=o in l?[o]:o.match(e)||[])),r=o.length;for(;r--;)delete l[o[r]]}},hasData:function(e){return!t.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}},i}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return/\S+/g}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(7)],r=function(t){return t.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},t.acceptData}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7)],r=function(t){var e=t.access=function(e,i,n,r,o,a,s){var l=0,c=e.length,h=null==n;if("object"===t.type(n)){o=!0;for(l in n)t.access(e,i,l,n[l],!0,a,s)}else if(void 0!==r&&(o=!0,t.isFunction(r)||(s=!0),h&&(s?(i.call(e,r),i=null):(h=i,i=function(e,i,n){return h.call(t(e),n)})),i))for(;c>l;l++)i(e[l],n,s?r:r.call(e[l],l,i(e[l],n)));return o?e:h?i.call(e):c?i(e[0],n):a};return e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return/^(?:checkbox|radio)$/i}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(16)],r=function(t){return function(){var e=document.createDocumentFragment(),i=e.appendChild(document.createElement("div")),n=document.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),i.appendChild(n),t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",t.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue}(),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(19)],r=function(t){return new t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(27),i(28)],r=function(t,e){var i,n=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,r=t.fn.init=function(r,o){var a,s;if(!r)return this;if("string"==typeof r){if(a="<"===r[0]&&">"===r[r.length-1]&&r.length>=3?[null,r,null]:n.exec(r),!a||!a[1]&&o)return!o||o.jquery?(o||i).find(r):this.constructor(o).find(r);if(a[1]){if(o=o instanceof t?o[0]:o,t.merge(this,t.parseHTML(a[1],o&&o.nodeType?o.ownerDocument||o:document,!0)),e.test(a[1])&&t.isPlainObject(o))for(a in o)t.isFunction(this[a])?this[a](o[a]):this.attr(a,o[a]);return this}return s=document.getElementById(a[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=document,this.selector=r,this}return r.nodeType?(this.context=this[0]=r,this.length=1,this):t.isFunction(r)?"undefined"!=typeof i.ready?i.ready(r):r(t):(void 0!==r.selector&&(this.selector=r.selector,this.context=r.context),t.makeArray(r,this))};return r.prototype=t.fn,i=t(document),r}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return/^<(\w+)\s*\/?>(?:<\/\1>|)$/}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(7),i(12),i(29),i(30)],r=function(t,e,i){function n(i,n,o){if(t.isFunction(n))return t.grep(i,function(t,e){return!!n.call(t,e,t)!==o});if(n.nodeType)return t.grep(i,function(t){return t===n!==o});if("string"==typeof n){if(r.test(n))return t.filter(n,i,o);n=t.filter(n,i)}return t.grep(i,function(t){return e.call(n,t)>=0!==o})}var r=/^.[^:#\[\.,]*$/;t.filter=function(e,i,n){var r=i[0];return n&&(e=":not("+e+")"),1===i.length&&1===r.nodeType?t.find.matchesSelector(r,e)?[r]:[]:t.find.matches(e,t.grep(i,function(t){return 1===t.nodeType}))},t.fn.extend({find:function(e){var i,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(t(e).filter(function(){for(i=0;n>i;i++)if(t.contains(o[i],this))return!0}));for(i=0;n>i;i++)t.find(e,o[i],r);return r=this.pushStack(n>1?t.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&i.test(e)?t(e):e||[],!1).length}})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(30)],r=function(t){return t.expr.match.needsContext}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(31)],r=function(){}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(32)],r=function(t,e){t.find=e,t.expr=e.selectors,t.expr[":"]=t.expr.pseudos,t.unique=e.uniqueSort,t.text=e.getText,t.isXMLDoc=e.isXML,t.contains=e.contains}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;!function(r){function o(t,e,i,n){var r,o,a,s,l,c,h,d,u,p;if((e?e.ownerDocument||e:q)!==M&&j(e),e=e||M,i=i||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return i;if(!n&&O){if(11!==s&&(r=xt.exec(t)))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return i;if(o.id===a)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&N(e,o)&&o.id===a)return i.push(o),i}else{if(r[2])return it.apply(i,e.getElementsByTagName(t)),i;if((a=r[3])&&P.getElementsByClassName)return it.apply(i,e.getElementsByClassName(a)),i}if(P.qsa&&(!R||!R.test(t))){if(d=h=W,u=e,p=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=D(t),(h=e.getAttribute("id"))?d=h.replace(Ct,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+g(c[l]);u=kt.test(t)&&f(e.parentNode)||e,p=c.join(",")}if(p)try{return it.apply(i,u.querySelectorAll(p)),i}catch(v){}finally{h||e.removeAttribute("id")}}}return $(t.replace(ut,"$1"),e,i,n)}function a(){function t(i,n){return e.push(i+" ")>T.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function s(t){return t[W]=!0,t}function l(t){var e=M.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function c(t,e){for(var i=t.split("|"),n=t.length;n--;)T.attrHandle[i[n]]=e}function h(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function d(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function u(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function p(t){return s(function(e){return e=+e,s(function(i,n){for(var r,o=t([],i.length,e),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function v(){}function g(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function m(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=V++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,a){var s,l,c=[U,o];if(a){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(l=e[W]||(e[W]={}),(s=l[n])&&s[0]===U&&s[1]===o)return c[2]=s[2];if(l[n]=c,c[2]=t(e,i,a))return!0}}}function y(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function _(t,e,i){for(var n=0,r=e.length;r>n;n++)o(t,e[n],i);return i}function b(t,e,i,n,r){for(var o,a=[],s=0,l=t.length,c=null!=e;l>s;s++)(o=t[s])&&(!i||i(o,n,r))&&(a.push(o),c&&e.push(s));return a}function w(t,e,i,n,r,o){return n&&!n[W]&&(n=w(n)),r&&!r[W]&&(r=w(r,o)),s(function(o,a,s,l){var c,h,d,u=[],p=[],f=a.length,v=o||_(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?v:b(v,u,t,s,l),m=i?r||(o?t:f||n)?[]:a:g;if(i&&i(g,m,s,l),n)for(c=b(m,p),n(c,[],s,l),h=c.length;h--;)(d=c[h])&&(m[p[h]]=!(g[p[h]]=d));if(o){if(r||t){if(r){for(c=[],h=m.length;h--;)(d=m[h])&&c.push(g[h]=d);r(null,m=[],c,l)}for(h=m.length;h--;)(d=m[h])&&(c=r?rt(o,d):u[h])>-1&&(o[c]=!(a[c]=d))}}else m=b(m===a?m.splice(f,m.length):m),r?r(null,a,m,l):it.apply(a,m)})}function x(t){for(var e,i,n,r=t.length,o=T.relative[t[0].type],a=o||T.relative[" "],s=o?1:0,l=m(function(t){return t===e},a,!0),c=m(function(t){return rt(e,t)>-1},a,!0),h=[function(t,i,n){var r=!o&&(n||i!==A)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,r}];r>s;s++)if(i=T.relative[t[s].type])h=[m(y(h),i)];else{if(i=T.filter[t[s].type].apply(null,t[s].matches),i[W]){for(n=++s;r>n&&!T.relative[t[n].type];n++);return w(s>1&&y(h),s>1&&g(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ut,"$1"),i,n>s&&x(t.slice(s,n)),r>n&&x(t=t.slice(n)),r>n&&g(t))}h.push(i)}return y(h)}function k(t,e){var i=e.length>0,n=t.length>0,r=function(r,a,s,l,c){var h,d,u,p=0,f="0",v=r&&[],g=[],m=A,y=r||n&&T.find.TAG("*",c),_=U+=null==m?1:Math.random()||.1,w=y.length;for(c&&(A=a!==M&&a);f!==w&&null!=(h=y[f]);f++){if(n&&h){for(d=0;u=t[d++];)if(u(h,a,s)){l.push(h);break}c&&(U=_)}i&&((h=!u&&h)&&p--,r&&v.push(h))}if(p+=f,i&&f!==p){for(d=0;u=e[d++];)u(v,g,a,s);if(r){if(p>0)for(;f--;)v[f]||g[f]||(g[f]=tt.call(l));g=b(g)}it.apply(l,g),c&&!r&&g.length>0&&p+e.length>1&&o.uniqueSort(l)}return c&&(U=_,A=m),v};return i?s(r):r}var C,P,T,E,S,D,I,$,A,F,L,j,M,z,O,R,B,H,N,W="sizzle"+1*new Date,q=r.document,U=0,V=0,Y=a(),X=a(),G=a(),J=function(t,e){return t===e&&(L=!0),0},K=1<<31,Z={}.hasOwnProperty,Q=[],tt=Q.pop,et=Q.push,it=Q.push,nt=Q.slice,rt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},ot="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",at="[\\x20\\t\\r\\n\\f]",st="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",lt=st.replace("w","w#"),ct="\\["+at+"*("+st+")(?:"+at+"*([*^$|!~]?=)"+at+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+lt+"))|)"+at+"*\\]",ht=":("+st+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ct+")*)|.*)\\)|)",dt=new RegExp(at+"+","g"),ut=new RegExp("^"+at+"+|((?:^|[^\\\\])(?:\\\\.)*)"+at+"+$","g"),pt=new RegExp("^"+at+"*,"+at+"*"),ft=new RegExp("^"+at+"*([>+~]|"+at+")"+at+"*"),vt=new RegExp("="+at+"*([^\\]'\"]*?)"+at+"*\\]","g"),gt=new RegExp(ht),mt=new RegExp("^"+lt+"$"),yt={ID:new RegExp("^#("+st+")"),CLASS:new RegExp("^\\.("+st+")"),TAG:new RegExp("^("+st.replace("w","w*")+")"),ATTR:new RegExp("^"+ct),PSEUDO:new RegExp("^"+ht),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+at+"*(even|odd|(([+-]|)(\\d*)n|)"+at+"*(?:([+-]|)"+at+"*(\\d+)|))"+at+"*\\)|)","i"),bool:new RegExp("^(?:"+ot+")$","i"),needsContext:new RegExp("^"+at+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+at+"*((?:-\\d)?\\d*)"+at+"*\\)|)(?=[^-]|$)","i")},_t=/^(?:input|select|textarea|button)$/i,bt=/^h\d$/i,wt=/^[^{]+\{\s*\[native \w/,xt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,kt=/[+~]/,Ct=/'|\\/g,Pt=new RegExp("\\\\([\\da-f]{1,6}"+at+"?|("+at+")|.)","ig"),Tt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Et=function(){j()};try{it.apply(Q=nt.call(q.childNodes),q.childNodes),Q[q.childNodes.length].nodeType}catch(St){it={apply:Q.length?function(t,e){et.apply(t,nt.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}P=o.support={},S=o.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},j=o.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==M&&9===n.nodeType&&n.documentElement?(M=n,z=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",Et,!1):i.attachEvent&&i.attachEvent("onunload",Et)),O=!S(n),P.attributes=l(function(t){return t.className="i",!t.getAttribute("className")}),P.getElementsByTagName=l(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),P.getElementsByClassName=wt.test(n.getElementsByClassName),P.getById=l(function(t){return z.appendChild(t).id=W,!n.getElementsByName||!n.getElementsByName(W).length}),P.getById?(T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},T.filter.ID=function(t){var e=t.replace(Pt,Tt);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(Pt,Tt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),T.find.TAG=P.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):P.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},T.find.CLASS=P.getElementsByClassName&&function(t,e){return O?e.getElementsByClassName(t):void 0},B=[],R=[],(P.qsa=wt.test(n.querySelectorAll))&&(l(function(t){z.appendChild(t).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+at+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+at+"*(?:value|"+ot+")"),t.querySelectorAll("[id~="+W+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+W+"+*").length||R.push(".#.+[+~]")}),l(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+at+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(P.matchesSelector=wt.test(H=z.matches||z.webkitMatchesSelector||z.mozMatchesSelector||z.oMatchesSelector||z.msMatchesSelector))&&l(function(t){
P.disconnectedMatch=H.call(t,"div"),H.call(t,"[s!='']:x"),B.push("!=",ht)}),R=R.length&&new RegExp(R.join("|")),B=B.length&&new RegExp(B.join("|")),e=wt.test(z.compareDocumentPosition),N=e||wt.test(z.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},J=e?function(t,e){if(t===e)return L=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!P.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===q&&N(q,t)?-1:e===n||e.ownerDocument===q&&N(q,e)?1:F?rt(F,t)-rt(F,e):0:4&i?-1:1)}:function(t,e){if(t===e)return L=!0,0;var i,r=0,o=t.parentNode,a=e.parentNode,s=[t],l=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:F?rt(F,t)-rt(F,e):0;if(o===a)return h(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;s[r]===l[r];)r++;return r?h(s[r],l[r]):s[r]===q?-1:l[r]===q?1:0},n):M},o.matches=function(t,e){return o(t,null,null,e)},o.matchesSelector=function(t,e){if((t.ownerDocument||t)!==M&&j(t),e=e.replace(vt,"='$1']"),P.matchesSelector&&O&&(!B||!B.test(e))&&(!R||!R.test(e)))try{var i=H.call(t,e);if(i||P.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(n){}return o(e,M,null,[t]).length>0},o.contains=function(t,e){return(t.ownerDocument||t)!==M&&j(t),N(t,e)},o.attr=function(t,e){(t.ownerDocument||t)!==M&&j(t);var i=T.attrHandle[e.toLowerCase()],n=i&&Z.call(T.attrHandle,e.toLowerCase())?i(t,e,!O):void 0;return void 0!==n?n:P.attributes||!O?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},o.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},o.uniqueSort=function(t){var e,i=[],n=0,r=0;if(L=!P.detectDuplicates,F=!P.sortStable&&t.slice(0),t.sort(J),L){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return F=null,t},E=o.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=E(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=E(e);return i},T=o.selectors={cacheLength:50,createPseudo:s,match:yt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Pt,Tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Pt,Tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||o.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&o.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return yt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&gt.test(i)&&(e=D(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Pt,Tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Y[t+" "];return e||(e=new RegExp("(^|"+at+")"+t+"("+at+"|$)"))&&Y(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var r=o.attr(n,t);return null==r?"!="===e:e?(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(dt," ")+" ").indexOf(i)>-1:"|="===e?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,h,d,u,p,f,v=o!==a?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;v;){for(d=e;d=d[v];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;f=v="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(h=g[W]||(g[W]={}),c=h[t]||[],p=c[0]===U&&c[1],u=c[0]===U&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[v]||(u=p=0)||f.pop();)if(1===d.nodeType&&++u&&d===e){h[t]=[U,p,u];break}}else if(y&&(c=(e[W]||(e[W]={}))[t])&&c[0]===U)u=c[1];else for(;(d=++p&&d&&d[v]||(u=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++u||(y&&((d[W]||(d[W]={}))[t]=[U,u]),d!==e)););return u-=r,u===n||u%n===0&&u/n>=0}}},PSEUDO:function(t,e){var i,n=T.pseudos[t]||T.setFilters[t.toLowerCase()]||o.error("unsupported pseudo: "+t);return n[W]?n(e):n.length>1?(i=[t,t,"",e],T.setFilters.hasOwnProperty(t.toLowerCase())?s(function(t,i){for(var r,o=n(t,e),a=o.length;a--;)r=rt(t,o[a]),t[r]=!(i[r]=o[a])}):function(t){return n(t,0,i)}):n}},pseudos:{not:s(function(t){var e=[],i=[],n=I(t.replace(ut,"$1"));return n[W]?s(function(t,e,i,r){for(var o,a=n(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,n(e,null,o,i),e[0]=null,!i.pop()}}),has:s(function(t){return function(e){return o(t,e).length>0}}),contains:s(function(t){return t=t.replace(Pt,Tt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:s(function(t){return mt.test(t||"")||o.error("unsupported lang: "+t),t=t.replace(Pt,Tt).toLowerCase(),function(e){var i;do if(i=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=r.location&&r.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===z},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return bt.test(t.nodeName)},input:function(t){return _t.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:p(function(){return[0]}),last:p(function(t,e){return[e-1]}),eq:p(function(t,e,i){return[0>i?i+e:i]}),even:p(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:p(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:p(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:p(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},T.pseudos.nth=T.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[C]=d(C);for(C in{submit:!0,reset:!0})T.pseudos[C]=u(C);v.prototype=T.filters=T.pseudos,T.setFilters=new v,D=o.tokenize=function(t,e){var i,n,r,a,s,l,c,h=X[t+" "];if(h)return e?0:h.slice(0);for(s=t,l=[],c=T.preFilter;s;){(!i||(n=pt.exec(s)))&&(n&&(s=s.slice(n[0].length)||s),l.push(r=[])),i=!1,(n=ft.exec(s))&&(i=n.shift(),r.push({value:i,type:n[0].replace(ut," ")}),s=s.slice(i.length));for(a in T.filter)!(n=yt[a].exec(s))||c[a]&&!(n=c[a](n))||(i=n.shift(),r.push({value:i,type:a,matches:n}),s=s.slice(i.length));if(!i)break}return e?s.length:s?o.error(t):X(t,l).slice(0)},I=o.compile=function(t,e){var i,n=[],r=[],o=G[t+" "];if(!o){for(e||(e=D(t)),i=e.length;i--;)o=x(e[i]),o[W]?n.push(o):r.push(o);o=G(t,k(r,n)),o.selector=t}return o},$=o.select=function(t,e,i,n){var r,o,a,s,l,c="function"==typeof t&&t,h=!n&&D(t=c.selector||t);if(i=i||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&P.getById&&9===e.nodeType&&O&&T.relative[o[1].type]){if(e=(T.find.ID(a.matches[0].replace(Pt,Tt),e)||[])[0],!e)return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=yt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!T.relative[s=a.type]);)if((l=T.find[s])&&(n=l(a.matches[0].replace(Pt,Tt),kt.test(o[0].type)&&f(e.parentNode)||e))){if(o.splice(r,1),t=n.length&&g(o),!t)return it.apply(i,n),i;break}}return(c||I(t,h))(n,e,!O,i,kt.test(t)&&f(e.parentNode)||e),i},P.sortStable=W.split("").sort(J).join("")===W,P.detectDuplicates=!!L,j(),P.sortDetached=l(function(t){return 1&t.compareDocumentPosition(M.createElement("div"))}),l(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||c("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),P.attributes&&l(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||c("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),l(function(t){return null==t.getAttribute("disabled")})||c(ot,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),n=function(){return o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(window)},function(t,e,i){var n,r;n=[i(7),i(12),i(29),i(26),i(28),i(30)],r=function(t,e,i){function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}var r=/^(?:parents|prev(?:Until|All))/,o={children:!0,contents:!0,next:!0,prev:!0};return t.extend({dir:function(e,i,n){for(var r=[],o=void 0!==n;(e=e[i])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&t(e).is(n))break;r.push(e)}return r},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),t.fn.extend({has:function(e){var i=t(e,this),n=i.length;return this.filter(function(){for(var e=0;n>e;e++)if(t.contains(this,i[e]))return!0})},closest:function(e,n){for(var r,o=0,a=this.length,s=[],l=i.test(e)||"string"!=typeof e?t(e,n||this.context):0;a>o;o++)for(r=this[o];r&&r!==n;r=r.parentNode)if(r.nodeType<11&&(l?l.index(r)>-1:1===r.nodeType&&t.find.matchesSelector(r,e))){s.push(r);break}return this.pushStack(s.length>1?t.unique(s):s)},index:function(i){return i?"string"==typeof i?e.call(t(i),this[0]):e.call(this,i.jquery?i[0]:i):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,i){return this.pushStack(t.unique(t.merge(this.get(),t(e,i))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),t.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return t.dir(e,"parentNode")},parentsUntil:function(e,i,n){return t.dir(e,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(e){return t.dir(e,"nextSibling")},prevAll:function(e){return t.dir(e,"previousSibling")},nextUntil:function(e,i,n){return t.dir(e,"nextSibling",n)},prevUntil:function(e,i,n){return t.dir(e,"previousSibling",n)},siblings:function(e){return t.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return t.sibling(e.firstChild)},contents:function(e){return e.contentDocument||t.merge([],e.childNodes)}},function(e,i){t.fn[e]=function(n,a){var s=t.map(this,i,n);return"Until"!==e.slice(-5)&&(a=n),a&&"string"==typeof a&&(s=t.filter(a,s)),this.length>1&&(o[e]||t.unique(s),r.test(e)&&s.reverse()),this.pushStack(s)}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(36),i(20),i(15),i(9),i(35),i(25),i(26),i(21),i(30)],r=function(t,e,i,n,r,o,a){function s(){return!0}function l(){return!1}function c(){try{return document.activeElement}catch(t){}}var h=/^key/,d=/^(?:mouse|pointer|contextmenu)|click/,u=/^(?:focusinfocus|focusoutblur)$/,p=/^([^.]*)(?:\.(.+)|)$/;return t.event={global:{},add:function(n,r,o,s,l){var c,h,d,u,f,v,g,m,y,_,b,w=a.get(n);if(w)for(o.handler&&(c=o,o=c.handler,l=c.selector),o.guid||(o.guid=t.guid++),(u=w.events)||(u=w.events={}),(h=w.handle)||(h=w.handle=function(i){return typeof t!==e&&t.event.triggered!==i.type?t.event.dispatch.apply(n,arguments):void 0}),r=(r||"").match(i)||[""],f=r.length;f--;)d=p.exec(r[f])||[],y=b=d[1],_=(d[2]||"").split(".").sort(),y&&(g=t.event.special[y]||{},y=(l?g.delegateType:g.bindType)||y,g=t.event.special[y]||{},v=t.extend({type:y,origType:b,data:s,handler:o,guid:o.guid,selector:l,needsContext:l&&t.expr.match.needsContext.test(l),namespace:_.join(".")},c),(m=u[y])||(m=u[y]=[],m.delegateCount=0,g.setup&&g.setup.call(n,s,_,h)!==!1||n.addEventListener&&n.addEventListener(y,h,!1)),g.add&&(g.add.call(n,v),v.handler.guid||(v.handler.guid=o.guid)),l?m.splice(m.delegateCount++,0,v):m.push(v),t.event.global[y]=!0)},remove:function(e,n,r,o,s){var l,c,h,d,u,f,v,g,m,y,_,b=a.hasData(e)&&a.get(e);if(b&&(d=b.events)){for(n=(n||"").match(i)||[""],u=n.length;u--;)if(h=p.exec(n[u])||[],m=_=h[1],y=(h[2]||"").split(".").sort(),m){for(v=t.event.special[m]||{},m=(o?v.delegateType:v.bindType)||m,g=d[m]||[],h=h[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=l=g.length;l--;)f=g[l],!s&&_!==f.origType||r&&r.guid!==f.guid||h&&!h.test(f.namespace)||o&&o!==f.selector&&("**"!==o||!f.selector)||(g.splice(l,1),f.selector&&g.delegateCount--,v.remove&&v.remove.call(e,f));c&&!g.length&&(v.teardown&&v.teardown.call(e,y,b.handle)!==!1||t.removeEvent(e,m,b.handle),delete d[m])}else for(m in d)t.event.remove(e,m+n[u],r,o,!0);t.isEmptyObject(d)&&(delete b.handle,a.remove(e,"events"))}},trigger:function(e,i,r,o){var s,l,c,h,d,p,f,v=[r||document],g=n.call(e,"type")?e.type:e,m=n.call(e,"namespace")?e.namespace.split("."):[];if(l=c=r=r||document,3!==r.nodeType&&8!==r.nodeType&&!u.test(g+t.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),d=g.indexOf(":")<0&&"on"+g,e=e[t.expando]?e:new t.Event(g,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),i=null==i?[e]:t.makeArray(i,[e]),f=t.event.special[g]||{},o||!f.trigger||f.trigger.apply(r,i)!==!1)){if(!o&&!f.noBubble&&!t.isWindow(r)){for(h=f.delegateType||g,u.test(h+g)||(l=l.parentNode);l;l=l.parentNode)v.push(l),c=l;c===(r.ownerDocument||document)&&v.push(c.defaultView||c.parentWindow||window)}for(s=0;(l=v[s++])&&!e.isPropagationStopped();)e.type=s>1?h:f.bindType||g,p=(a.get(l,"events")||{})[e.type]&&a.get(l,"handle"),p&&p.apply(l,i),p=d&&l[d],p&&p.apply&&t.acceptData(l)&&(e.result=p.apply(l,i),e.result===!1&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||f._default&&f._default.apply(v.pop(),i)!==!1||!t.acceptData(r)||d&&t.isFunction(r[g])&&!t.isWindow(r)&&(c=r[d],c&&(r[d]=null),t.event.triggered=g,r[g](),t.event.triggered=void 0,c&&(r[d]=c)),e.result}},dispatch:function(e){e=t.event.fix(e);var i,n,o,s,l,c=[],h=r.call(arguments),d=(a.get(this,"events")||{})[e.type]||[],u=t.event.special[e.type]||{};if(h[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(c=t.event.handlers.call(this,e,d),i=0;(s=c[i++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,n=0;(l=s.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(l.namespace))&&(e.handleObj=l,e.data=l.data,o=((t.event.special[l.origType]||{}).handle||l.handler).apply(s.elem,h),void 0!==o&&(e.result=o)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,r,o,a,s=[],l=i.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==e.type){for(r=[],n=0;l>n;n++)a=i[n],o=a.selector+" ",void 0===r[o]&&(r[o]=a.needsContext?t(o,this).index(c)>=0:t.find(o,this,null,[c]).length),r[o]&&r.push(a);r.length&&s.push({elem:c,handlers:r})}return l<i.length&&s.push({elem:this,handlers:i.slice(l)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||document,n=i.documentElement,r=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(e){if(e[t.expando])return e;var i,n,r,o=e.type,a=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=d.test(o)?this.mouseHooks:h.test(o)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new t.Event(a),i=r.length;i--;)n=r[i],e[n]=a[n];return e.target||(e.target=document),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&t.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return t.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(e,i,n,r){var o=t.extend(new t.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?t.event.trigger(o,null,i):t.event.dispatch.call(i,o),o.isDefaultPrevented()&&n.preventDefault()}},t.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},t.Event=function(e,i){return this instanceof t.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?s:l):this.type=e,i&&t.extend(this,i),this.timeStamp=e&&e.timeStamp||t.now(),void(this[t.expando]=!0)):new t.Event(e,i)},t.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=s,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=s,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=s,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){t.event.special[e]={delegateType:i,bindType:i,handle:function(e){var n,r=this,o=e.relatedTarget,a=e.handleObj;return(!o||o!==r&&!t.contains(r,o))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=i),n}}}),o.focusinBubbles||t.each({focus:"focusin",blur:"focusout"},function(e,i){var n=function(e){t.event.simulate(i,e.target,t.event.fix(e),!0)};t.event.special[i]={setup:function(){var t=this.ownerDocument||this,r=a.access(t,i);r||t.addEventListener(e,n,!0),a.access(t,i,(r||0)+1)},teardown:function(){var t=this.ownerDocument||this,r=a.access(t,i)-1;r?a.access(t,i,r):(t.removeEventListener(e,n,!0),a.remove(t,i))}}}),t.fn.extend({on:function(e,i,n,r,o){var a,s;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(s in e)this.on(s,i,n,e[s],o);return this}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=l;else if(!r)return this;return 1===o&&(a=r,r=function(e){return t().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=t.guid++)),this.each(function(){t.event.add(this,e,r,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(e,i,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,t(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,i,e[o]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=void 0),n===!1&&(n=l),this.each(function(){t.event.remove(this,e,n,i)})},trigger:function(e,i){return this.each(function(){t.event.trigger(e,i,this)})},triggerHandler:function(e,i){var n=this[0];return n?t.event.trigger(e,i,n,!0):void 0}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(16)],r=function(t){return t.focusinBubbles="onfocusin"in window,t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return"undefined"}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return/^margin/}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(39)],r=function(t){return new RegExp("^("+t+")(?!px)[a-z%]+$","i")}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return["Top","Right","Bottom","Left"]}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(7),i(30)],r=function(t){return function(e,i){return e=i||e,"none"===t.css(e,"display")||!t.contains(e.ownerDocument,e)}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(7),i(38),i(37),i(42),i(30)],r=function(t,e,i,n){function r(r,o,a){var s,l,c,h,d=r.style;return a=a||n(r),a&&(h=a.getPropertyValue(o)||a[o]),a&&(""!==h||t.contains(r.ownerDocument,r)||(h=t.style(r,o)),e.test(h)&&i.test(o)&&(s=d.width,l=d.minWidth,c=d.maxWidth,d.minWidth=d.maxWidth=d.width=h,h=a.width,d.width=s,d.minWidth=l,d.maxWidth=c)),void 0!==h?h+"":h}return r}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){function t(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(7),i(16)],r=function(t,e){return function(){function i(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",o.appendChild(a);var t=window.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,o.removeChild(a)}var n,r,o=document.documentElement,a=document.createElement("div"),s=document.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",a.appendChild(s),window.getComputedStyle&&t.extend(e,{pixelPosition:function(){return i(),n},boxSizingReliable:function(){return null==r&&i(),r},reliableMarginRight:function(){var t,e=s.appendChild(document.createElement("div"));return e.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",s.style.width="1px",o.appendChild(a),t=!parseFloat(window.getComputedStyle(e,null).marginRight),o.removeChild(a),s.removeChild(e),t}}))}(),e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7)],r=function(t){return t.swap=function(t,e,i,n){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=a[o];return r},t.swap}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(26),i(48)],r=function(t){function e(){document.removeEventListener("DOMContentLoaded",e,!1),window.removeEventListener("load",e,!1),t.ready()}var i;t.fn.ready=function(e){return t.ready.promise().done(e),this},t.extend({isReady:!1,readyWait:1,holdReady:function(e){e?t.readyWait++:t.ready(!0)},ready:function(e){(e===!0?--t.readyWait:t.isReady)||(t.isReady=!0,e!==!0&&--t.readyWait>0||(i.resolveWith(document,[t]),t.fn.triggerHandler&&(t(document).triggerHandler("ready"),t(document).off("ready"))))}}),t.ready.promise=function(n){return i||(i=t.Deferred(),"complete"===document.readyState?setTimeout(t.ready):(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1))),i.promise(n)},t.ready.promise()}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(9),i(49)],r=function(t,e){return t.extend({Deferred:function(e){var i=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return t.Deferred(function(n){t.each(i,function(i,a){var s=t.isFunction(e[i])&&e[i];o[a[1]](function(){var e=s&&s.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?t.extend(e,r):r}},o={};return r.pipe=r.then,t.each(i,function(t,e){var a=e[2],s=e[3];r[e[1]]=a.add,s&&a.add(function(){n=s},i[1^t][2].disable,i[2][2].lock),o[e[0]]=function(){return o[e[0]+"With"](this===o?r:this,arguments),this},o[e[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(i){var n,r,o,a=0,s=e.call(arguments),l=s.length,c=1!==l||i&&t.isFunction(i.promise)?l:0,h=1===c?i:t.Deferred(),d=function(t,i,r){return function(o){i[t]=this,r[t]=arguments.length>1?e.call(arguments):o,r===n?h.notifyWith(i,r):--c||h.resolveWith(i,r)}};if(l>1)for(n=new Array(l),r=new Array(l),o=new Array(l);l>a;a++)s[a]&&t.isFunction(s[a].promise)?s[a].promise().done(d(a,o,s)).fail(h.reject).progress(d(a,r,n)):--c;return c||h.resolveWith(o,s),h.promise()}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(20)],r=function(t,e){function i(i){var r=n[i]={};return t.each(i.match(e)||[],function(t,e){r[e]=!0}),r}var n={};return t.Callbacks=function(e){e="string"==typeof e?n[e]||i(e):t.extend({},e);var r,o,a,s,l,c,h=[],d=!e.once&&[],u=function(t){for(r=e.memory&&t,o=!0,c=s||0,s=0,l=h.length,a=!0;h&&l>c;c++)if(h[c].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}a=!1,h&&(d?d.length&&u(d.shift()):r?h=[]:p.disable())},p={add:function(){if(h){var i=h.length;!function n(i){t.each(i,function(i,r){var o=t.type(r);"function"===o?e.unique&&p.has(r)||h.push(r):r&&r.length&&"string"!==o&&n(r)})}(arguments),a?l=h.length:r&&(s=i,u(r))}return this},remove:function(){return h&&t.each(arguments,function(e,i){for(var n;(n=t.inArray(i,h,n))>-1;)h.splice(n,1),a&&(l>=n&&l--,c>=n&&c--)}),this},has:function(e){return e?t.inArray(e,h)>-1:!(!h||!h.length)},empty:function(){return h=[],l=0,this},disable:function(){return h=d=r=void 0,this},disabled:function(){return!h},lock:function(){return d=void 0,r||p.disable(),this},locked:function(){return!d},fireWith:function(t,e){return!h||o&&!d||(e=e||[],e=[t,e.slice?e.slice():e],a?d.push(e):u(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(20),i(22),i(25),i(18)],r=function(t,e,i,n,r){function o(e,i,n){var o;if(void 0===n&&1===e.nodeType)if(o="data-"+i.replace(s,"-$1").toLowerCase(),n=e.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:a.test(n)?t.parseJSON(n):n}catch(l){}r.set(e,i,n)}else n=void 0;return n}var a=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,s=/([A-Z])/g;return t.extend({hasData:function(t){return r.hasData(t)||n.hasData(t)},data:function(t,e,i){return r.access(t,e,i)},removeData:function(t,e){r.remove(t,e)},_data:function(t,e,i){return n.access(t,e,i)},_removeData:function(t,e){n.remove(t,e)}}),t.fn.extend({data:function(e,a){var s,l,c,h=this[0],d=h&&h.attributes;if(void 0===e){if(this.length&&(c=r.get(h),1===h.nodeType&&!n.get(h,"hasDataAttrs"))){for(s=d.length;s--;)d[s]&&(l=d[s].name,0===l.indexOf("data-")&&(l=t.camelCase(l.slice(5)),o(h,l,c[l])));n.set(h,"hasDataAttrs",!0)}return c}return"object"==typeof e?this.each(function(){r.set(this,e)}):i(this,function(i){var n,a=t.camelCase(e);if(h&&void 0===i){if(n=r.get(h,e),void 0!==n)return n;if(n=r.get(h,a),void 0!==n)return n;if(n=o(h,a,void 0),void 0!==n)return n}else this.each(function(){var t=r.get(this,a);r.set(this,a,i),-1!==e.indexOf("-")&&void 0!==t&&r.set(this,e,i)})},null,a,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){r.remove(this,t)})}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(25),i(48),i(49)],r=function(t,e){return t.extend({queue:function(i,n,r){var o;return i?(n=(n||"fx")+"queue",o=e.get(i,n),r&&(!o||t.isArray(r)?o=e.access(i,n,t.makeArray(r)):o.push(r)),o||[]):void 0},dequeue:function(e,i){i=i||"fx";var n=t.queue(e,i),r=n.length,o=n.shift(),a=t._queueHooks(e,i),s=function(){t.dequeue(e,i)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===i&&n.unshift("inprogress"),delete a.stop,o.call(e,s,a)),!r&&a&&a.empty.fire()},_queueHooks:function(i,n){var r=n+"queueHooks";return e.get(i,r)||e.access(i,r,{empty:t.Callbacks("once memory").add(function(){e.remove(i,[n+"queue",r])})})}}),t.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?t.queue(this[0],e):void 0===i?this:this.each(function(){var n=t.queue(this,e,i);t._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&t.dequeue(this,e)})},dequeue:function(e){return this.each(function(){t.dequeue(this,e)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(i,n){var r,o=1,a=t.Deferred(),s=this,l=this.length,c=function(){--o||a.resolveWith(s,[s])};for("string"!=typeof i&&(n=i,i=void 0),i=i||"fx";l--;)r=e.get(s[l],i+"queueHooks"),r&&r.empty&&(o++,r.empty.add(c));return c(),a.promise(n)}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(51),i(53)],r=function(t){return t.fn.delay=function(e,i){return e=t.fx?t.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},t.fn.delay}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(39),i(40),i(41),i(6),i(25),i(26),i(54),i(51),i(5),i(48),i(33)],r=function(t,e,i,n,r,o){function a(){return setTimeout(function(){u=void 0}),u=t.now()}function s(t,e){var n,r=0,o={height:t};for(e=e?1:0;4>r;r+=2-e)n=i[r],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function l(t,e,i){for(var n,r=(y[e]||[]).concat(y["*"]),o=0,a=r.length;a>o;o++)if(n=r[o].call(i,e,t))return n}function c(e,i,a){var s,c,h,d,u,p,v,g,m=this,y={},_=e.style,b=e.nodeType&&n(e),w=o.get(e,"fxshow");a.queue||(u=t._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,p=u.empty.fire,u.empty.fire=function(){u.unqueued||p()}),u.unqueued++,m.always(function(){m.always(function(){u.unqueued--,t.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in i||"width"in i)&&(a.overflow=[_.overflow,_.overflowX,_.overflowY],v=t.css(e,"display"),g="none"===v?o.get(e,"olddisplay")||r(e.nodeName):v,"inline"===g&&"none"===t.css(e,"float")&&(_.display="inline-block")),a.overflow&&(_.overflow="hidden",m.always(function(){_.overflow=a.overflow[0],_.overflowX=a.overflow[1],_.overflowY=a.overflow[2]}));for(s in i)if(c=i[s],f.exec(c)){if(delete i[s],h=h||"toggle"===c,c===(b?"hide":"show")){
if("show"!==c||!w||void 0===w[s])continue;b=!0}y[s]=w&&w[s]||t.style(e,s)}else v=void 0;if(t.isEmptyObject(y))"inline"===("none"===v?r(e.nodeName):v)&&(_.display=v);else{w?"hidden"in w&&(b=w.hidden):w=o.access(e,"fxshow",{}),h&&(w.hidden=!b),b?t(e).show():m.done(function(){t(e).hide()}),m.done(function(){var i;o.remove(e,"fxshow");for(i in y)t.style(e,i,y[i])});for(s in y)d=l(b?w[s]:0,s,m),s in w||(w[s]=d.start,b&&(d.end=d.start,d.start="width"===s||"height"===s?1:0))}}function h(e,i){var n,r,o,a,s;for(n in e)if(r=t.camelCase(n),o=i[r],a=e[n],t.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),s=t.cssHooks[r],s&&"expand"in s){a=s.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],i[n]=o)}else i[r]=o}function d(e,i,n){var r,o,s=0,c=m.length,d=t.Deferred().always(function(){delete p.elem}),p=function(){if(o)return!1;for(var t=u||a(),i=Math.max(0,f.startTime+f.duration-t),n=i/f.duration||0,r=1-n,s=0,l=f.tweens.length;l>s;s++)f.tweens[s].run(r);return d.notifyWith(e,[f,r,i]),1>r&&l?i:(d.resolveWith(e,[f]),!1)},f=d.promise({elem:e,props:t.extend({},i),opts:t.extend(!0,{specialEasing:{}},n),originalProperties:i,originalOptions:n,startTime:u||a(),duration:n.duration,tweens:[],createTween:function(i,n){var r=t.Tween(e,f.opts,i,n,f.opts.specialEasing[i]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var i=0,n=t?f.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)f.tweens[i].run(1);return t?d.resolveWith(e,[f,t]):d.rejectWith(e,[f,t]),this}}),v=f.props;for(h(v,f.opts.specialEasing);c>s;s++)if(r=m[s].call(f,e,v,f.opts))return r;return t.map(v,l,f),t.isFunction(f.opts.start)&&f.opts.start.call(e,f),t.fx.timer(t.extend(p,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}var u,p,f=/^(?:toggle|show|hide)$/,v=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),g=/queueHooks$/,m=[c],y={"*":[function(e,i){var n=this.createTween(e,i),r=n.cur(),o=v.exec(i),a=o&&o[3]||(t.cssNumber[e]?"":"px"),s=(t.cssNumber[e]||"px"!==a&&+r)&&v.exec(t.css(n.elem,e)),l=1,c=20;if(s&&s[3]!==a){a=a||s[3],o=o||[],s=+r||1;do l=l||".5",s/=l,t.style(n.elem,e,s+a);while(l!==(l=n.cur()/r)&&1!==l&&--c)}return o&&(s=n.start=+s||+r||0,n.unit=a,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};return t.Animation=t.extend(d,{tweener:function(e,i){t.isFunction(e)?(i=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;o>r;r++)n=e[r],y[n]=y[n]||[],y[n].unshift(i)},prefilter:function(t,e){e?m.unshift(t):m.push(t)}}),t.speed=function(e,i,n){var r=e&&"object"==typeof e?t.extend({},e):{complete:n||!n&&i||t.isFunction(e)&&e,duration:e,easing:n&&i||i&&!t.isFunction(i)&&i};return r.duration=t.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in t.fx.speeds?t.fx.speeds[r.duration]:t.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){t.isFunction(r.old)&&r.old.call(this),r.queue&&t.dequeue(this,r.queue)},r},t.fn.extend({fadeTo:function(t,e,i,r){return this.filter(n).css("opacity",0).show().end().animate({opacity:e},t,i,r)},animate:function(e,i,n,r){var a=t.isEmptyObject(e),s=t.speed(i,n,r),l=function(){var i=d(this,t.extend({},e),s);(a||o.get(this,"finish"))&&i.stop(!0)};return l.finish=l,a||s.queue===!1?this.each(l):this.queue(s.queue,l)},stop:function(e,i,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof e&&(n=i,i=e,e=void 0),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var i=!0,a=null!=e&&e+"queueHooks",s=t.timers,l=o.get(this);if(a)l[a]&&l[a].stop&&r(l[a]);else for(a in l)l[a]&&l[a].stop&&g.test(a)&&r(l[a]);for(a=s.length;a--;)s[a].elem!==this||null!=e&&s[a].queue!==e||(s[a].anim.stop(n),i=!1,s.splice(a,1));(i||!n)&&t.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var i,n=o.get(this),r=n[e+"queue"],a=n[e+"queueHooks"],s=t.timers,l=r?r.length:0;for(n.finish=!0,t.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),i=s.length;i--;)s[i].elem===this&&s[i].queue===e&&(s[i].anim.stop(!0),s.splice(i,1));for(i=0;l>i;i++)r[i]&&r[i].finish&&r[i].finish.call(this);delete n.finish})}}),t.each(["toggle","show","hide"],function(e,i){var n=t.fn[i];t.fn[i]=function(t,e,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(s(i,!0),t,e,r)}}),t.each({slideDown:s("show"),slideUp:s("hide"),slideToggle:s("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){t.fn[e]=function(t,e,n){return this.animate(i,t,e,n)}}),t.timers=[],t.fx.tick=function(){var e,i=0,n=t.timers;for(u=t.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||t.fx.stop(),u=void 0},t.fx.timer=function(e){t.timers.push(e),e()?t.fx.start():t.timers.pop()},t.fx.interval=13,t.fx.start=function(){p||(p=setInterval(t.fx.tick,t.fx.interval))},t.fx.stop=function(){clearInterval(p),p=null},t.fx.speeds={slow:600,fast:200,_default:400},t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(5)],r=function(t){function e(t,i,n,r,o){return new e.prototype.init(t,i,n,r,o)}t.Tween=e,e.prototype={constructor:e,init:function(e,i,n,r,o,a){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=i,this.start=this.now=this.cur(),this.end=r,this.unit=a||(t.cssNumber[n]?"":"px")},cur:function(){var t=e.propHooks[this.prop];return t&&t.get?t.get(this):e.propHooks._default.get(this)},run:function(i){var n,r=e.propHooks[this.prop];return this.options.duration?this.pos=n=t.easing[this.easing](i,this.options.duration*i,0,1,this.options.duration):this.pos=n=i,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):e.propHooks._default.set(this),this}},e.prototype.init.prototype=e.prototype,e.propHooks={_default:{get:function(e){var i;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(i=t.css(e.elem,e.prop,""),i&&"auto"!==i?i:0):e.elem[e.prop]},set:function(e){t.fx.step[e.prop]?t.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[t.cssProps[e.prop]]||t.cssHooks[e.prop])?t.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},e.propHooks.scrollTop=e.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},t.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},t.fx=e.prototype.init,t.fx.step={}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(56),i(58),i(59),i(60)],r=function(t){return t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(20),i(36),i(22),i(57),i(30)],r=function(t,e,i,n,r){var o,a,s=t.expr.attrHandle;t.fn.extend({attr:function(e,i){return n(this,t.attr,e,i,arguments.length>1)},removeAttr:function(e){return this.each(function(){t.removeAttr(this,e)})}}),t.extend({attr:function(e,n,r){var s,l,c=e.nodeType;if(e&&3!==c&&8!==c&&2!==c)return typeof e.getAttribute===i?t.prop(e,n,r):(1===c&&t.isXMLDoc(e)||(n=n.toLowerCase(),s=t.attrHooks[n]||(t.expr.match.bool.test(n)?a:o)),void 0===r?s&&"get"in s&&null!==(l=s.get(e,n))?l:(l=t.find.attr(e,n),null==l?void 0:l):null!==r?s&&"set"in s&&void 0!==(l=s.set(e,r,n))?l:(e.setAttribute(n,r+""),r):void t.removeAttr(e,n))},removeAttr:function(i,n){var r,o,a=0,s=n&&n.match(e);if(s&&1===i.nodeType)for(;r=s[a++];)o=t.propFix[r]||r,t.expr.match.bool.test(r)&&(i[o]=!1),i.removeAttribute(r)},attrHooks:{type:{set:function(e,i){if(!r.radioValue&&"radio"===i&&t.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",i),n&&(e.value=n),i}}}}}),a={set:function(e,i,n){return i===!1?t.removeAttr(e,n):e.setAttribute(n,n),n}},t.each(t.expr.match.bool.source.match(/\w+/g),function(e,i){var n=s[i]||t.find.attr;s[i]=function(t,e,i){var r,o;return i||(o=s[e],s[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,s[e]=o),r}})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(16)],r=function(t){return function(){var e=document.createElement("input"),i=document.createElement("select"),n=i.appendChild(document.createElement("option"));e.type="checkbox",t.checkOn=""!==e.value,t.optSelected=n.selected,i.disabled=!0,t.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",t.radioValue="t"===e.value}(),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(22),i(57)],r=function(t,e,i){var n=/^(?:input|select|textarea|button)$/i;t.fn.extend({prop:function(i,n){return e(this,t.prop,i,n,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[t.propFix[e]||e]})}}),t.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!t.isXMLDoc(e),a&&(i=t.propFix[i]||i,o=t.propHooks[i]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,i))?r:e[i]=n:o&&"get"in o&&null!==(r=o.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||n.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),i.optSelected||(t.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),t.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){t.propFix[this.toLowerCase()]=this})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(20),i(36),i(25),i(26)],r=function(t,e,i,n){var r=/[\t\r\n\f]/g;t.fn.extend({addClass:function(i){var n,o,a,s,l,c,h="string"==typeof i&&i,d=0,u=this.length;if(t.isFunction(i))return this.each(function(e){t(this).addClass(i.call(this,e,this.className))});if(h)for(n=(i||"").match(e)||[];u>d;d++)if(o=this[d],a=1===o.nodeType&&(o.className?(" "+o.className+" ").replace(r," "):" ")){for(l=0;s=n[l++];)a.indexOf(" "+s+" ")<0&&(a+=s+" ");c=t.trim(a),o.className!==c&&(o.className=c)}return this},removeClass:function(i){var n,o,a,s,l,c,h=0===arguments.length||"string"==typeof i&&i,d=0,u=this.length;if(t.isFunction(i))return this.each(function(e){t(this).removeClass(i.call(this,e,this.className))});if(h)for(n=(i||"").match(e)||[];u>d;d++)if(o=this[d],a=1===o.nodeType&&(o.className?(" "+o.className+" ").replace(r," "):"")){for(l=0;s=n[l++];)for(;a.indexOf(" "+s+" ")>=0;)a=a.replace(" "+s+" "," ");c=i?t.trim(a):"",o.className!==c&&(o.className=c)}return this},toggleClass:function(r,o){var a=typeof r;return"boolean"==typeof o&&"string"===a?o?this.addClass(r):this.removeClass(r):t.isFunction(r)?this.each(function(e){t(this).toggleClass(r.call(this,e,this.className,o),o)}):this.each(function(){if("string"===a)for(var o,s=0,l=t(this),c=r.match(e)||[];o=c[s++];)l.hasClass(o)?l.removeClass(o):l.addClass(o);else(a===i||"boolean"===a)&&(this.className&&n.set(this,"__className__",this.className),this.className=this.className||r===!1?"":n.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(r," ").indexOf(e)>=0)return!0;return!1}})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(57),i(26)],r=function(t,e){var i=/\r/g;t.fn.extend({val:function(e){var n,r,o,a=this[0];{if(arguments.length)return o=t.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=o?e.call(this,i,t(this).val()):e,null==r?r="":"number"==typeof r?r+="":t.isArray(r)&&(r=t.map(r,function(t){return null==t?"":t+""})),n=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&void 0!==n.set(this,r,"value")||(this.value=r))});if(a)return n=t.valHooks[a.type]||t.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(r=n.get(a,"value"))?r:(r=a.value,"string"==typeof r?r.replace(i,""):null==r?"":r)}}}),t.extend({valHooks:{option:{get:function(e){var i=t.find.attr(e,"value");return null!=i?i:t.trim(t.text(e))}},select:{get:function(i){for(var n,r,o=i.options,a=i.selectedIndex,s="select-one"===i.type||0>a,l=s?null:[],c=s?a+1:o.length,h=0>a?c:s?a:0;c>h;h++)if(r=o[h],(r.selected||h===a)&&(e.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!t.nodeName(r.parentNode,"optgroup"))){if(n=t(r).val(),s)return n;l.push(n)}return l},set:function(e,i){for(var n,r,o=e.options,a=t.makeArray(i),s=o.length;s--;)r=o[s],(r.selected=t.inArray(r.value,a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(e,i){return t.isArray(i)?e.checked=t.inArray(t(e).val(),i)>=0:void 0}},e.checkOn||(t.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(34)],r=function(t){t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){t.fn[i]=function(t,e){return arguments.length>0?this.on(i,null,t,e):this.trigger(i)}}),t.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(63)],r=function(t){return t._evalUrl=function(e){return t.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},t._evalUrl}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(20),i(64),i(65),i(26),i(66),i(67),i(48)],r=function(t,e,i,n){function r(i){return function(n,r){"string"!=typeof n&&(r=n,n="*");var o,a=0,s=n.toLowerCase().match(e)||[];if(t.isFunction(r))for(;o=s[a++];)"+"===o[0]?(o=o.slice(1)||"*",(i[o]=i[o]||[]).unshift(r)):(i[o]=i[o]||[]).push(r)}}function o(e,i,n,r){function o(l){var c;return a[l]=!0,t.each(e[l]||[],function(t,e){var l=e(i,n,r);return"string"!=typeof l||s||a[l]?s?!(c=l):void 0:(i.dataTypes.unshift(l),o(l),!1)}),c}var a={},s=e===m;return o(i.dataTypes[0])||!a["*"]&&o("*")}function a(e,i){var n,r,o=t.ajaxSettings.flatOptions||{};for(n in i)void 0!==i[n]&&((o[n]?e:r||(r={}))[n]=i[n]);return r&&t.extend(!0,e,r),e}function s(t,e,i){for(var n,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function l(t,e,i,n){var r,o,a,s,l,c={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=h.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],h.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var c=/#.*$/,h=/([?&])_=[^&]*/,d=/^(.*?):[ \t]*([^\r\n]*)$/gm,u=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,f=/^\/\//,v=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,g={},m={},y="*/".concat("*"),_=window.location.href,b=v.exec(_.toLowerCase())||[];return t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_,type:"GET",isLocal:u.test(b[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":y,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,i){return i?a(a(e,t.ajaxSettings),i):a(t.ajaxSettings,e)},ajaxPrefilter:r(g),ajaxTransport:r(m),ajax:function(r,a){function u(e,i,n,r){var o,a,c,h,d,u=i;2!==z&&(z=2,P&&clearTimeout(P),w=void 0,k=r||"",R.readyState=e>0?4:0,o=e>=200&&300>e||304===e,n&&(h=s(D,R,n)),h=l(D,h,R,o),o?(D.ifModified&&(d=R.getResponseHeader("Last-Modified"),d&&(t.lastModified[x]=d),d=R.getResponseHeader("etag"),d&&(t.etag[x]=d)),204===e||"HEAD"===D.type?u="nocontent":304===e?u="notmodified":(u=h.state,a=h.data,c=h.error,o=!c)):(c=u,(e||!u)&&(u="error",0>e&&(e=0))),R.status=e,R.statusText=(i||u)+"",o?A.resolveWith(I,[a,u,R]):A.rejectWith(I,[R,u,c]),R.statusCode(L),L=void 0,E&&$.trigger(o?"ajaxSuccess":"ajaxError",[R,D,o?a:c]),F.fireWith(I,[R,u]),E&&($.trigger("ajaxComplete",[R,D]),--t.active||t.event.trigger("ajaxStop")))}"object"==typeof r&&(a=r,r=void 0),a=a||{};var w,x,k,C,P,T,E,S,D=t.ajaxSetup({},a),I=D.context||D,$=D.context&&(I.nodeType||I.jquery)?t(I):t.event,A=t.Deferred(),F=t.Callbacks("once memory"),L=D.statusCode||{},j={},M={},z=0,O="canceled",R={readyState:0,getResponseHeader:function(t){var e;if(2===z){if(!C)for(C={};e=d.exec(k);)C[e[1].toLowerCase()]=e[2];e=C[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===z?k:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return z||(t=M[i]=M[i]||t,j[t]=e),this},overrideMimeType:function(t){return z||(D.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>z)for(e in t)L[e]=[L[e],t[e]];else R.always(t[R.status]);return this},abort:function(t){var e=t||O;return w&&w.abort(e),u(0,e),this}};if(A.promise(R).complete=F.add,R.success=R.done,R.error=R.fail,D.url=((r||D.url||_)+"").replace(c,"").replace(f,b[1]+"//"),D.type=a.method||a.type||D.method||D.type,D.dataTypes=t.trim(D.dataType||"*").toLowerCase().match(e)||[""],null==D.crossDomain&&(T=v.exec(D.url.toLowerCase()),D.crossDomain=!(!T||T[1]===b[1]&&T[2]===b[2]&&(T[3]||("http:"===T[1]?"80":"443"))===(b[3]||("http:"===b[1]?"80":"443")))),D.data&&D.processData&&"string"!=typeof D.data&&(D.data=t.param(D.data,D.traditional)),o(g,D,a,R),2===z)return R;E=t.event&&D.global,E&&0===t.active++&&t.event.trigger("ajaxStart"),D.type=D.type.toUpperCase(),D.hasContent=!p.test(D.type),x=D.url,D.hasContent||(D.data&&(x=D.url+=(n.test(x)?"&":"?")+D.data,delete D.data),D.cache===!1&&(D.url=h.test(x)?x.replace(h,"$1_="+i++):x+(n.test(x)?"&":"?")+"_="+i++)),D.ifModified&&(t.lastModified[x]&&R.setRequestHeader("If-Modified-Since",t.lastModified[x]),t.etag[x]&&R.setRequestHeader("If-None-Match",t.etag[x])),(D.data&&D.hasContent&&D.contentType!==!1||a.contentType)&&R.setRequestHeader("Content-Type",D.contentType),R.setRequestHeader("Accept",D.dataTypes[0]&&D.accepts[D.dataTypes[0]]?D.accepts[D.dataTypes[0]]+("*"!==D.dataTypes[0]?", "+y+"; q=0.01":""):D.accepts["*"]);for(S in D.headers)R.setRequestHeader(S,D.headers[S]);if(D.beforeSend&&(D.beforeSend.call(I,R,D)===!1||2===z))return R.abort();O="abort";for(S in{success:1,error:1,complete:1})R[S](D[S]);if(w=o(m,D,a,R)){R.readyState=1,E&&$.trigger("ajaxSend",[R,D]),D.async&&D.timeout>0&&(P=setTimeout(function(){R.abort("timeout")},D.timeout));try{z=1,w.send(j,u)}catch(B){if(!(2>z))throw B;u(-1,B)}}else u(-1,"No Transport");return R},getJSON:function(e,i,n){return t.get(e,i,n,"json")},getScript:function(e,i){return t.get(e,void 0,i,"script")}}),t.each(["get","post"],function(e,i){t[i]=function(e,n,r,o){return t.isFunction(n)&&(o=o||r,r=n,n=void 0),t.ajax({url:e,type:i,dataType:o,data:n,success:r})}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7)],r=function(t){return t.now()}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return/\?/}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(7)],r=function(t){return t.parseJSON=function(t){return JSON.parse(t+"")},t.parseJSON}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7)],r=function(t){return t.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,i=n.parseFromString(e,"text/xml")}catch(r){i=void 0}return(!i||i.getElementsByTagName("parsererror").length)&&t.error("Invalid XML: "+e),i},t.parseXML}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(26),i(17),i(33)],r=function(t){return t.fn.extend({wrapAll:function(e){var i;return t.isFunction(e)?this.each(function(i){t(this).wrapAll(e.call(this,i))}):(this[0]&&(i=t(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&i.insertBefore(this[0]),i.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(e){return t.isFunction(e)?this.each(function(i){t(this).wrapInner(e.call(this,i))}):this.each(function(){var i=t(this),n=i.contents();n.length?n.wrapAll(e):i.append(e)})},wrap:function(e){var i=t.isFunction(e);return this.each(function(n){t(this).wrapAll(i?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){t.nodeName(this,"body")||t(this).replaceWith(this.childNodes)}).end()}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(30)],r=function(t){t.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},t.expr.filters.visible=function(e){return!t.expr.filters.hidden(e)}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(23),i(26),i(33),i(58)],r=function(t,e){function i(e,n,o,a){var s;if(t.isArray(n))t.each(n,function(t,n){o||r.test(e)?a(e,n):i(e+"["+("object"==typeof n?t:"")+"]",n,o,a)});else if(o||"object"!==t.type(n))a(e,n);else for(s in n)i(e+"["+s+"]",n[s],o,a)}var n=/%20/g,r=/\[\]$/,o=/\r?\n/g,a=/^(?:submit|button|image|reset|file)$/i,s=/^(?:input|select|textarea|keygen)/i;return t.param=function(e,r){var o,a=[],s=function(e,i){i=t.isFunction(i)?i():null==i?"":i,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(i)};if(void 0===r&&(r=t.ajaxSettings&&t.ajaxSettings.traditional),t.isArray(e)||e.jquery&&!t.isPlainObject(e))t.each(e,function(){s(this.name,this.value)});else for(o in e)i(o,e[o],r,s);return a.join("&").replace(n,"+")},t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=t.prop(this,"elements");return e?t.makeArray(e):this}).filter(function(){var i=this.type;return this.name&&!t(this).is(":disabled")&&s.test(this.nodeName)&&!a.test(i)&&(this.checked||!e.test(i))}).map(function(e,i){var n=t(this).val();return null==n?null:t.isArray(n)?t.map(n,function(t){return{name:i.name,value:t.replace(o,"\r\n")}}):{name:i.name,value:n.replace(o,"\r\n")}}).get()}}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(16),i(63)],r=function(t,e){t.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var i=0,n={},r={0:200,1223:204},o=t.ajaxSettings.xhr();window.attachEvent&&window.attachEvent("onunload",function(){for(var t in n)n[t]()}),e.cors=!!o&&"withCredentials"in o,e.ajax=o=!!o,t.ajaxTransport(function(t){var a;return e.cors||o&&!t.crossDomain?{send:function(e,o){var s,l=t.xhr(),c=++i;if(l.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)l[s]=t.xhrFields[s];t.mimeType&&l.overrideMimeType&&l.overrideMimeType(t.mimeType),t.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(s in e)l.setRequestHeader(s,e[s]);a=function(t){return function(){a&&(delete n[c],a=l.onload=l.onerror=null,"abort"===t?l.abort():"error"===t?o(l.status,l.statusText):o(r[l.status]||l.status,l.statusText,"string"==typeof l.responseText?{text:l.responseText}:void 0,l.getAllResponseHeaders()))}},l.onload=a(),l.onerror=a("error"),a=n[c]=a("abort");try{l.send(t.hasContent&&t.data||null)}catch(h){if(a)throw h}},abort:function(){a&&a()}}:void 0})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(63)],r=function(t){t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return t.globalEval(e),e}}}),t.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),t.ajaxTransport("script",function(e){if(e.crossDomain){var i,n;return{send:function(r,o){i=t("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(t){i.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),document.head.appendChild(i[0])},abort:function(){n&&n()}}}})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(64),i(65),i(63)],r=function(t,e,i){var n=[],r=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var i=n.pop()||t.expando+"_"+e++;return this[i]=!0,i}}),t.ajaxPrefilter("json jsonp",function(e,o,a){var s,l,c,h=e.jsonp!==!1&&(r.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&r.test(e.data)&&"data");return h||"jsonp"===e.dataTypes[0]?(s=e.jsonpCallback=t.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,h?e[h]=e[h].replace(r,"$1"+s):e.jsonp!==!1&&(e.url+=(i.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return c||t.error(s+" was not called"),c[0]},e.dataTypes[0]="json",l=window[s],window[s]=function(){c=arguments},a.always(function(){window[s]=l,e[s]&&(e.jsonpCallback=o.jsonpCallback,n.push(s)),c&&t.isFunction(l)&&l(c[0]),c=l=void 0}),"script"):void 0})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(75),i(63),i(33),i(17),i(30),i(61)],r=function(t){var e=t.fn.load;t.fn.load=function(i,n,r){if("string"!=typeof i&&e)return e.apply(this,arguments);var o,a,s,l=this,c=i.indexOf(" ");return c>=0&&(o=t.trim(i.slice(c)),i=i.slice(0,c)),t.isFunction(n)?(r=n,n=void 0):n&&"object"==typeof n&&(a="POST"),l.length>0&&t.ajax({url:i,type:a,dataType:"html",data:n}).done(function(e){s=arguments,l.html(o?t("<div>").append(t.parseHTML(e)).find(o):e)}).complete(r&&function(t,e){l.each(r,s||[t.responseText,e,t])}),this}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(27),i(17)],r=function(t,e){return t.parseHTML=function(i,n,r){if(!i||"string"!=typeof i)return null;"boolean"==typeof n&&(r=n,n=!1),n=n||document;var o=e.exec(i),a=!r&&[];return o?[n.createElement(o[1])]:(o=t.buildFragment([i],n,a),a&&a.length&&t(a).remove(),t.merge([],o.childNodes))},t.parseHTML}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(34)],r=function(t){t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,i){t.fn[i]=function(t){return this.on(i,t)}})}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(30),i(53)],r=function(t){t.expr.filters.animated=function(e){return t.grep(t.timers,function(t){return e===t.elem}).length}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(36),i(22),i(38),i(43),i(44),i(45),i(26),i(5),i(30)],r=function(t,e,i,n,r,o,a){function s(e){return t.isWindow(e)?e:9===e.nodeType&&e.defaultView}var l=window.document.documentElement;return t.offset={setOffset:function(e,i,n){var r,o,a,s,l,c,h,d=t.css(e,"position"),u=t(e),p={};"static"===d&&(e.style.position="relative"),l=u.offset(),a=t.css(e,"top"),c=t.css(e,"left"),h=("absolute"===d||"fixed"===d)&&(a+c).indexOf("auto")>-1,h?(r=u.position(),s=r.top,o=r.left):(s=parseFloat(a)||0,o=parseFloat(c)||0),t.isFunction(i)&&(i=i.call(e,n,l)),null!=i.top&&(p.top=i.top-l.top+s),null!=i.left&&(p.left=i.left-l.left+o),"using"in i?i.using.call(e,p):u.css(p)}},t.fn.extend({offset:function(i){if(arguments.length)return void 0===i?this:this.each(function(e){t.offset.setOffset(this,i,e)});var n,r,o=this[0],a={top:0,left:0},l=o&&o.ownerDocument;if(l)return n=l.documentElement,t.contains(n,o)?(typeof o.getBoundingClientRect!==e&&(a=o.getBoundingClientRect()),r=s(l),{top:a.top+r.pageYOffset-n.clientTop,left:a.left+r.pageXOffset-n.clientLeft}):a},position:function(){if(this[0]){var e,i,n=this[0],r={top:0,left:0};return"fixed"===t.css(n,"position")?i=n.getBoundingClientRect():(e=this.offsetParent(),i=this.offset(),t.nodeName(e[0],"html")||(r=e.offset()),r.top+=t.css(e[0],"borderTopWidth",!0),r.left+=t.css(e[0],"borderLeftWidth",!0)),{top:i.top-r.top-t.css(n,"marginTop",!0),left:i.left-r.left-t.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||l;e&&!t.nodeName(e,"html")&&"static"===t.css(e,"position");)e=e.offsetParent;return e||l})}}),t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;t.fn[e]=function(t){return i(this,function(t,e,i){var o=s(t);return void 0===i?o?o[n]:t[e]:void(o?o.scrollTo(r?window.pageXOffset:i,r?i:window.pageYOffset):t[e]=i)},e,t,arguments.length,null)}}),t.each(["top","left"],function(e,i){t.cssHooks[i]=o(a.pixelPosition,function(e,o){return o?(o=r(e,i),n.test(o)?t(e).position()[i]+"px":o):void 0})}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(22),i(5)],r=function(t,e){return t.each({Height:"height",Width:"width"},function(i,n){t.each({padding:"inner"+i,content:n,"":"outer"+i},function(r,o){t.fn[o]=function(o,a){var s=arguments.length&&(r||"boolean"!=typeof o),l=r||(o===!0||a===!0?"margin":"border");return e(this,function(e,n,r){var o;return t.isWindow(e)?e.document.documentElement["client"+i]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+i],o["scroll"+i],e.body["offset"+i],o["offset"+i],o["client"+i])):void 0===r?t.css(e,n,l):t.style(e,n,r,l)},n,s?o:void 0,s,null)}})}),t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(33)],r=function(t){t.fn.size=function(){return this.length},t.fn.andSelf=t.fn.addBack}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r,n,r;n=[i(7)],r=function(i){n=[],r=function(){return i}.apply(e,n),!(void 0!==r&&(t.exports=r))}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(83),i(85),i(86),i(91),i(1),i(4)],r=function(t,e,i,n,r,o){var a=0;return function(s,l,c,h,d){var u={};e.appkey&&(u.Appkey=i.encode(e.appkey)),e.token&&(u.Authorization="Bearer "+e.token),void 0!=e.cms&&(u.Cms=e.cms);var p=r.docCookies.getItem("videojjIdentity");return p||(p=(new Date).getTime().toString()+Math.random().toString(36).substr(2,8),r.docCookies.setItem("videojjIdentity",p)),u.Identity=p,o.ajax({method:l,crossDomain:!0,url:t+s,data:c,timeout:d||1e4,success:function(t){void 0!=t.status?0==t.status||500==t.status?h(t):400==t.status?(n({type:"error",msg:"请先登录"}),e={}):403==t.status?a||(n({type:"error",faq:!0},5e3),a++,h(t)):n({type:"error",msg:t.msg}):h(t)},error:function(t){h(t)},headers:u})}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(84),i(1)],r=function(t,e){var i=t.online;window.videojjhost&&(i=window.videojjhost);var n=e.parseQuery(location.search.substr(1));return n.videojjhost&&(i=n.videojjhost),"http://"+i}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){!(t.exports={online:"videojj.com",t:"t.videojj.com",test:"test.videojj.com",dev:"127.0.0.1:9000",local:"localhost:9000",cdz:"10.0.0.14",zjf:"10.0.0.5:9000",bpc:"10.0.0.11:9000",parse:"t.videojj.com:8080",newstat:"newstat.test.videojj.com",hunantv:"card.test.videojj.com",tagTheme:"card.test.videojj.com",iqiyi:"videojj.com",yue:"vote.test.videojj.com"})},function(t,e,i){var n;n=function(){return{videoId:"",power:"000000",token:"",uptoken:"",userId:"",active:!1}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){"use strict";var e,n=window,r=n.Base64,o="2.1.8";"undefined"!=typeof t&&t.exports&&(e=i(87).Buffer);var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(t){for(var e={},i=0,n=t.length;n>i;i++)e[t.charAt(i)]=i;return e}(a),l=String.fromCharCode,c=function(t){
if(t.length<2){var e=t.charCodeAt(0);return 128>e?t:2048>e?l(192|e>>>6)+l(128|63&e):l(224|e>>>12&15)+l(128|e>>>6&63)+l(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return l(240|e>>>18&7)+l(128|e>>>12&63)+l(128|e>>>6&63)+l(128|63&e)},h=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(t){return t.replace(h,c)},u=function(t){var e=[0,2,1][t.length%3],i=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),n=[a.charAt(i>>>18),a.charAt(i>>>12&63),e>=2?"=":a.charAt(i>>>6&63),e>=1?"=":a.charAt(63&i)];return n.join("")},p=n.btoa?function(t){return n.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,u)},f=e?function(t){return(t.constructor===e.constructor?t:new e(t)).toString("base64")}:function(t){return p(d(t))},v=function(t,e){return e?f(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):f(String(t))},g=function(t){return v(t,!0)},m=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),y=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),i=e-65536;return l((i>>>10)+55296)+l((1023&i)+56320);case 3:return l((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return l((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},_=function(t){return t.replace(m,y)},b=function(t){var e=t.length,i=e%4,n=(e>0?s[t.charAt(0)]<<18:0)|(e>1?s[t.charAt(1)]<<12:0)|(e>2?s[t.charAt(2)]<<6:0)|(e>3?s[t.charAt(3)]:0),r=[l(n>>>16),l(n>>>8&255),l(255&n)];return r.length-=[0,0,2,1][i],r.join("")},w=n.atob?function(t){return n.atob(t)}:function(t){return t.replace(/[\s\S]{1,4}/g,b)},x=e?function(t){return(t.constructor===e.constructor?t:new e(t,"base64")).toString()}:function(t){return _(w(t))},k=function(t){return x(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},C=function(){var t=n.Base64;return n.Base64=r,t};if(n.Base64={VERSION:o,atob:w,btoa:p,fromBase64:k,toBase64:v,utob:d,encode:v,encodeURI:g,btou:_,decode:k,noConflict:C},"function"==typeof Object.defineProperty){var P=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",P(function(){return k(this)})),Object.defineProperty(String.prototype,"toBase64",P(function(t){return v(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",P(function(){return v(this,!0)}))}}return n.Meteor&&(Base64=n.Base64),{VERSION:o,atob:w,btoa:p,fromBase64:k,toBase64:v,utob:d,encode:v,encodeURI:g,btou:_,decode:k,noConflict:C}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){(function(t){function n(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(this.length=0,this.parent=void 0,"number"==typeof e?r(this,e):"string"==typeof e?o(this,e,arguments.length>1?arguments[1]:"utf8"):a(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function r(e,i){if(e=p(e,0>i?0:0|f(i)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;i>n;n++)e[n]=0;return e}function o(t,e,i){("string"!=typeof i||""===i)&&(i="utf8");var n=0|g(e,i);return t=p(t,n),t.write(e,i),t}function a(e,i){if(t.isBuffer(i))return s(e,i);if(Y(i))return l(e,i);if(null==i)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(i.buffer instanceof ArrayBuffer)return c(e,i);if(i instanceof ArrayBuffer)return h(e,i)}return i.length?d(e,i):u(e,i)}function s(t,e){var i=0|f(e.length);return t=p(t,i),e.copy(t,0,0,i),t}function l(t,e){var i=0|f(e.length);t=p(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function c(t,e){var i=0|f(e.length);t=p(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function h(e,i){return t.TYPED_ARRAY_SUPPORT?(i.byteLength,e=t._augment(new Uint8Array(i))):e=c(e,new Uint8Array(i)),e}function d(t,e){var i=0|f(e.length);t=p(t,i);for(var n=0;i>n;n+=1)t[n]=255&e[n];return t}function u(t,e){var i,n=0;"Buffer"===e.type&&Y(e.data)&&(i=e.data,n=0|f(i.length)),t=p(t,n);for(var r=0;n>r;r+=1)t[r]=255&i[r];return t}function p(e,i){t.TYPED_ARRAY_SUPPORT?e=t._augment(new Uint8Array(i)):(e.length=i,e._isBuffer=!0);var n=0!==i&&i<=t.poolSize>>>1;return n&&(e.parent=X),e}function f(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function v(e,i){if(!(this instanceof v))return new v(e,i);var n=new t(e,i);return delete n.parent,n}function g(t,e){"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return W(t).length;default:if(n)return B(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,i){var n=!1;if(e=0|e,i=void 0===i||i===1/0?this.length:0|i,t||(t="utf8"),0>e&&(e=0),i>this.length&&(i=this.length),e>=i)return"";for(;;)switch(t){case"hex":return S(this,e,i);case"utf8":case"utf-8":return P(this,e,i);case"ascii":return T(this,e,i);case"binary":return E(this,e,i);case"base64":return C(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;n>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[i+a]=s}return a}function _(t,e,i,n){return q(B(e,t.length-i),t,i,n)}function b(t,e,i,n){return q(H(e),t,i,n)}function w(t,e,i,n){return b(t,e,i,n)}function x(t,e,i,n){return q(W(e),t,i,n)}function k(t,e,i,n){return q(N(e,t.length-i),t,i,n)}function C(t,e,i){return 0===e&&i===t.length?U.fromByteArray(t):U.fromByteArray(t.slice(e,i))}function P(t,e,i){i=Math.min(t.length,i);for(var n,r,o,a,s,l,c,h=[],d=e;i>d;d+=s){if(n=t[d],c=65533,s=n>239?4:n>223?3:n>191?2:1,i>=d+s)switch(s){case 1:128>n&&(c=n);break;case 2:r=t[d+1],128===(192&r)&&(l=(31&n)<<6|63&r,l>127&&(c=l));break;case 3:r=t[d+1],o=t[d+2],128===(192&r)&&128===(192&o)&&(l=(15&n)<<12|(63&r)<<6|63&o,l>2047&&(55296>l||l>57343)&&(c=l));break;case 4:r=t[d+1],o=t[d+2],a=t[d+3],128===(192&r)&&128===(192&o)&&128===(192&a)&&(l=(15&n)<<18|(63&r)<<12|(63&o)<<6|63&a,l>65535&&1114112>l&&(c=l))}65533===c?s=1:c>65535&&(c-=65536,h.push(c>>>10&1023|55296),c=56320|1023&c),h.push(c)}return String.fromCharCode.apply(String,h)}function T(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;i>r;r++)n+=String.fromCharCode(127&t[r]);return n}function E(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;i>r;r++)n+=String.fromCharCode(t[r]);return n}function S(t,e,i){var n=t.length;(!e||0>e)&&(e=0),(!i||0>i||i>n)&&(i=n);for(var r="",o=e;i>o;o++)r+=R(t[o]);return r}function D(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function I(t,e,i){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function $(e,i,n,r,o,a){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(i>o||a>i)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function A(t,e,i,n){0>e&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);o>r;r++)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function F(t,e,i,n){0>e&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);o>r;r++)t[i+r]=e>>>8*(n?r:3-r)&255}function L(t,e,i,n,r,o){if(e>r||o>e)throw new RangeError("value is out of bounds");if(i+n>t.length)throw new RangeError("index out of range");if(0>i)throw new RangeError("index out of range")}function j(t,e,i,n,r){return r||L(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),V.write(t,e,i,n,23,4),i+4}function M(t,e,i,n,r){return r||L(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),V.write(t,e,i,n,52,8),i+8}function z(t){if(t=O(t).replace(J,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function O(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function R(t){return 16>t?"0"+t.toString(16):t.toString(16)}function B(t,e){e=e||1/0;for(var i,n=t.length,r=null,o=[],a=0;n>a;a++){if(i=t.charCodeAt(a),i>55295&&57344>i){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(56320>i){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=r-55296<<10|i-56320|65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,128>i){if((e-=1)<0)break;o.push(i)}else if(2048>i){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(65536>i){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(1114112>i))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function H(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e}function N(t,e){for(var i,n,r,o=[],a=0;a<t.length&&!((e-=2)<0);a++)i=t.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n);return o}function W(t){return U.toByteArray(z(t))}function q(t,e,i,n){for(var r=0;n>r&&!(r+i>=e.length||r>=t.length);r++)e[r+i]=t[r];return r}var U=i(88),V=i(89),Y=i(90);e.Buffer=t,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,t.poolSize=8192;var X={};t.TYPED_ARRAY_SUPPORT=function(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(i){return!1}}(),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,i){if(!t.isBuffer(e)||!t.isBuffer(i))throw new TypeError("Arguments must be Buffers");if(e===i)return 0;for(var n=e.length,r=i.length,o=0,a=Math.min(n,r);a>o&&e[o]===i[o];)++o;return o!==a&&(n=e[o],r=i[o]),r>n?-1:n>r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,i){if(!Y(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var n;if(void 0===i)for(i=0,n=0;n<e.length;n++)i+=e[n].length;var r=new t(i),o=0;for(n=0;n<e.length;n++){var a=e[n];a.copy(r,o),o+=a.length}return r},t.byteLength=g,t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):m.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,i){function n(t,e,i){for(var n=-1,r=0;i+r<t.length;r++)if(t[i+r]===e[-1===n?0:r-n]){if(-1===n&&(n=r),r-n+1===e.length)return i+n}else n=-1;return-1}if(i>2147483647?i=2147483647:-2147483648>i&&(i=-2147483648),i>>=0,0===this.length)return-1;if(i>=this.length)return-1;if(0>i&&(i=Math.max(this.length+i,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,i);if(t.isBuffer(e))return n(this,e,i);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,i):n(this,[e],i);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(i)?(i=0|i,void 0===n&&(n="utf8")):(n=i,i=void 0);else{var r=n;n=e,e=0|i,i=r}var o=this.length-e;if((void 0===i||i>o)&&(i=o),t.length>0&&(0>i||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,t,e,i);case"utf8":case"utf-8":return _(this,t,e,i);case"ascii":return b(this,t,e,i);case"binary":return w(this,t,e,i);case"base64":return x(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.slice=function(e,i){var n=this.length;e=~~e,i=void 0===i?n:~~i,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>i?(i+=n,0>i&&(i=0)):i>n&&(i=n),e>i&&(i=e);var r;if(t.TYPED_ARRAY_SUPPORT)r=t._augment(this.subarray(e,i));else{var o=i-e;r=new t(o,void 0);for(var a=0;o>a;a++)r[a]=this[a+e]}return r.length&&(r.parent=this.parent||this),r},t.prototype.readUIntLE=function(t,e,i){t=0|t,e=0|e,i||I(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},t.prototype.readUIntBE=function(t,e,i){t=0|t,e=0|e,i||I(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},t.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,i){t=0|t,e=0|e,i||I(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},t.prototype.readIntBE=function(t,e,i){t=0|t,e=0|e,i||I(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},t.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),V.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),V.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),V.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),V.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,i,n){t=+t,e=0|e,i=0|i,n||$(this,t,e,i,Math.pow(2,8*i),0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},t.prototype.writeUIntBE=function(t,e,i,n){t=+t,e=0|e,i=0|i,n||$(this,t,e,i,Math.pow(2,8*i),0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},t.prototype.writeUInt8=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[i]=e,i+1},t.prototype.writeUInt16LE=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=e,this[i+1]=e>>>8):A(this,e,i,!0),i+2},t.prototype.writeUInt16BE=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>8,this[i+1]=e):A(this,e,i,!1),i+2},t.prototype.writeUInt32LE=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i+3]=e>>>24,this[i+2]=e>>>16,this[i+1]=e>>>8,this[i]=e):F(this,e,i,!0),i+4},t.prototype.writeUInt32BE=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e):F(this,e,i,!1),i+4},t.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e=0|e,!n){var r=Math.pow(2,8*i-1);$(this,t,e,i,r-1,-r)}var o=0,a=1,s=0>t?1:0;for(this[e]=255&t;++o<i&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+i},t.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e=0|e,!n){var r=Math.pow(2,8*i-1);$(this,t,e,i,r-1,-r)}var o=i-1,a=1,s=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+i},t.prototype.writeInt8=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[i]=e,i+1},t.prototype.writeInt16LE=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=e,this[i+1]=e>>>8):A(this,e,i,!0),i+2},t.prototype.writeInt16BE=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>8,this[i+1]=e):A(this,e,i,!1),i+2},t.prototype.writeInt32LE=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[i]=e,this[i+1]=e>>>8,this[i+2]=e>>>16,this[i+3]=e>>>24):F(this,e,i,!0),i+4},t.prototype.writeInt32BE=function(e,i,n){return e=+e,i=0|i,n||$(this,e,i,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e):F(this,e,i,!1),i+4},t.prototype.writeFloatLE=function(t,e,i){return j(this,t,e,!0,i)},t.prototype.writeFloatBE=function(t,e,i){return j(this,t,e,!1,i)},t.prototype.writeDoubleLE=function(t,e,i){return M(this,t,e,!0,i)},t.prototype.writeDoubleBE=function(t,e,i){return M(this,t,e,!1,i)},t.prototype.copy=function(e,i,n,r){if(n||(n=0),r||0===r||(r=this.length),i>=e.length&&(i=e.length),i||(i=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>i)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-i<r-n&&(r=e.length-i+n);var o,a=r-n;if(this===e&&i>n&&r>i)for(o=a-1;o>=0;o--)e[o+i]=this[o+n];else if(1e3>a||!t.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)e[o+i]=this[o+n];else e._set(this.subarray(n,n+a),i);return a},t.prototype.fill=function(t,e,i){if(t||(t=0),e||(e=0),i||(i=this.length),e>i)throw new RangeError("end < start");if(i!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>i||i>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;i>n;n++)this[n]=t;else{var r=B(t.toString()),o=r.length;for(n=e;i>n;n++)this[n]=r[n%o]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),i=0,n=e.length;n>i;i+=1)e[i]=this[i];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var G=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=G.get,e.set=G.set,e.write=G.write,e.toString=G.toString,e.toLocaleString=G.toString,e.toJSON=G.toJSON,e.equals=G.equals,e.compare=G.compare,e.indexOf=G.indexOf,e.copy=G.copy,e.slice=G.slice,e.readUIntLE=G.readUIntLE,e.readUIntBE=G.readUIntBE,e.readUInt8=G.readUInt8,e.readUInt16LE=G.readUInt16LE,e.readUInt16BE=G.readUInt16BE,e.readUInt32LE=G.readUInt32LE,e.readUInt32BE=G.readUInt32BE,e.readIntLE=G.readIntLE,e.readIntBE=G.readIntBE,e.readInt8=G.readInt8,e.readInt16LE=G.readInt16LE,e.readInt16BE=G.readInt16BE,e.readInt32LE=G.readInt32LE,e.readInt32BE=G.readInt32BE,e.readFloatLE=G.readFloatLE,e.readFloatBE=G.readFloatBE,e.readDoubleLE=G.readDoubleLE,e.readDoubleBE=G.readDoubleBE,e.writeUInt8=G.writeUInt8,e.writeUIntLE=G.writeUIntLE,e.writeUIntBE=G.writeUIntBE,e.writeUInt16LE=G.writeUInt16LE,e.writeUInt16BE=G.writeUInt16BE,e.writeUInt32LE=G.writeUInt32LE,e.writeUInt32BE=G.writeUInt32BE,e.writeIntLE=G.writeIntLE,e.writeIntBE=G.writeIntBE,e.writeInt8=G.writeInt8,e.writeInt16LE=G.writeInt16LE,e.writeInt16BE=G.writeInt16BE,e.writeInt32LE=G.writeInt32LE,e.writeInt32BE=G.writeInt32BE,e.writeFloatLE=G.writeFloatLE,e.writeFloatBE=G.writeFloatBE,e.writeDoubleLE=G.writeDoubleLE,e.writeDoubleBE=G.writeDoubleBE,e.fill=G.fill,e.inspect=G.inspect,e.toArrayBuffer=G.toArrayBuffer,e};var J=/[^+\/0-9A-Za-z-_]/g}).call(e,i(87).Buffer)},function(t,e,i){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===d?62:e===s||e===u?63:l>e?-1:l+10>e?e-l+26+26:h+26>e?e-h:c+26>e?e-c+26:void 0}function i(t){function i(t){c[d++]=t}var n,r,a,s,l,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=t.length;l="="===t.charAt(h-2)?2:"="===t.charAt(h-1)?1:0,c=new o(3*t.length/4-l),a=l>0?t.length-4:t.length;var d=0;for(n=0,r=0;a>n;n+=4,r+=3)s=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),i((16711680&s)>>16),i((65280&s)>>8),i(255&s);return 2===l?(s=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,i(255&s)):1===l&&(s=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,i(s>>8&255),i(255&s)),c}function r(t){function e(t){return n.charAt(t)}function i(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,o,a,s=t.length%3,l="";for(r=0,a=t.length-s;a>r;r+=3)o=(t[r]<<16)+(t[r+1]<<8)+t[r+2],l+=i(o);switch(s){case 1:o=t[t.length-1],l+=e(o>>2),l+=e(o<<4&63),l+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],l+=e(o>>10),l+=e(o>>4&63),l+=e(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),h="A".charCodeAt(0),d="-".charCodeAt(0),u="_".charCodeAt(0);t.toByteArray=i,t.fromByteArray=r}(e)},function(t,e){e.read=function(t,e,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,c=l>>1,h=-7,d=i?r-1:0,u=i?-1:1,p=t[e+d];for(d+=u,o=p&(1<<-h)-1,p>>=-h,h+=s;h>0;o=256*o+t[e+d],d+=u,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+t[e+d],d+=u,h-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var a,s,l,c=8*o-r-1,h=(1<<c)-1,d=h>>1,u=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,v=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+d>=1?u/l:u*Math.pow(2,1-d),e*l>=2&&(a++,l/=2),a+d>=h?(s=0,a=h):a+d>=1?(s=(e*l-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[i+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[i+p]=255&a,p+=f,a/=256,c-=8);t[i+p-f]|=128*v}},function(t,e){var i=Array.isArray,n=Object.prototype.toString;t.exports=i||function(t){return!!t&&"[object Array]"==n.call(t)}},function(t,e,i){var n,r;n=[i(92),i(4)],r=function(t,e){function i(i,n){var r=e(ejs.render(t,i));r.prependTo(e(".iva-alertWrap")),r.fadeIn().delay(n||3e3).fadeOut(400,function(){e(this).remove()})}return i}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-alert <% if (type == "success") { %>iva-success<% } %><% if (type == "error") { %>iva-error<% } %>" style="display:none;">	                <i class="iva-iconfont">	                  <% if (type == "success") { %>	                  &#xe603;	                  <% } else if (type == "error") { %>	                  &#xe608;	                  <% } %>	                </i>	                <p class="iva-alertMsg">	                  <% var faq = faq || false %>	                  <% if (faq) { %>	                  您没有权限，去<a href="http://videojj.com/faq#15" target="_blank">FAQ</a>页面寻求帮助	                  <% } else { %>	                  <%= msg %>	                  <% } %>	                </p>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(83),i(4)],r=function(t,e){return function(i,n){var r=(new Date).getTime(),o="getCookieCb_"+r;window[o]=function(t){n(t),e(a).remove()};var a=document.createElement("script");a.type="text/javascript",a.src=t+i+"?callback="+o,document.body.appendChild(a)}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(96),i(1),i(91),i(97),i(98),i(85),i(82),i(126),i(185),i(95),i(131),i(186),i(189),i(190),i(194),i(83),i(198),i(4)],r=function(t,e,i,n,r,o,a,s,l,c,h,d,u,p,f,v,g,m){var y=arguments;return function(t){var e=y[0],i=y[1],n=y[2],r=y[3],o=y[4],a=y[5],s=y[6],l=y[7],c=y[8],h=(y[9],y[10],y[11]),d=(y[12],y[13]),u=(y[14],y[15],y[16]),p=y[17],f=e.hex_md5(t.options.video),v=t.options.videoStartPrefixSeconds;if(t.options.memory&&t.options.autoplay)var g=parseInt(i.docCookies.getItem("video"+f));g&&(v=g);var m=function(){t.zr&&t.zr.clear(),_(),b(),t.$ivaWrap.find(".iva-tip").remove(),t.$ivaWrap.find(".iva-tagImgWrap").remove(),t.$ivaWrap.find(".iva-trackBox").remove(),t.$ivaWrap.find(".iva-vote-style-preview").remove()},_=function(){t.$ivaWrap.find(".wheel-button").remove(),t.$ivaWrap.find("#wheel").remove()},b=function(){t.$ivaWrap.find(".iva-windowwrap").remove()};v||(v=null),t.player.init(t.options.video,v,{Appkey:t.options.appkey,logo:t.options.logo,need_analyze:0==t.options.type||3==t.options.type?!0:!1,small_logo:t.options.logo,small_logo_url:t.options.site,video_poster:t.options.cover,right_hand:t.options.rightHand,auto_format:t.options.autoFormat,white_dot:t.options.whiteDot,editor_mode:t.options.editorMode,jump_step:t.options.jumpStep,load_and_pause:!t.options.autoplay,site:t.options.site,video_end_prefix_seconds:t.options.videoEndPrefixSeconds,loading_text:t.options.loadingText,skin_select:t.options.skinSelect,is_live:!!t.options.live,play_callback:function(){t.zr&&t.zr.clear(),t.$ivaWrap&&(_(),b()),t.player&&t.player.show_the_player_bar(),t.vor&&t.vor.clean(),a.videoId&&s("/api/tracks/play","POST",{video:a.videoId,time:parseInt(1e3*t.player.get_time())},function(){console.log("video played track")})},pause_callback:function(){t.$ivaWrap&&t.$ivaWrap.find(".iva-trackBox").remove(),a.videoId&&s("/api/tracks/pause","POST",{video:a.videoId,time:parseInt(1e3*t.player.get_time())},function(){console.log("video paused track")})},stop_callback:function(){console.log("stop"),t.player.pause(),t.options.stop&&t.options.stop.call(t)},start_seek_callback:function(){a.videoId&&t._getTags(),t.$ivaWrap&&m()},end_seek_callback:function(){console.log("end seek")},fullscreen_callback:function(){t.$ivaWrap.css("width","100%").css("height","100%").css("left",0).css("top",0),setTimeout(function(){t.zr&&t.zr.resize(),t.vor&&t.vor.resize()},1e3)},exitfullscreen_callback:function(){r(t),t.$ivaWrap.css("width","100%").css("height","100%").css("left",0).css("top",0),setTimeout(function(){t.zr&&t.zr.resize(),t.vor&&t.vor.resize()},1e3)},loaded_callback:function(){t._getVideo(),t.player.hide_loading(),t.options.live&&t.player.end_keypress_event(),t.$ivaInterface=p(t.parent).find(".player_for_user"),t.options.memory&&v&&n({type:"success",msg:"从上次离开的时间点继续观看"}),t.$ivaWrap=p('<div class="iva-wrap iva-parent"></div>').appendTo(t.$ivaInterface),t.options.live&&t.$ivaWrap.addClass("__live"),r(t),t.zr=o.init(t.$ivaWrap.get(0)),t.$ivaWrap.children().addClass("iva-canvasParent"),a.userId&&l(t),t.isMobile||((t.options.vor||1==t.options.windmill)&&(t.windmill=new d(t),t.windmill.init({pic:t.options.windLogo?t.options.windLogo:"http://7xjfim.com2.z0.glb.qiniucdn.com/iva2-windmill.png"})),t.options.bubble&&(t.bubble=new h(t))),t.options.vor&&(setTimeout(function(){t.windmill.show({tag:"html",type:1,content:'<img style="height:20px;width:20px;" src="http://7xjfim.com2.z0.glb.qiniucdn.com/vor-tip.gif"><span style="float:right;">框出所想 立刻灵悟</span>',timeout:1e4})},1e3),t.vor=new u(t),t.vor.init()),t.options.loaded&&t.options.loaded.call(t);var e=(new Date).getTime();t.$ivaWrap.on("mousemove",function(){t.$ivaWrap.removeClass("iva-sleep");var i=(new Date).getTime();i-e>2e3&&(setTimeout(function(){t.$ivaWrap.addClass("iva-sleep")},5e3),e=i)}),t.$ivaWrap.on("mouseleave",function(){t.$ivaWrap.addClass("iva-sleep")}),t.options.bigLogoPos&&t.options.bigLogo&&t.$ivaWrap.append(p('<img class="iva-bigLogo iva-bigLogo-'+t.options.bigLogoPos+'" alt="logo" src="'+t.options.bigLogo+'"/>'))},parse_error_callback:function(){t.destroy(),c(t)},show_bar_callback:function(){p(".iva-bubbleEditer").fadeIn()},hide_bar_callback:function(){p(".iva-bubbleEditer input:focus").length||p(".iva-bubbleEditer").fadeOut()}})}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(4)],r=function(t){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n,r;n=[i(2),i(16),i(3),i(5),i(14),i(15),i(1),i(18),i(19),i(20),i(21),i(22)],r=function(t,e,i,n,r,o,a,s,l,c,h,d){var u;return u=function(){function u(e,i){this.parentContainer=e,this.params=i,this.parentContainer=t.parseToJquery(this.parentContainer),this.stamp=(new Date).getTime(),this.cur_play_video=0,this.mute_flag=!1,this.first_to_play=!0,this.error_test_step=5,this.error_test=5,this.loadingComponent=void 0,this.render(),this.cur_play_video=this.container,this.container.get(0).tabIndex=0,this.model={}}return u.prototype.insert_dots=function(t){return this.videoController.insertDots?this.videoController.insertDots(t):void 0},u.prototype.check_dot=function(t){return this.videoController.checkDot?this.videoController.checkDot(t):void 0},u.prototype.init=function(t,d,u){return this.video_url=t,this.time=d,this.params=u,navigator.userAgent.match(/iPhone|iPad|Android/)?/^\$.+iqiyi$/.test(this.video_url)?this.videoController=new h(this,this.video_url,this.time):this.videoController=new i(this,this.video_url,this.time):/^\$.+cloudletv$/.test(this.video_url)?this.videoController=new r(this,this.video_url,this.time):/^\$.+cztv$/.test(this.video_url)?this.videoController=new o(this,this.video_url,this.time):/^\$.+hunantv$/.test(this.video_url)?this.videoController=new a(this,this.video_url,this.time):/^\$.+hunanlive$/.test(this.video_url)?this.videoController=new s(this,this.video_url,this.time):/^\$.+plu$/.test(this.video_url)?this.videoController=new l(this,this.video_url,this.time):/^\$.+iqiyi$/.test(this.video_url)?this.videoController=new c(this,this.video_url,this.time):this.videoController=new n(this,this.video_url,this.time),this.cur_format=this.params.auto_format===!0?"auto":this.params.force_format||"HD",e(this.video_url,this.params,this.analyze_success.bind(this))},u.prototype.analyze_success=function(t,e,i,n){return null!=t?(this.videoController.player_control_bar.showLoading("解析视频错误"),void(null!=this.params.parse_error_callback&&this.params.parse_error_callback())):(this.is_consing=!1,this.cur_address=e,this.total_time=i,this.cur_site=n,this.videoController.init(this.cur_address,this.total_time,this.cur_site))},u.prototype.render=function(){var t;return t="<div class='container"+this.stamp+"' style='height:100%;width:100%;position:relative;background:black'></div>",this.parentContainer.append(t),this.container=this.parentContainer.find(".container"+this.stamp)},u.prototype.play=function(){return this.videoController.play(!0)},u.prototype.pause=function(){return this.videoController.pause(!0)},u.prototype.jumpTo=function(t){return this.videoController.jump(t)},u.prototype.set_src=function(t,e){var i;return i=new u(this.parentContainer,this.params),i.show_loading(),i.init(t,e,this.params),this.destroy(),i},u.prototype.destroy=function(){
return this.videoController&&clearInterval(this.videoController.buffing),this.container.remove()},u.prototype.get_total_time=function(){return this.videoController.total_time||0},u.prototype.show_loading=function(){return this.loadingComponent=new d(this)},u.prototype.hide_loading=function(){return this.loadingComponent?this.loadingComponent.destory():void 0},u.prototype.get_player_control_bar=function(){return this.videoController.player_control_bar.player_control_bar},u.prototype.get_time=function(){return this.videoController.getCurtime()},u.prototype.hide_the_player_bar=function(){return this.videoController.hidePlayerControlBar()},u.prototype.show_the_player_bar=function(){return this.videoController.showPlayerControlBar()},u.prototype.start_keypress_event=function(){return this.videoController.setKeyEventStart()},u.prototype.end_keypress_event=function(){return this.videoController.setKeyEventStop()},u.prototype.is_pause=function(){return this.videoController.isPause()},u.prototype.get_video_proportion=function(){return this.videoController.getVideoProportion()},u.prototype.get_current_video=function(){return this.videoController.getCurrentVideo()},u.prototype.getNow=function(t){return this.videoController.getNow(t)},u}()}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(e,i,n){var r;r=function(){var e,i,n,r;return e=null,r=null,n=null,i=function(){function i(t,e,i){var n;this.venvyPlayer=t,this.video_url=e,this.time=i,n=this,this._isLoaded=!1,this._isPause=!1,window.vjjFlash=function(t,e){switch(t){case"roll_out_video":this._hideUser();break;case"roll_over_video":this._showUser();break;case"play_callback":this._isLoaded!==!0&&(this._isLoaded=!0,null!=this.venvyPlayer.params.loaded_callback&&this.venvyPlayer.params.loaded_callback());break;case"resume_callback":this._isPause=!1,null!=this.venvyPlayer.params.play_callback&&this.venvyPlayer.params.play_callback();break;case"pause_callback":this._isPause=!0,null!=this.venvyPlayer.params.pause_callback&&this.venvyPlayer.params.pause_callback();break;case"stop_callback":null!=this.venvyPlayer.params.stop_callback&&this.venvyPlayer.params.stop_callback();break;case"show_bar_callback":null!=this.venvyPlayer.params.show_bar_callback&&this.venvyPlayer.params.show_bar_callback();break;case"hide_bar_callback":null!=this.venvyPlayer.params.hide_bar_callback&&this.venvyPlayer.params.hide_bar_callback();break;case"start_seek_callback":null!=this.venvyPlayer.params.start_seek_callback&&this.venvyPlayer.params.start_seek_callback();break;case"fullscreen_callback":null!=this.venvyPlayer.params.fullscreen_callback&&this.venvyPlayer.params.fullscreen_callback();break;case"exitfullscreen_callback":null!=this.venvyPlayer.params.exitfullscreen_callback&&this.venvyPlayer.params.exitfullscreen_callback()}}.bind(this)}return i.prototype.init=function(t,e,i){return this.cur_address=t,this.total_time=e,this.cur_site=i,this.render()},i.prototype.render=function(){var i,r;return r=this,i=this.cur_address.HD[0].url.replace(/^\$|\$hunantv$/g,""),e=t("<div class='player_for_user' oncontextmenu='return false' style='position:absolute;z-index:30;top:0;left:0;bottom:60px;width:100%;color:white;'>\n</div>").appendTo(this.venvyPlayer.container).on("click",function(){return this.isPause()?this.play():this.pause()}.bind(this)),this.venvyPlayer.container.append('<object id="hunan-flash" class="venvy_videos cur_player" type="application/x-shockwave-flash" data="'+i+'" wmode="opaque">\n    <param name="quality" value="high" />\n    <param name="bgcolor" value="#000000" />\n    <param name="allowScriptAccess" value="always" />\n    <param name="allowFullScreen" value="true" />\n    <param name="allowInsecureDomain" value="*" />\n    <param name="allowDomain" value="*" />\n</object>'),this.jvideo=this.venvyPlayer.container.find(".cur_player"),this.video=this.jvideo.get(0),r.venvyPlayer.params.logined!==!0&&(e.on("mouseenter mousemove",function(){return r.showPlayerControlBar(),clearTimeout(n),n=setTimeout(function(){return r.hidePlayerControlBar()},1e3)}),this.jvideo.on("mouseenter",function(){return r._hideUser()}).on("mouseleave",function(){return r._showUser()})),this.venvyPlayer.container.on("keydown",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),32===e.keyCode?t.isPause()?t.play():t.pause():void 0}}(this))},i.prototype.play=function(){return this.video.resume()},i.prototype.pause=function(){return this.video.pause()},i.prototype.jump=function(t){},i.prototype.remove=function(){return this.video.remove()},i.prototype.getCurtime=function(){return this.video.get_time()},i.prototype.hidePlayerControlBar=function(){return this.video.hide_the_player_bar()},i.prototype.showPlayerControlBar=function(){return this.video.show_the_player_bar()},i.prototype.getVideoProportion=function(){return null},i.prototype.getCurrenVideo=function(){return this.video},i.prototype.isPause=function(){return this._isPause},i.prototype._showUser=function(){return e.removeClass("__hidden").css("bottom","60px"),0},i.prototype._hideUser=function(){return e.addClass("__hidden").css("bottom","200px"),0},i}()}.call(i,n,i,e),!(void 0!==r&&(e.exports=r))},function(e,i,n){var r,o=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=function(){var e,i,n,r,a,s,l,c,h,d,u,p,f,v,g,m,y,_,b,w,x,k,C,P,T,E,S,D,I,$,A,F,L;for(w=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},k=function(e){return e instanceof t},x=function(t){return"string"==typeof t&&t.constructor===String},I=function(e){var i;return i=function(){switch(!1){case w(e)!==!0:return t(e);case k(e)!==!0:return e;case x(e)!==!0:return t("#"+e)}}(),null!=i&&(i.css({overflow:"hidden",background:"black"}),"static"===i.css("position")&&i.css("position","relative")),i},m=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=/[^a-z\d\+\=\/]/gi,i={},F=e.split(""),b=C=0,E=F.length;E>C;b=++C)p=F[b],i[p]=b;return r=function(t){function e(t){t?this.message='"'+t+'" is an invalid Base64 character':this.message="Invalid bytes sequence"}return o(e,t),e.prototype.name="InvalidSequence",e}(Error),s=function(t){var e,n,o,a,s,l,c,h,d;if(d="",b=0,h=t.length,h%4)throw new r;for(;h>b;)a=i[t.charAt(b++)],s=i[t.charAt(b++)],l=i[t.charAt(b++)],c=i[t.charAt(b++)],e=a<<2|s>>4,n=(15&s)<<4|l>>2,o=(3&l)<<6|c,d+=m(e),64!==l&&(d+=m(n)),64!==c&&(d+=m(o));return d},l=function(t){var e,i,n,r,o,a;for(i=void 0,n=void 0,r=void 0,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,o=t.length,a="";o>b;){if(i=255&t.charCodeAt(b++),b===o){a+=e.charAt(i>>2),a+=e.charAt((3&i)<<4),a+="==";break}if(n=t.charCodeAt(b++),b===o){a+=e.charAt(i>>2),a+=e.charAt((3&i)<<4|(240&n)>>4),a+=e.charAt((15&n)<<2),a+="=";break}r=t.charCodeAt(b++),a+=e.charAt(i>>2),a+=e.charAt((3&i)<<4|(240&n)>>4),a+=e.charAt((15&n)<<2|(192&r)>>6),a+=e.charAt(63&r)}return a},g=function(t){var e;return e=parseInt(t),Math.floor(e/60).toString().replace(/^([0-9])$/,"0$1")+":"+Math.floor(e%60).toString().replace(/^([0-9])$/,"0$1")},y=function(e){return e=e[0],e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():(t(e).css({position:"fixed",left:0,top:0,"z-index":2147483647}),window.fullScreen=t(e),t(document).trigger("fullscreenChange"),t("body").css("overflow","hidden"))},f=function(){return document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():(window.fullScreen.css({position:"relative","z-index":"1"}),t("body").css("overflow","auto"),window.fullScreen=null,t(document).trigger("fullscreenChange"))},v=function(t){switch(t){case"SD":return"标清";case"HD":return"高清";case"SuperHD":return"超清"}return t},S=function(e){return t("<link/>",{rel:"stylesheet",type:"text/css",href:"/css/"+e+".css"}).appendTo("head")},$=function(t){var e;return e={},t=t.substring(1,t.length),t.split("&").forEach(function(t){var i;return i=t.split("="),e[i[0]]=i[1]}),e},D=function(){},_=function(){var t;return t=$(window.location.search),t.videojjhost||"videojj.com"},A=function(t){var e,i,n;i=[];for(e in t)n=t[e],t.hasOwnProperty(e)&&i.push([e,n].join("="));return i.join("&")},d="MAMA2_HTTP_JSONP_CALLBACK",c=0,L=1e4,h=function(){return d+c++},T=function(t,e,i){var n,r,o;return console.log("query url",t),i=i||"callback",n=h(),window[n]=function(t){return clearTimeout(L),window[n]=D,e(t),document.body.removeChild(r)},o=setTimeout(function(){return window[n](-1)},L),r=document.createElement("script"),r.type="text/javascript",r.src=t+(-1===t.indexOf("?")?"?":"&")+i+"="+n,document.body.appendChild(r)},P=function(t,e){return 0===e.length?t:t+(-1===t.indexOf("?")?"?":"&")+e},a=function(t){var e,i,n,r,o,a,s;return a=t.url||"",o=A(t.param||{}),r=t.method||"GET",e=t.callback||function(){},i=t.contentType||"json",n=t.context||null,t.jsonp?T(P(a,o),e.bind(n),"string"==typeof t.jsonp?t.jsonp:void 0):(s=new XMLHttpRequest,"get"===r.toLowerCase()&&(a=P(a,o),o=""),s.open(r,a,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),s.send(o),s.onreadystatechange=function(){var t,r,o;if(4===s.readyState&&200===s.status){if(t=s.responseText,"json"===i.toLowerCase()){try{t=JSON.parse(t)}catch(o){r=o,t=-1}return e.call(n,t)}return e.call(n,-1)}})},u=function(){return!0},{get_videojjparse_url:_,load_css:S,parseToJquery:I,base64_encode:l,base64_decode:s,format_time:g,fullscreen:y,exitfullscreen:f,fix_the_format:v,ajax:a,canPlayM3U8:u}}.call(i,n,i,e),!(void 0!==r&&(e.exports=r))},function(e,i,n){var r,o;r=[n(2),n(4)],o=function(e,i){var n,r,o,a,s,l,c,h,d;return n=null,r=null,o=null,l=null,s=null,a=null,c=null,h=null,d=function(){function h(t,e,i,n){this.venvyPlayer=t,this.video_url=e,this.time=i,this.cur_url=n,this._isLoaded=!1}return h.prototype.init=function(t,e,i){if(this.cur_address=t,this.total_time=e,this.cur_site=i,null==this.cur_url)switch(this.cur_site){case"plu":this.cur_url=this.cur_address.SD[0].url,this.total_time=this.cur_address.SD[0].seconds;break;case"youku":Object.keys(this.cur_address).every(function(t){return function(e){return/^3GP-HD$|^Mobile-m3u8/.test(e)?(t.cur_url=t.cur_address[e][0].url,t.total_time=t.cur_address[e][0].seconds,!1):!0}}(this)),this.cur_url||(this.cur_url=this.cur_address["MP4-HD"][0].url,this.total_time=this.cur_address["MP4-HD"][0].seconds);break;case"qq":this.cur_url=this.cur_address.SD[0].url,this.total_time=this.cur_address.SD[0].seconds;break;case"hunantv":this.cur_url=this.cur_address["Mobile-MP4-HD"][0].url,this.total_time=this.cur_address["Mobile-MP4-HD"][0].seconds;break;case"tudou":this.cur_url=this.cur_address["Mobile-m3u8-SD"][0].url,this.total_time=this.cur_address["Mobile-m3u8p-SD"][0].seconds;break;case"sohu":this.cur_url=this.cur_address.SD[0].url,this.total_time=this.cur_address.SD[0].seconds;break;case"pptv":this.cur_url=this.cur_address.SD[0].url,this.total_time=this.cur_address.SD[0].seconds;break;default:this.cur_url=this.cur_address.HD[0].url,this.total_time=this.cur_address.HD[0].seconds}return/MicroMessenger|Chrome|iPad/.test(navigator.userAgent)?this._useControl=!0:this._useControl=!1,this._isFS=!1,this.render(),this.event()},h.prototype.render=function(){var t,e,a;return e=this.venvyPlayer.params.load_and_pause===!0?"":'autoplay="true"',a=this._useControl===!0?"":'controls="true"',this.venvyPlayer.container.append(i.html(this.cur_url,e,this.venvyPlayer.params.video_poster||"",a)),t=this.venvyPlayer.container.find(".cur_player"),this.jvideo=t,this.video=this.jvideo[0],c=this.venvyPlayer.container.find(".player_for_user"),n=this.venvyPlayer.container.find(".mobile-control-bar"),this._useControl?(r=n.find(".mobile-play-btn"),o=n.find(".mobile-seeker-range"),s=n.find(".mobile-time-current"),l=n.find(".mobile-time-total"),90===window.orientation||-90===window.orientation?this._toggleFullScreen(!1):void 0):(c.remove(),n.remove())},h.prototype.event=function(){var n,h;return h=this,this.jvideo.on("play",function(t){return function(){return t._useControl&&(c.css("background","initial"),t.video.paused||r.html("&#xe602;")),null!=t.venvyPlayer.params.play_callback?t.venvyPlayer.params.play_callback():void 0}}(this)).on("pause",function(){return null!=h.venvyPlayer.params.pause_callback?h.venvyPlayer.params.pause_callback():void 0}).on("waiting",function(t){return function(){return console.debug("waiting")}}(this)).on("seeked",function(t){return function(){return console.debug("seeked"),null!=t.venvyPlayer.params.start_seek_callback&&t.venvyPlayer.params.start_seek_callback(),t._isLoaded&&t._useControl?t.play():void 0}}(this)).on("canplay",function(t){return function(){return t._isLoaded=!0,t._useControl?l.text(e.format_time(t.total_time)):void 0}}(this)).on("loadeddata",function(t){return function(){return t.total_time=t.video.duration,t.time&&(t.video.currentTime=t.time),t._isLoaded!==!0&&null!=t.venvyPlayer.params.loaded_callback?t.venvyPlayer.params.loaded_callback():void 0}}(this)).on("timeupdate",function(t){return function(){return t._useControl?t._handleTimeupdate(t.video.currentTime):void 0}}(this)).on("ended",function(){return null!=h.venvyPlayer.params.stop_callback?h.venvyPlayer.params.stop_callback():void 0}).on("error",function(t){return function(){return null!=t.venvyPlayer.params.parse_error_callback?t.venvyPlayer.params.parse_error_callback():void 0}}(this)),this._useControl?(a=t("<style/>",{"class":"mobile-style"}).append(i.style(0)).appendTo("head"),n=null,c.on("touchstart touchmove touchend",function(t){return function(e){return t._isLoaded===!0?(t._isFS&&e.preventDefault(),"touchstart"===e.type?r.trigger("touchstart"):void 0):void 0}}(this)),r.on("touchstart",function(){return h.video.paused===!0?h.play():h.pause()}),o.on("change",function(t){return function(e){return t.video.currentTime=parseInt(o.val())/1e4*t.total_time}}(this)).on("update",function(){return a.html(i.style(t(this).val())),s.text(e.format_time(h.video.currentTime))}).on("input",function(i){return h.pause(),s.text(e.format_time(parseInt(t(this).val())/1e4*h.total_time))}),t(window).on("orientationchange",function(t){return 90===window.orientation||-90===window.orientation?h._toggleFullScreen(!1,!0):h._toggleFullScreen(!0,!0)})):void 0},h.prototype._handleTimeupdate=function(t){var e;return e=t/this.total_time*1e4,o.val(e).trigger("update")},h.prototype._showBar=function(){return n.addClass("__show"),this.venvyPlayer.params.show_bar_callback&&!n.hasClass("__show")?this.venvyPlayer.params.show_bar_callback():void 0},h.prototype._hideBar=function(){return n.removeClass("__show"),this.venvyPlayer.params.hide_bar_callback&&n.hasClass("__show")?this.venvyPlayer.params.hide_bar_callback():void 0},h.prototype._toggleFullScreen=function(t,e){if(t===!0){if(this._isFS=!1,this.venvyPlayer.container.css({position:"relative","z-index":"1"}),this.venvyPlayer.params.exitfullscreen_callback&&e)return this.venvyPlayer.params.exitfullscreen_callback()}else if(this._isFS=!0,this.venvyPlayer.container.css({position:"fixed",left:0,top:0,"z-index":2147483647}),this.venvyPlayer.params.fullscreen_callback&&e)return this.venvyPlayer.params.fullscreen_callback()},h.prototype.pause=function(){return this.video.pause(),this._useControl?r.html("&#xe603;"):void 0},h.prototype.play=function(){return this.video.play(),this._useControl?r.html("&#xe602;"):void 0},h.prototype.jump=function(t){return this.video.currentTime=t},h.prototype.remove=function(){return this.jvideo.remove()},h.prototype.showPlayerControlBar=function(){return this._showBar()},h.prototype.hidePlayerControlBar=function(){return this._hideBar()},h.prototype.getCurtime=function(){return this.video?this.video.currentTime:this.time||0},h.prototype.getVideoProportion=function(){return this.video.videoWidth/this.video.videoHeight},h.prototype.getCurrentVideo=function(){return this.video},h.prototype.isPause=function(){return this.video.paused},h}()}.apply(i,r),!(void 0!==o&&(e.exports=o))},function(t,e,i){var n;n=function(){var t,e;return t=function(t,e,i,n){return"<div class='player_for_user' oncontextmenu='return false' style='position:absolute;z-index:30;height:100%;width:100%;color:white;background-image:url(\""+i+"\");background-size:contain;background-repeat: no-repeat;background-position:50%;'>\n</div>\n<video id='video1' webkit-playsinline class='venvy_videos cur_player' src='"+t+"' preload='auto' "+e+" "+n+" poster='"+i+'\'></video>\n<div class="mobile-control-bar __show">\n  <button class="mobile-play-btn player_control_bar_iconfont">&#xe603;</button>\n  <div class="mobile-time-current">00:00</div>\n  <div class="mobile-seeker">\n    <input class="mobile-seeker-range" type="range" value="0" min="0" max="10000" step="1" />\n  </div>\n  <div class="mobile-time-total"></div>\n  <!-- <button class="mobile-fullscreen-btn player_control_bar_iconfont">&#xe601;</button> -->\n</div>'},e=function(t){return".mobile-seeker-range::-webkit-slider-runnable-track {\n  background-image: linear-gradient(to right, rgb(9, 209, 177) "+parseInt(t)/100+"%, rgba(48, 40, 44, .5) "+parseInt(t)/100+"%, rgba(48, 40, 44, 0.5) 100%);\n}"},{html:t,style:e}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(e,i,n){var r,o,a=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};r=[n(6),n(8),n(9),n(10),n(11),n(2)],o=function(e,i,n,r,o,s){var l;return l=function(){function s(t,e,i){this.venvyPlayer=t,this.video_url=e,this.time=i,this.self=this,this.curtime=this.time||0,this.ended=0,this.isend=!1,this.playcalled=!1,this.players=[],this.lastplayer=void 0,this.buffing=void 0,this.firstVideoLoaded=!1,this.video_end_profix_called=!1,this.SKINLIST={0:"base",1:"technology",2:"gradual"},this.LEGELFORMAT=["1080p","720p","SuperHD","HD","SD"],this.video_format_list=[],this.stalled_try_count=10,this.player_control_bar=new o(this.venvyPlayer,this.venvyPlayer.params),this.venvyPlayer.params.skin_select>=0?this.load_css(this.venvyPlayer.params.skin_select):this.load_css(0),this.venvyPlayer.params.editor_mode===!0&&this.venvyPlayer.container.find(".is_buffering").remove(),this.venvyPlayer.params.is_live===!0&&this.player_control_bar.hideProgress()}return s.prototype.init=function(t,i,n){var r,o;return this.cur_address=t,this.total_time=i,this.cur_site=n,o=this,this.player_control_bar.video_controller_register(this),this.venvyPlayer.need_to_return_clarify!==!1&&(e(this.venvyPlayer,this.cur_address),this.venvyPlayer.need_to_return_clarify=!1,Object.keys(this.cur_address).forEach(function(t){return t!==o.venvyPlayer.cur_format&&a.call(o.LEGELFORMAT,t)>=0?o.video_format_list.push(t):void 0})),this._loadResource(this.venvyPlayer.cur_format),r=this._changeCurplay(this.curtime),this.curplayer.load(),this.curplayer.show(),this.curplayer.jump(r)},s.prototype.insertDots=function(t){return this.player_control_bar.insertDots(t)},s.prototype.checkDot=function(t){return this.player_control_bar.checkDot(t)},s.prototype.load_css=function(t){return this.player_control_bar.player_control_bar.addClass("skin_"+t)},s.prototype.getCurrentVideo=function(){return this.curplayer.getCurrentVideo()},s.prototype.setKeyEventStop=function(){return this.player_control_bar.setKeyEventStop()},s.prototype.setKeyEventStart=function(){return this.player_control_bar.setKeyEventStart()},s.prototype.getCurtime=function(){return this.curtime},s.prototype.getNow=function(t){var e;return this.curplayer.video.hasOwnProperty("get")?t?this.curplayer.getCurrentTime():this.curplayer.video.get("currentTime"):this.curplayer.video.hasOwnProperty("getProperty")?t?this.curplayer.getCurrentTime():this.curplayer.video.getProperty("currentTime"):(e=this._getOffsetSecond(),t?e+this.curplayer.video.currentTime:this.curplayer.video.currentTime)},s.prototype.mute=function(){var t,e,i,n;for(n=this.players,t=0,e=n.length;e>t;t++)i=n[t],i.mute();return this.player_control_bar.mute()},s.prototype.unmute=function(){var t,e,i,n;for(n=this.players,t=0,e=n.length;e>t;t++)i=n[t],i.unmute();return this.player_control_bar.unmute()},s.prototype.changeVolume=function(t){var e,i,n,r;for(t>1&&(t=1),0>t&&(t=0),r=this.players,e=0,i=r.length;i>e;e++)n=r[e],0!==t&&n.unmute(),n.volume(t);return this.player_control_bar.changeVolume(t)},s.prototype.getVolume=function(){return this.curplayer.getVolume()},s.prototype.showSmallPic=function(e,i){var n,r,o,a,s,l,c,h,d,u;switch(l=this,this.cur_site){case"qq":return this.total_time<300?n=2:this.total_time>=300&&this.total_time<600?n=5:this.total_time>=600&&(n=10),c=this.curplayer.getUrl().split("?"),c[0]&&(c=c[0].split("/"),c=c[c.length-1].split("."),c[0]&&(u=c[0])),e+=n,a=parseInt(e/(25*n))+1,s=parseInt(e%(25*n)),o=450-90*parseInt(s/(5*n)),r=800-160*parseInt(s%(5*n)/n),d="http://video.qpic.cn/video_caps/0/"+u+".q2."+a+".jpg/0",h=t("<img src="+d+"></img>"),h.on("load",function(){return l.player_control_bar.player_control_bar_picture.css({"background-image":"url("+d+")","background-position-x":r+"px","background-position-y":o+"px"}),i(null,h)});default:return i(null,!1)}},s.prototype._loadResource=function(t){var e,o,a,s,l;if(this.venvyPlayer.cur_format=t,/letv/.test(this.cur_site)&&null!=this.venvyPlayer.params.parse_error_callback&&this.venvyPlayer.params.parse_error_callback(),this.play_list=i(this.venvyPlayer,this.cur_address),0===this.play_list.length)return void(this.venvyPlayer.error_test>0?(this._loadResource(t),this.venvyPlayer.error_test--):(this.player_control_bar.showLoading("解析视频错误"),null!=this.venvyPlayer.params.parse_error_callback&&this.venvyPlayer.params.parse_error_callback()));switch(this.cur_source_format=this.play_list.cur_source_format,this.venvyPlayer.cur_source_format=this.cur_source_format,this.cur_list=this.play_list.cur_list,this.total_time=this.play_list.total_time,this.total_video=this.play_list.total_video,this.venvyPlayer.params.force_flash===!0&&(this.cur_source_format="flv"),this.cur_source_format){case"flv":return o=document.getElementById("venvyFlash"),o&&o.remove(),window.venvyFlash||(window.venvyFlash={waitForSwf:function(t){var e,i;return e=document.getElementById("venvyFlash"),i="window.venvyFlash.waitForSwf("+t+")",e.hasOwnProperty("setProperty")?(e.setProperty("list",window.venvyFlash.el.video_params),t?e.setProperty("volume",t):void 0):setTimeout(i,100)},onEvent:function(t,e,i){return/loadeddata|play|timeupdate|waiting|error|ended/.test(e)?window.venvyFlash.el.trigger(e,i):void 0},el:null},window.vjjFlash={meta:!1,onReady:function(){var t,e,i,n;return/m3u8/.test(this.el.video_params[0].url)?(this.el.video.set("mode","HLS"),/cztvlive$/.test(this.el.video_params[0].url)?(e=this.el.video_params[0].url.split("$"),t=e[1]+","+e[2],this.el.video.set("src",t)):/xueban/.test(this.el.video_params[0].url)?(t=this.el.video_params[0].url,this.el.video.set("presrc",t,2)):(t=this.el.video_params[0].url,this.el.video.set("src",t))):/^rtmp/.test(this.el.video_params[0].url)?(e=this.el.video_params[0].url.split("/"),n=e.pop()||e.pop(),i=e.join("/"),this.el.video.set("mode","RTMP"),this.el.video.set("src",{connectionURL:i,streamURL:n}),this.el.H5Video.player_control_bar.hideProgress()):void 0},onEvent:function(t,e,i){switch(e){case"loadedmetadata":return this.meta=!0,this.el.trigger("loadeddata");case"play":case"ended":case"timeupdate":case"seeked":case"canplaythrough":case"waiting":case"canplay":return this.el.trigger(e)}},onError:function(t,e){return console.error(e)},el:null}),/m3u8|^rtmp/.test(this.cur_list[0].url)?/cztvlive$/.test(this.cur_list[0].url)?this.players=[new r(this.venvyPlayer,this.self,this.cur_list,"cztv_live")]:this.players=[new r(this.venvyPlayer,this.self,this.cur_list,"vjj-swf")]:this.players=[new r(this.venvyPlayer,this.self,this.cur_list)];default:for(l=this.cur_list,a=0,s=l.length;s>a;a++)e=l[a],this.players.push(new n(this.venvyPlayer,this.self,e));return this.venvyPlayer.error_test=this.venvyPlayer.error_test_step*this.cur_list.length}},s.prototype.changeFormat=function(t){var e,i,n,r,o,a,s,l,c,h;if(this.player_control_bar.hideStalled(),t!==this.venvyPlayer.cur_format){for(this.player_control_bar.showFormatChange(t),this.lastplayer=this.curplayer,h=this.lastplayer.getVolume(),n=this.lastplayer.getMuted(),l=this.players,i=0,o=l.length;o>i;i++)s=l[i],this.lastplayer!==s&&s.remove();for(this.players=[],this._loadResource(t),e=this._changeCurplay(this.curtime),this.curplayer.jump(e),this.curplayer.load(),c=this.players,r=0,a=c.length;a>r;r++)s=c[r],s.volume(h);return this.curplayer.volume(h),n?this.curplayer.mute():void 0}},s.prototype.hidePlayerControlBar=function(){return this.player_control_bar.hidePlayerControlBar()},s.prototype.showPlayerControlBar=function(){return this.player_control_bar.showPlayerControlBar()},s.prototype.getVideoProportion=function(){return this.curplayer.getVideoProportion()},s.prototype.getEnd=function(){return this.isend},s.prototype.setEnd=function(t){return this.isend=t},s.prototype.getBuffered=function(){var t;return t=this.ended>0?this.players.slice(0,+(this.ended-1)+1||9e9).reduce(function(t,e){return t+e.video_params.seconds},0):0,t+this.curplayer.getBuffered()},s.prototype.isPause=function(){return this.curplayer.getPaused()},s.prototype.playorpause=function(){var t;return t=this.curplayer.getPaused(),t===!0?this.play(!0):this.pause(!0),t},s.prototype.play=function(t){return null==t&&(t=!1),this.isend===!0&&(this.jump(0),this.ended=0,this.isend=!1),t===!0&&null!=this.venvyPlayer.params.play_callback&&this.venvyPlayer.params.play_callback(),this.curplayer.play(),this.preload(),this.player_control_bar.play_control_bar_toggle(!0)},s.prototype.pause=function(t){return null==t&&(t=!1),this.curplayer.pause(),this.player_control_bar.play_control_bar_toggle(!1),t===!0&&null!=this.venvyPlayer.params.pause_callback?this.venvyPlayer.params.pause_callback():void 0},s.prototype.preload=function(){return this.ended+1<this.players.length&&this.players[this.ended+1].isloaded()!==!0?this.players[this.ended+1].load():void 0},s.prototype._getOffsetSecond=function(){var t;return t=this.ended>0?this.players.slice(0,+(this.ended-1)+1||9e9).reduce(function(t,e){return t+e.video_params.seconds},0):0},s.prototype._getCurrentSecond=function(t){var e,i,n,r,o;for(e=parseFloat(t),o=this.players,i=0,n=o.length;n>i&&(r=o[i],!(e<r.video_params.seconds));i++)e-=r.video_params.seconds;return e},s.prototype._changeCurplay=function(t){var e,i,n,r,o,a;for(i=parseFloat(t),e=-1,this.curplayer=this.players[0],a=this.players,n=0,r=a.length;r>n;n++){if(o=a[n],i<o.video_params.seconds){this.ended=e+1,this.curplayer=o;break}i-=o.video_params.seconds,e++}return i},s.prototype.jump=function(t){var e,i;return this.isend===!0&&(this.isend=!1),i=this,null!=i.venvyPlayer.params.start_seek_callback&&i.venvyPlayer.params.start_seek_callback(),e=this._changeCurplay(t),this.curplayer.jump(e)},s.prototype._next=function(){return this.curplayer=this.players[this.ended],this.curplayer.jump(0),this._reflushplayer(),this.curplayer.play()},s.prototype._reflushplayer=function(){var t,e,i,n,r;for(this.curplayer.show(),n=this.players,r=[],t=0,e=n.length;e>t;t++)i=n[t],i!==this.curplayer?r.push(i.hide()):r.push(void 0);return r},s.prototype.onended=function(t,e){return this.ended+=1,this.ended===this.total_video&&(this.isend=!0,this.player_control_bar.play_control_bar_toggle(!1),null!=this.venvyPlayer.params.stop_callback)?this.venvyPlayer.params.stop_callback():this._next()},s.prototype.oncanplay=function(t){},s.prototype.onpause=function(t){},s.prototype.onplay=function(t){return this.buffing?(clearInterval(this.buffing),this.buffing=void 0):void 0},s.prototype.onwaiting=function(t){var e,i;return i=this,e=i._getCurrentSecond(this.curtime),void 0===this.buffing?this.buffing=setInterval(function(){var t,n;return t=i.curplayer.getBuffered(),n=(100-(e-t)/8*100)%100,n%=100,0>n&&(n=0),n>=100&&(n=100),i.player_control_bar.bufferingPercent(n)},100):void 0},s.prototype.onseeked=function(){return null!=this.venvyPlayer.params.end_seek_callback?this.venvyPlayer.params.end_seek_callback():void 0},s.prototype.onvideoerror=function(t){var e;return e=this,this.venvyPlayer.error_test>0?setTimeout(function(){var t;return 1===e.venvyPlayer.error_test&&e.video_format_list.length>0&&(t=e.video_format_list.pop(),e.changeFormat(t),e.venvyPlayer.error_test=5),e.curplayer.load(),e.curplayer.getPaused()!==!0&&e.curplayer.play(),e.venvyPlayer.error_test--},500):(clearInterval(this.buffing),this.buffing=void 0,this.player_control_bar.hideBufferingPercent(),this.player_control_bar.showLoading("解析视频错误"),null!=this.venvyPlayer.params.parse_error_callback?this.venvyPlayer.params.parse_error_callback():void 0)},s.prototype.ontimeupdate=function(t,e){var i;return i=this._getOffsetSecond(),this.curtime=i+t,0===this.total_time&&(this.total_time=e.getTotalTime()),null==this.lastplayer&&e===this.curplayer&&(this._reflushplayer(),this.player_control_bar.updateProcessBar(i+t)),null!=this.buffing&&(clearInterval(this.buffing),this.buffing=void 0,setTimeout(function(){return this.player_control_bar.hideBufferingPercent()}.bind(this),200)),null!=this.venvyPlayer.params.video_end_prefix_seconds&&this.total_time-this.curtime<=this.venvyPlayer.params.video_end_prefix_seconds?(null!=this.venvyPlayer.params.stop_callback&&this.video_end_profix_called===!1&&this.venvyPlayer.params.stop_callback(),this.video_end_profix_called=!0):void 0},s.prototype.onstalled=function(t){return"SD"!==this.venvyPlayer.cur_format&&a.call(Object.keys(this.cur_address),"SD")>=0?this.player_control_bar.showStalled():void 0},s.prototype.onloadeddata=function(t){return null!=this.lastplayer&&this.lastplayer!==this.curplayer&&(this.curplayer.show(),this.lastplayer.hide(),this.lastplayer.getPaused()!==!0&&this.curplayer.play(),this.lastplayer.remove(),this.player_control_bar.hideFormatChange(),this.lastplayer=void 0),this.player_control_bar.hideLoading(),this.firstVideoLoaded===!1&&(null!=this.venvyPlayer.params.loaded_callback&&this.venvyPlayer.params.loaded_callback(),this.firstVideoLoaded=!0),this.curplayer===t&&this.venvyPlayer.params.load_and_pause!==!0&&this.venvyPlayer.params.editor_mode!==!0?this.play(!0):this.venvyPlayer.params.editor_mode===!0&&/m3u8/.test(this.cur_list[0].url)?(this.play(),this.pause()):void 0},s}()}.apply(i,r),!(void 0!==o&&(e.exports=o))},function(e,i,n){var r,o;r=[n(7)],o=function(e){var i;return i=function(i,n){var r,o,a,s,l,c,h,d,u,p,f,v,g,m,y,_,b;if(s=i.container.find(".player_control_bar_format_button"),r=i.container.find(".player_control_bar_format"),h=i.container.find(".player_control_bar_format_select"),o=i.container.find(".player_control_bar_format_1080p"),a=i.container.find(".player_control_bar_format_720p"),d=i.container.find(".player_control_bar_format_super"),l=i.container.find(".player_control_bar_format_high"),c=i.container.find(".player_control_bar_format_normal"),u=e(i,n),v=i.cur_format,"tudou"===i.cur_site)return i.cur_format="HD";if(-1!==t.inArray("SD",Object.keys(u))&&c.css({display:"block"}),-1!==t.inArray("SuperHD",Object.keys(u))?(d.css({display:"block"}),"auto"===v&&(i.cur_format="SuperHD",s.contents().first().replaceWith("超清"))):(i.cur_format="HD",s.contents().first().replaceWith("高清")),-1!==t.inArray("HD",Object.keys(u))?l.css({display:"block"}):(i.cur_format="SD",s.contents().first().replaceWith("标清")),-1!==t.inArray("720p",Object.keys(u))&&(a.css({display:"block"}),"auto"===v&&(i.cur_format="720p",s.contents().first().replaceWith("720p"))),-1!==t.inArray("1080p",Object.keys(u))&&(o.css({display:"block"}),"auto"===v&&(i.cur_format="1080p",s.contents().first().replaceWith("1080p"))),"qq"===i.cur_site){for(p=["高清","高清","标清","超清","720p","1080p"],_=["MP4","HD","SD","SuperHD","720p","1080p"],
b=[],f=g=0,y=_.length;y>g;f=++g){if(m=_[f],u[m]){i.cur_format=m,s.contents().first().replaceWith(p[f]);break}b.push(void 0)}return b}}}.apply(i,r),!(void 0!==o&&(e.exports=o))},function(e,i,n){var r;r=function(){var e;return e=function(e,i){var n,r;return r=e.cur_site,n={},Object.keys(i).forEach(function(t){return/^BLUE$|^Orignal$|^FLV-SuperHD$|^Mobile-MP4-1080P$/.test(t)?(n["1080p"]=i[t],delete i[t]):/^720P$|^Mobile-MP4-SuperHD$/.test(t)?(n.SuperHD=i[t],delete i[t]):/^MP4-HD$|^Mobile-MP4-SD$|^FLV-HD$/.test(t)?(n.HD=i[t],delete i[t]):/^3GP-HD$|^FLV$/.test(t)?(n.SD=i[t],delete i[t]):void 0}),t.extend(i,n),i}}.call(i,n,i,e),!(void 0!==r&&(e.exports=r))},function(t,e,i){var n;n=function(){var t;return t=function(t,e){var i,n,r,o,a,s,l,c,h;for(r=t.params.first_open_flag,n=void 0,i=e[t.cur_format],("hunantv"===s||"letv"===s)&&(i[0].seconds=real_totaltime||0),l=0,o=0,a=i.length;a>o;o++)h=i[o],h.seconds>6e4?h.seconds=h.seconds/1e3:h.seconds=h.seconds||0,l+=h.seconds;if(c=i.length,s=t.cur_site,/(iqiyi)/.test(s))return t.params.parse_error_callback(),0;if(/(youku)/.test(s))n=null!=i[0].url.match(/flv|m3u8/)?"flv":"mp4";else if(/(plu)/.test(s))n="flv?a=0"===i[0].url.substr(-7)?"flv":"mp4";else if(/(tudou)/.test(s)){if(null!=i[0].url.match("/f4v/"))return t.params.parse_error_callback(),0;n="mp4"}else/(qq)/.test(s)?null!=i[0].url.match("mp4")?n="mp4":(l=real_totaltime||0,n="flv"):n=/flv$|m3u8|^rtmp/.test(i[0].url)?"flv":"mp4";return{cur_source_format:n,cur_list:i,total_video:c,total_time:l}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(e,i,n){var r;r=function(){var e;return e=function(){function e(t,e,i){this.VenvyPlayer=t,this.H5Video=e,this.video_params=i,this.self=this,this._isloaded=!1,this._isbind=!1,this.render(),this.setEvent()}return e.prototype.render=function(){return this.video=document.createElement("video"),this.jvideo=t(this.video),this.jvideo.css({"z-index":-1}),this.jvideo.addClass("venvy_videos"),navigator.userAgent.match(/Firefox/)||this.jvideo.attr({poster:this.VenvyPlayer.params.video_poster}),this.VenvyPlayer.container.append(this.video),this.video.volume=this.VenvyPlayer.cur_volume||1,this.jvideo.attr("src",this.video_params.url),this.jvideo.attr({preload:"none"})},e.prototype.setEvent=function(){var t,e,i;t=this.H5Video,e=this.jvideo,i=this,this.jvideo.on("loadeddata",function(){return null!=t.onloadeddata?t.onloadeddata(i):void 0}),this.jvideo.on("stalled",function(){return null!=t.onstalled?t.onstalled(i):void 0}),this.jvideo.one("play",function(){return null!=t.onplay?t.onplay(i):void 0}),this.jvideo.on("timeupdate",function(){return null!=t.ontimeupdate?t.ontimeupdate(e[0].currentTime,i):void 0}),this.jvideo.on("ended",function(){return null!=t.onended?t.onended(e[0].currentTime,i):void 0}),this.jvideo.on("waiting",function(){return null!=t.onwaiting?t.onwaiting(i):void 0}),this.jvideo.on("error",function(){return null!=t.onvideoerror?t.onvideoerror(i):void 0}).on("seeked",function(t){return function(){return null!=t.H5Video.onseeked?t.H5Video.onseeked(t):void 0}}(this)),this._isbind=!0},e.prototype.isloaded=function(){return this._isloaded},e.prototype.loaded=function(){return this._isloaded=!0},e.prototype.remove=function(){return this.jvideo.remove()},e.prototype.mute=function(){return this.jvideo[0].muted=!0},e.prototype.unmute=function(){return this.jvideo[0].muted=!1},e.prototype.volume=function(t){return 0>t&&(t=0),t>1&&(t=1),this.jvideo[0].volume=t},e.prototype.play=function(){return this.jvideo[0].play()},e.prototype.pause=function(){return this.jvideo[0].pause()},e.prototype.load=function(){return this.jvideo[0].load(),this._isloaded=!0},e.prototype.jump=function(t){var e;return e=this,navigator.userAgent.match(/Chrome/)||this.jvideo[0].readyState?navigator.userAgent.match(/SE/)&&navigator.userAgent.match(/MetaSr/)?void setTimeout(function(){return this.jump(t)}.bind(e),250):this.jvideo[0].currentTime=t:setTimeout(function(){return this.jump(t)}.bind(e),250)},e.prototype.show=function(){var t;return t=this,this.jvideo.css({"z-index":2})},e.prototype.hide=function(){return this.jvideo.css({"z-index":-1})},e.prototype.getMuted=function(){return this.jvideo[0].muted},e.prototype.getTotalTime=function(){return this.jvideo[0].duration},e.prototype.getVolume=function(){return this.jvideo[0].volume},e.prototype.getCurrentTime=function(){return this.jvideo[0].currentTime},e.prototype.getBuffered=function(){var t,e;for(e=0,t=0;t<this.jvideo[0].buffered.length;){if(this.jvideo[0].currentTime>=this.jvideo[0].buffered.start(t)&&this.jvideo[0].currentTime<=this.jvideo[0].buffered.end(t)){e=this.jvideo[0].buffered.end(t);break}t++}return e},e.prototype.getVideoProportion=function(){var t,e;return e=this.jvideo[0].videoWidth,t=this.jvideo[0].videoHeight,e/t},e.prototype.getUrl=function(){return this.video_params.url},e.prototype.getPaused=function(){return this.jvideo[0].paused},e.prototype.getCurrentVideo=function(){return this.jvideo[0]},e}()}.call(i,n,i,e),!(void 0!==r&&(e.exports=r))},function(e,i,n){var r;r=function(){var e;return e=function(){function e(t,e,n,r){var o,a,s,l;for(this.VenvyPlayer=t,this.H5Video=e,this.video_params=n,this.test=r,this.render(),this.loaded=!1,this.canplay=!1,this.test?window.vjjFlash.el=this:window.venvyFlash.el=this,l=this.video_params,a=0,s=l.length;s>a;a++)o=l[a],i+=o.seconds;this.video_params.seconds=i,this.index=0}var i;return i=0,e.prototype.render=function(){var e,i;return i=this.test?/xuebanvod/.test(this.video_params[0].url)?"http://7xjfim.com2.z0.glb.qiniucdn.com/xueban-swf.swf":"http://7xjfim.com2.z0.glb.qiniucdn.com/"+this.test+".swf":"http://7xjfim.com2.z0.glb.qiniucdn.com/flvPlayer.swf",e='<object id="venvyFlash" type="application/x-shockwave-flash" data="'+i+'" wmode="opaque">\n    <param name="wmode" value="opaque">\n    <param name="quality" value="high" />\n    <param name="bgcolor" value="#000000" />\n    <param name="allowScriptAccess" value="always" />\n    <param name="allowFullScreen" value="true" />\n    <param name="allowInsecureDomain" value="*" />\n    <param name="allowDomain" value="*" />\n</object>',this.jvideo=t(e).addClass("venvy_videos"),this.video=this.jvideo[0],this.video.paused=!0,this.video.volume=1,this.VenvyPlayer.container.append(this.jvideo)},e.prototype.trigger=function(t,e){switch(t){case"canplaythrough":if("RTMP"===this.video.get("mode"))return this.video.play(),this.H5Video.ontimeupdate(0,this);break;case"loadeddata":return this.H5Video.onloadeddata(this),this.isSeeking=0;case"canplay":if(this.canplay=!0,"RTMP"===this.video.get("mode"))return this.H5Video.play(!0),this.H5Video.ontimeupdate(0,this);break;case"timeupdate":if(!this.canplay||this.isSeeking>0)return;return this.H5Video.ontimeupdate(this.getCurrentTime(),this);case"seeked":return this.isSeeking&&this.H5Video.onseeked(),this.isSeeking=0,this.H5Video.ontimeupdate(this.getCurrentTime(),this);case"play":return this.video.paused=!1,this.loaded=!0,this.test||(this.canplay=!0),e&&(this.index=e.index),this.H5Video.onplay(this);case"waiting":return this.H5Video.onwaiting(this);case"error":return console.error(e.msg),this.H5Video.onvideoerror(this);case"ended":return this.H5Video.onended(this.getCurrentTime(),this)}},e.prototype.isLoaded=function(){return this.loaded},e.prototype.remove=function(){return this.jvideo.remove()},e.prototype.mute=function(){return this.test?this.video.set("muted",!0):this.video.setProperty("volume",0)},e.prototype.unmute=function(){return this.test?this.video.set("muted",!1):this.video.setProperty("volume",this.video.volume)},e.prototype.play=function(){return this.loaded?(this.video.resume(),this.video.paused=!1):this.isSeeking?this.jump(this.isSeeking):this.video.play()},e.prototype.pause=function(){return this.video.pause(),this.video.paused=!0},e.prototype.load=function(){return window.venvyFlash.waitForSwf()},e.prototype.volume=function(t){return this.video.volume=t,this.video.hasOwnProperty("set")||this.video.hasOwnProperty("setProperty")?this.test?this.video.set("volume",t):this.video.setProperty("volume",t):setTimeout(function(){return this.volume(this.video.volume)}.bind(this),500)},e.prototype.jump=function(t){var e,i,n,r,o,a,s;if(this.isSeeking=t,this.test&&this.video.hasOwnProperty("set"))return this.pause(),this.video.set("currentTime",t);if(this.video.hasOwnProperty("jump")&&t&&(e=0,this.video_params.length>=1)){for(a=this.video_params,i=n=0,o=a.length;o>n;i=++n)if(r=a[i],e+=r.seconds,e>t){s=parseInt(t-e+r.seconds),this.index=i,this.video.jump(s,i);break}return this.H5Video.onseeked()}},e.prototype.show=function(){return this.jvideo.css({"z-index":2})},e.prototype.hide=function(){return this.jvideo.css({"z-index":-1})},e.prototype.getMuted=function(){return this.test?this.video.get("muted"):0===this.video.getProperty("volume")},e.prototype.getVolume=function(){return this.video.hasOwnProperty("play")?this.test?this.video.get("volume"):this.video.getProperty("volume"):1},e.prototype.getUrl=function(){return this.video.getProperty("url")},e.prototype.getPaused=function(){return this.video.paused},e.prototype.getCurrentTime=function(){var t,e,i,n;if(this.test)return this.video.get("currentTime");if(this.isSeeking>0)return this.isSeeking;if(i=0,this.index>0)for(t=e=0,n=this.index-1;n>=0?n>=e:e>=n;t=n>=0?++e:--e)i+=this.video_params[t].seconds;return i+this.video.getProperty("currentTime")},e.prototype.getBuffered=function(){return this.video.hasOwnProperty("play")?this.test?this.video.get("buffered"):this.video.getProperty("buffered"):0},e.prototype.getTotalTime=function(){return i?i:this.test?this.video.get("duration")||0:this.video.getProperty("metadata").duration||0},e.prototype.getVideoProportion=function(){return this.test?this.video.get("videoWidth")/this.video.get("videoHeight"):this.video.getProperty("videoWidth")/this.video.getProperty("videoHeight")},e.prototype.getCurrentVideo=function(){return this.video},e}()}.call(i,n,i,e),!(void 0!==r&&(e.exports=r))},function(e,i,n){var r,o;r=[n(12),n(2),n(13)],o=function(e,i,n){var r;return r=function(){function e(t,e){this.venvyPlayer=t,this.params=e,this._render(),this.muted=!1,this.isonceBuffering=!0,this.z=void 0,this.ishidebar=!1,this.iskeyevent=!0,this.former_player=this.venvyPlayer.container.find(".former_player"),this.player_for_user=this.venvyPlayer.container.find(".player_for_user"),this.player_control_bar=this.venvyPlayer.container.find(".player_control_bar"),this.player_control_bar_click=this.venvyPlayer.container.find(".player_control_bar_click"),this.player_control_bar_progress=this.venvyPlayer.container.find(".player_control_bar_progress"),this.player_control_bar_progress_played=this.venvyPlayer.container.find(".player_control_bar_progress_played"),this.player_control_bar_progress_buffer=this.venvyPlayer.container.find(".player_control_bar_progress_buffer"),this.player_control_bar_current=this.venvyPlayer.container.find(".player_control_bar_current"),this.player_control_bar_total=this.venvyPlayer.container.find(".player_control_bar_total"),this.player_control_bar_toggle=this.venvyPlayer.container.find(".player_control_bar_toggle"),this.player_control_bar_dot=this.venvyPlayer.container.find(".player_control_bar_dot"),this.player_control_bar_candrag=this.venvyPlayer.container.find(".player_control_bar_candrag"),this.player_control_bar_picture=this.venvyPlayer.container.find(".player_control_bar_picture"),this.player_control_bar_hover_time=this.venvyPlayer.container.find(".player_control_bar_hover_time"),this.player_control_bar_hint=this.venvyPlayer.container.find(".player_control_bar_hint"),this.player_control_bar_volume=this.venvyPlayer.container.find(".player_control_bar_volume"),this.player_control_bar_volume_bar=this.venvyPlayer.container.find(".player_control_bar_volume_bar"),this.player_control_bar_volume_click=this.venvyPlayer.container.find(".player_control_bar_volume_click"),this.player_control_bar_volume_show=this.venvyPlayer.container.find(".player_control_bar_volume_show"),this.player_control_bar_volume_button=this.venvyPlayer.container.find(".player_control_bar_volume_button"),this.player_control_bar_format=this.venvyPlayer.container.find(".player_control_bar_format"),this.player_control_bar_format_button=this.venvyPlayer.container.find(".player_control_bar_format_button"),this.player_control_bar_format_select=this.venvyPlayer.container.find(".player_control_bar_format_select"),this.player_control_bar_format_1080p=this.venvyPlayer.container.find(".player_control_bar_format_1080p"),this.player_control_bar_format_720p=this.venvyPlayer.container.find(".player_control_bar_format_720p"),this.player_control_bar_format_super=this.venvyPlayer.container.find(".player_control_bar_format_super"),this.player_control_bar_format_high=this.venvyPlayer.container.find(".player_control_bar_format_high"),this.player_control_bar_format_normal=this.venvyPlayer.container.find(".player_control_bar_format_normal"),this.player_control_bar_toSD=this.venvyPlayer.container.find(".player_control_bar_toSD"),this.player_control_bar_fullscreen=this.venvyPlayer.container.find(".player_control_bar_fullscreen"),this.player_control_bar_video_cover=this.venvyPlayer.container.find(".player_control_bar_video_cover"),this.is_buffering=this.venvyPlayer.container.find(".is_buffering"),this.is_buffering_inside=this.venvyPlayer.container.find(".is_buffering_inside"),this.is_buffering_percent=this.venvyPlayer.container.find(".is_buffering_percent"),this.player_control_bar_change=this.venvyPlayer.container.find(".player_control_bar_change"),this.player_control_bar_change_format=this.venvyPlayer.container.find(".player_control_bar_change_format"),this.right_menu=this.venvyPlayer.container.find(".right_menu"),this.right_menu_key_enable=this.venvyPlayer.container.find(".right_menu_key_enable"),this.right_window=this.venvyPlayer.container.find(".right_window"),this.right_window_input=this.venvyPlayer.container.find(".right_window_input"),this.right_menu_key_catch_iframe=this.venvyPlayer.container.find(".right_menu_key_catch_iframe"),this.right_menu_key_catch_address=this.venvyPlayer.container.find(".right_menu_key_catch_address"),this.right_menu_key_report_problem=this.venvyPlayer.container.find(".right_menu_key_report_problem"),this.right_window_button_click=this.venvyPlayer.container.find(".right_window_button_click"),this.is_buffering_inside.html(this.square.canvas).css({height:"36px",width:"36px","margin-top":"-50px","margin-left":"-18px",background:"transparent"}),this.square.play(),this._bind_events()}return e.prototype.video_controller_register=function(t){this.videoController=t},e.prototype.onceBuffering=function(){return this.is_buffering.css({"background-color":"rgba(0, 0, 0, 0.5)","z-index":20}),this.isonceBuffering=!1},e.prototype.bufferingPercent=function(t){return this.is_buffering.css({display:"block"}),this.is_buffering_percent.html(parseInt(t)+"%")},e.prototype.hideBufferingPercent=function(){return this.is_buffering.css({display:"none"}),this.is_buffering_percent.html(""),this.is_buffering_percent.css({"margin-top":"0px"})},e.prototype.updateProcessBar=function(t){var e,n,r,o,a,s;return a=this,n=t,e=this.videoController.getBuffered(),s=this.videoController.total_time,"block"!==this.is_buffering.css("display")?(r=n/s,o=e/s,this.player_control_bar_progress_buffer.css({width:100*o+"%"}),this.player_control_bar_current.html(i.format_time(n)),"none"===!this.player_control_bar_progress.css("display")&&this.player_control_bar_total.css({display:"block"}),this.player_control_bar_total.html(i.format_time(s)),this.player_control_bar_progress_buffer.css({width:100*o+"%"}),this.player_control_bar_progress_played.css({width:100*r+"%"}),this.player_control_bar_dot.css({left:100*r+"%"})):void 0},e.prototype.insertDots=function(t){var e,i,n;return i=this,t=t||[],n=this.videoController.total_time,0===n&&(n=this.videoController.curplayer.getTotalTime()),e=[],t.forEach(function(t,i){return t.time<n?e.push("<div class='player_control_bar_white_dot' data-id='"+t.id+"' data-text='"+t.title+"' data-time='"+t.time+"' style='width: 10px;height: 10px;z-index: 10;position: absolute;left: "+t.time/n*100+"%;top: 50%;margin-left: -5px;margin-top: -5px; cursor:pointer'>\n  <div class='player_control_bar_white_dot_inside'>\n  </div>\n</div>"):void 0}),e.length?(this.player_control_bar_progress.prepend(e.join("")),this.venvyPlayer.model.dots=this.player_control_bar_progress.find(".player_control_bar_white_dot")):void 0},e.prototype.checkDot=function(e){return this.venvyPlayer.model.dots.filter(function(){return t(this).data("id")===e}).addClass("checked")},e.prototype.showBar=function(){return this.params.show_bar_callback&&!this.player_control_bar.hasClass("show")&&this.params.show_bar_callback(),this.player_control_bar.addClass("show")},e.prototype.hideBar=function(){return this.params.hide_bar_callback&&this.player_control_bar.hasClass("show")&&this.params.hide_bar_callback(),this.player_control_bar.removeClass("show")},e.prototype.showLoading=function(){return this.is_buffering.css({display:"block"})},e.prototype.hideLoading=function(){return this.is_buffering.css({display:"none"}),this.isonceBuffering?this.onceBuffering():void 0},e.prototype.showStalled=function(){var t;if(null==this.z)return t=this,this.player_control_bar_toSD.css({display:"block"}),this.showLoading(),t.is_buffering.css({"z-index":14}),this.videoController.pause(),this.z=setTimeout(function(){return t.player_control_bar_toSD.css({display:"none"}),t.hideLoading(),t.videoController.play(),t.z=void 0},5e3)},e.prototype.hideStalled=function(){return null!=this.z?(clearTimeout(this.z),this.player_control_bar_toSD.css({display:"none"}),this.hideLoading(),this.videoController.play(),this.z=void 0):void 0},e.prototype.changeVolume=function(t){return t=parseFloat(t.toFixed(1)),this.player_control_bar_volume_show.css({height:100*t+"%"}),0===t?this.mute():this.unmute()},e.prototype.mute=function(){return this.muted=!0,this.player_control_bar_volume_button.contents().first().replaceWith("&#xe605;"),this.player_control_bar_volume_show.css({display:"none"})},e.prototype.unmute=function(){return this.muted=!1,this.player_control_bar_volume_button.contents().first().replaceWith("&#xe604;"),this.player_control_bar_volume_show.css({display:"block"})},e.prototype.showFormatChange=function(t){return this.player_control_bar_change_format.html(i.fix_the_format(t)),this.player_control_bar_change.fadeIn(500)},e.prototype.hideFormatChange=function(){return this.player_control_bar_change.fadeOut(500)},e.prototype.play_control_bar_toggle=function(t){return t===!0?this.player_control_bar_toggle.html("&#xe602;"):this.player_control_bar_toggle.html("&#xe603;")},e.prototype.hideProgress=function(){return this.player_control_bar_progress.css("display","none"),this.player_control_bar_current.css("display","none"),this.player_control_bar_total.css("display","none")},e.prototype.hidePlayerControlBar=function(){return this.ishidebar=!0,this.hideBar()},e.prototype.showPlayerControlBar=function(){return this.ishidebar=!1,this.showBar()},e.prototype.setKeyEventStart=function(){return this.iskeyevent=!0},e.prototype.setKeyEventStop=function(){return this.iskeyevent=!1},e.prototype.showVolumeBar=function(){return this.player_control_bar_volume_bar.css({display:"block"})},e.prototype.hideVolumeBar=function(){return this.player_control_bar_volume_bar.css({display:"none"})},e.prototype.hideFormatSelect=function(){return this.player_control_bar_format_select.css({display:"none"})},e.prototype._bind_events=function(){var e,n,r,o,a,s;return a=this,t(document).on("MSFullscreenChange webkitfullscreenchange mozfullscreenchange fullscreenChange",function(){var e;if(e=document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreenElement||document.mozFullScreen||window.fullScreen||window.navigator.standalone){if(a.player_control_bar_fullscreen.html("&#xe600;"),window.fullScreen&&t(this).off("keydown").one("keydown",function(t){return 27===t.keyCode?i.exitfullscreen():void 0}),null!=a.params.fullscreen_callback)return a.params.fullscreen_callback()}else if(a.player_control_bar_fullscreen.html("&#xe601;"),null!=a.params.exitfullscreen_callback)return a.params.exitfullscreen_callback()}),this.player_control_bar_progress.on("click mousemove mouseleave",".player_control_bar_white_dot",function(e){var n,r,o,s,l,c,h,d;switch(n=t(this),s=i.format_time(parseInt(n.data("time"))),o=n.data("text"),e.type){case"click":return e.offsetX=e.pageX-a.player_control_bar_progress.offset().left,a.player_control_bar_click.trigger(e);case"mousemove":return e.stopPropagation(),a.player_control_bar_hover_time.text(s+" "+o),r=a.player_control_bar_progress[0].offsetLeft,l=a.player_control_bar_hint.width()/2,c=n.get(0).offsetLeft+e.offsetX-l+r,15>=r&&(d=5+r,h=a.player_control_bar_progress.width()-2*l+r-5,d>c&&(c=d),c>h&&(c=h)),n.hasClass("checked")&&a.player_control_bar_hint.addClass("checked"),a.player_control_bar_hint.css({display:"block",left:c});case"mouseleave":return a.player_control_bar_hover_time.text(s),a.player_control_bar_hint.removeClass("checked").css({display:"none"})}}),e=void 0,a.venvyPlayer.container.on("mousemove",".player_for_user, .venvy_videos",function(){return a.ishidebar===!1?(a.venvyPlayer.container.css({cursor:""}),clearTimeout(e),a.showBar(),e=setTimeout(function(){return a.venvyPlayer.params.editor_mode!==!0&&a.venvyPlayer.container.css({cursor:"none"}),a.hideBar()},1e3)):void 0}),this.player_control_bar.mouseenter(function(){return clearTimeout(e)}),this.player_control_bar.mouseleave(function(){return e=setTimeout(function(){return a.venvyPlayer.params.editor_mode!==!0&&a.venvyPlayer.container.css({cursor:"none"}),a.hideBar()},1e3)}),this.player_control_bar_toggle.click(function(){return a.videoController.playorpause()}),this.player_control_bar_candrag.mouseenter(function(){return a.player_control_bar_dot.css({opacity:1})}).mouseleave(function(){return a.player_control_bar_dot.css({opacity:0})}),this.player_control_bar_dot.mousedown(function(){var e,n,r,o;return a.player_control_bar_toggle.html("&#xe603;"),a.videoController.pause(),n=a.player_control_bar_click.width(),o=a.player_control_bar_click.offset().left,r=parseFloat(a.player_control_bar_dot.css("padding-left")),e=a.videoController.getCurtime(),t(document).on("mousemove",function(t){var s,l,c,h;return h=t.pageX,s=a.player_control_bar_dot.offset().left-o+r,c=s/n,o>h?a.player_control_bar_dot.css({left:0}):h>o+n?a.player_control_bar_dot.css({left:n}):a.player_control_bar_dot.css({left:h-o}),a.player_control_bar_progress_played.css({width:a.player_control_bar_dot.css("left")}),l=c*a.videoController.total_time,0>l&&(l=0),e=l,a.player_control_bar_current.html(i.format_time(l))}),t(document).one("mouseup",function(){return Math.abs(a.videoController.getCurtime()-e)>1&&a.videoController.jump(e),a.venvyPlayer.params.editor_mode!==!0&&a.videoController.play(),t(document).off("mousemove")})}),this.player_control_bar_click.click(function(e){var i,n,r;return e.stopPropagation(),a.videoController.pause(),i=t(this).width(),n=e.offsetX,r=n/i,a.player_control_bar_dot.css({left:n}),a.player_control_bar_progress_played.css({width:n}),a.videoController.jump(a.videoController.total_time*r),a.venvyPlayer.params.editor_mode!==!0?a.videoController.play():void 0}).mousemove(function(t){var e,n,r,o,s,l;return l=t.offsetX/a.player_control_bar_click.width(),e=a.player_control_bar_progress[0].offsetLeft,a.player_control_bar_picture.hide(),a.player_control_bar_hover_time.html(i.format_time(l*a.videoController.total_time)),a.videoController.showSmallPic(parseInt(l*a.videoController.total_time),function(t,e){return null!=t?a.venvyPlayer.params.parse_error_callback():e?(a.player_control_bar_picture.show(),a.player_control_bar_hover_time.css("width","150px")):void 0}),n=a.player_control_bar_hint.width()/2,r=t.offsetX-n+e,15>=e&&(s=5+e,o=a.player_control_bar_progress.width()-2*n+e-5,s>r&&(r=s),r>o&&(r=o)),a.player_control_bar_hint.css({left:r,display:"block"})}).mouseleave(function(){return a.player_control_bar_hint.css({display:"none"})}),this.player_control_bar_volume.mouseenter(function(){return a.showVolumeBar()}).mouseleave(function(){return a.hideVolumeBar()}),this.player_control_bar_volume_bar.click(function(e){var i,n,r;return e.stopPropagation(),i=t(this).children(".player_control_bar_volume_control").height(),n=t(this).height()-i,r=1-(e.offsetY-n)/i,a.videoController.changeVolume(r)}),this.player_control_bar_volume_button.click(function(){return a.muted===!1?a.videoController.mute():a.videoController.unmute()}),this.player_control_bar_fullscreen.click(function(){var t;return t=document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreenElement||document.mozFullScreen||window.fullScreen||window.navigator.standalone,t?i.exitfullscreen():i.fullscreen(a.venvyPlayer.container)}),o=0,r=null,this.player_for_user.click(function(t){return function(){return o++,1===o?r=setTimeout(function(){return t.params.editor_mode!==!0&&t.videoController.playorpause(),o=0},300):(clearTimeout(r),o=0,t.player_control_bar_fullscreen.trigger("click"))}}(this)).dblclick(function(t){return t.preventDefault()}),this.player_control_bar_format.mouseenter(function(){return a.player_control_bar_format_select.css({display:"block"})}).mouseleave(function(){return a.hideFormatSelect()}),this.player_control_bar_format_1080p.click(function(){return"block"!==a.player_control_bar_change.css("display")?(a.videoController.changeFormat("1080p"),a.player_control_bar_format_button.contents().first().replaceWith(i.fix_the_format("1080p"))):void 0}),this.player_control_bar_format_720p.click(function(){return"block"!==a.player_control_bar_change.css("display")?(a.videoController.changeFormat("720p"),a.player_control_bar_format_button.contents().first().replaceWith(i.fix_the_format("720p"))):void 0}),this.player_control_bar_format_super.click(function(){return"block"!==a.player_control_bar_change.css("display")?(a.videoController.changeFormat("SuperHD"),a.player_control_bar_format_button.contents().first().replaceWith(i.fix_the_format("SuperHD"))):void 0}),this.player_control_bar_format_high.click(function(){return"block"!==a.player_control_bar_change.css("display")?(a.videoController.changeFormat("HD"),a.player_control_bar_format_button.contents().first().replaceWith(i.fix_the_format("HD"))):void 0}),this.player_control_bar_format_normal.click(function(){return"block"!==a.player_control_bar_change.css("display")?(a.videoController.changeFormat("SD"),a.player_control_bar_format_button.contents().first().replaceWith(i.fix_the_format("SD"))):void 0}),this.player_control_bar_toSD.click(function(){return"block"!==a.player_control_bar_change.css("display")?(a.hideStalled(),a.videoController.changeFormat("SD"),a.player_control_bar_format_button.contents().first().replaceWith(i.fix_the_format("SD"))):void 0}),this.venvyPlayer.params.right_hand===!0&&this.player_for_user.mousedown(function(e){var i,n,r,o,s;return i=t(this),o=i.offset().left,s=i.offset().top,n=e.pageX-o,r=e.pageY-s,n+a.right_menu.width()>i.width()&&(n-=a.right_menu.width()),r+a.right_menu.height()>i.height()&&(r-=a.right_menu.height()),3===e.which?a.right_menu.css({display:"block",left:n,top:r}):(a.right_menu.css({display:"none"}),a.right_window.css({display:"none"}))}),this.right_menu_key_enable.click(function(){return a.right_menu.css({display:"none"})}),this.right_menu_key_catch_address.click(function(){return a.right_window.css({display:"block"}),a.right_window_input.val("http://videojj.com/iva/bookmark.html?v="+a.venvyPlayer.video_url),a.right_window_input.focus().select()}),this.right_menu_key_catch_iframe.click(function(){return a.right_window.css({display:"block"}),a.right_window_input.val("<iframe height='100%' width='100%' scrolling='no' allowfullscreen src='http://videojj.com/iva/bookmark.html?v="+a.venvyPlayer.video_url+"' frameborder='0' data-venvy-url='http://7u2n0p.com2.z0.glb.qiniucdn.com/ted301.jpg' id='venvy-frame-play' name='venvy-fram-play'></iframe>"),a.right_window_input.focus().select()}),this.right_window_button_click.click(function(){return a.right_window.css({display:"none"})}),n=void 0,s=0,this.venvyPlayer.container.on("keyup",function(t){if(a.iskeyevent===!0)switch(t.keyCode){case 37:return a.videoController.jump(a.videoController.getCurtime()-s),a.venvyPlayer.params.editor_mode!==!0&&a.videoController.play(!1),s=0,e=setTimeout(function(){return a.venvyPlayer.params.editor_mode!==!0&&a.venvyPlayer.container.css({cursor:"none"}),a.hideBar()},1e3);case 39:return a.videoController.jump(a.videoController.getCurtime()+s),a.venvyPlayer.params.editor_mode!==!0&&a.videoController.play(!1),s=0,e=setTimeout(function(){return a.venvyPlayer.params.editor_mode!==!0&&a.venvyPlayer.container.css({cursor:"none"}),a.hideBar()},1e3)}}),this.venvyPlayer.container.on("keydown",function(t){if(a.iskeyevent===!0)switch(t.keyCode){case 32:return a.showBar(),clearTimeout(e),t.preventDefault(),t.stopPropagation(),a.videoController.playorpause(),e=setTimeout(function(){return a.venvyPlayer.params.editor_mode!==!0&&a.venvyPlayer.container.css({cursor:"none"}),a.hideBar()},1e3);case 40:return a.showBar(),clearTimeout(e),clearTimeout(n),t.preventDefault(),t.stopPropagation(),a.showVolumeBar(),a.videoController.changeVolume(a.videoController.getVolume()-.1),n=setTimeout(a.hideVolumeBar.bind(a),2e3),e=setTimeout(function(){return a.venvyPlayer.params.editor_mode!==!0&&a.venvyPlayer.container.css({cursor:"none"}),a.hideBar()},1e3);case 38:return a.showBar(),clearTimeout(e),clearTimeout(n),t.preventDefault(),t.stopPropagation(),a.showVolumeBar(),a.videoController.changeVolume(a.videoController.getVolume()+.1),n=setTimeout(a.hideVolumeBar.bind(a),2e3),e=setTimeout(function(){return a.venvyPlayer.params.editor_mode!==!0&&a.venvyPlayer.container.css({cursor:"none"}),a.hideBar()},1e3);case 37:return a.showBar(),clearTimeout(e),t.preventDefault(),t.stopPropagation(),a.videoController.pause(!1),s+=a.venvyPlayer.params.jump_step||5,a.videoController.getCurtime()-s<=0&&(s=a.videoController.getCurtime()),a.updateProcessBar(a.videoController.getCurtime()-s);case 39:return a.showBar(),clearTimeout(e),t.preventDefault(),t.stopPropagation(),a.videoController.pause(!1),s+=a.venvyPlayer.params.jump_step||5,s+a.videoController.getCurtime()>=a.videoController.total_time&&(s=a.videoController.total_time-a.videoController.getCurtime()-5),a.updateProcessBar(a.videoController.getCurtime()+s)}})},e.prototype._render=function(){var t;return this.venvyPlayer.container.append(n(this.venvyPlayer.params)),t=this.venvyPlayer.container.find(".player_control_bar_logo"),this.square=new Sonic({width:36,height:36,stepsPerFrame:1,trailLength:1,pointDistance:.083,backgroundColor:"transparent",strokeColor:"#FFFFFF",fps:12,setup:function(){this._.lineWidth=2.8},step:function(t,e){var i,n,r,o;return r=this.padding+18,o=this.padding+18,i=this._,n=Math.PI/180*t.progress*360,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(18*Math.cos(n)+r,18*Math.sin(n)+o),i.closePath(),i.stroke()},path:[["arc",18,18,9.1,0,360]]}),t=this.venvyPlayer.container.find(".player_control_bar_logo"),this.params.small_logo_url&&""!==this.params.small_logo_url&&(/^(http|https)/.test(this.params.small_logo_url)?t.attr("href",this.params.small_logo_url):t.attr("href","http://"+this.params.small_logo_url)),this.params.small_logo&&""!==this.params.small_logo?t.children(".player_control_bar_logo_img").attr("src",""+this.params.small_logo):t.css({margin:"5px 15px 0 0"})},e}()}.apply(i,r),!(void 0!==o&&(e.exports=o))},function(t,e,i){!function(){function t(t){this.converter=t.converter,this.data=t.path||t.data,this.imageData=[],this.multiplier=t.multiplier||1,this.padding=t.padding||0,this.fps=t.fps||25,this.stepsPerFrame=~~t.stepsPerFrame||1,this.trailLength=t.trailLength||1,this.pointDistance=t.pointDistance||.05,this.domClass=t.domClass||"sonic",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.fillColor=t.fillColor,this.strokeColor=t.strokeColor,this.stepMethod="string"==typeof t.step?o[t.step]:t.step||o.square,
this._setup=t.setup||e,this._teardown=t.teardown||e,this._preStep=t.preStep||e,this.pixelRatio=t.pixelRatio||null,this.width=t.width,this.height=t.height,this.fullWidth=this.width+2*this.padding,this.fullHeight=this.height+2*this.padding,this.domClass=t.domClass||"sonic",this.setup()}var e=function(){},i=t.argTypes={DIM:1,DEGREE:2,RADIUS:3,OTHER:0},n=t.argSignatures={arc:[1,1,3,2,2,0],bezier:[1,1,1,1,1,1,1,1],line:[1,1,1,1]},r=t.pathMethods={bezier:function(t,e,i,n,r,o,a,s,l){t=1-t;var c=1-t,h=t*t,d=c*c,u=h*t,p=3*h*c,f=3*t*d,v=d*c;return[u*e+p*o+f*s+v*n,u*i+p*a+f*l+v*r]},arc:function(t,e,i,n,r,o){var a=(o-r)*t+r,s=[Math.cos(a)*n+e,Math.sin(a)*n+i];return s.angle=a,s.t=t,s},line:function(t,e,i,n,r){return[(n-e)*t+e,(r-i)*t+i]}},o=t.stepMethods={square:function(t,e,i,n,r){this._.fillRect(t.x-3,t.y-3,6,6)},fader:function(t,e,i,n,r){this._.beginPath(),this._last&&this._.moveTo(this._last.x,this._last.y),this._.lineTo(t.x,t.y),this._.closePath(),this._.stroke(),this._last=t}};t.prototype={calculatePixelRatio:function(){var t=window.devicePixelRatio||1,e=this._.webkitBackingStorePixelRatio||this._.mozBackingStorePixelRatio||this._.msBackingStorePixelRatio||this._.oBackingStorePixelRatio||this._.backingStorePixelRatio||1;return t/e},setup:function(){var t,e,o,a,s=this.data;this.canvas=document.createElement("canvas"),this._=this.canvas.getContext("2d"),null==this.pixelRatio&&(this.pixelRatio=this.calculatePixelRatio()),this.canvas.className=this.domClass,1!=this.pixelRatio?(this.canvas.style.height=this.fullHeight+"px",this.canvas.style.width=this.fullWidth+"px",this.fullHeight*=this.pixelRatio,this.fullWidth*=this.pixelRatio,this.canvas.height=this.fullHeight,this.canvas.width=this.fullWidth,this._.scale(this.pixelRatio,this.pixelRatio)):(this.canvas.height=this.fullHeight,this.canvas.width=this.fullWidth),this.points=[];for(var l=-1,c=s.length;++l<c;){if(t=s[l].slice(1),o=s[l][0],o in n)for(var h=-1,d=t.length;++h<d;){switch(e=n[o][h],a=t[h],e){case i.RADIUS:a*=this.multiplier;break;case i.DIM:a*=this.multiplier,a+=this.padding;break;case i.DEGREE:a*=Math.PI/180}t[h]=a}t.unshift(0);for(var u,p=this.pointDistance,f=p;1>=f;f+=p)f=Math.round(1*f/p)/(1/p),t[0]=f,u=r[o].apply(null,t),this.points.push({x:u[0],y:u[1],progress:f})}this.frame=0,this.converter&&this.converter.setup&&this.converter.setup(this)},prep:function(t){if(!(t in this.imageData)){this._.clearRect(0,0,this.fullWidth,this.fullHeight),this._.fillStyle=this.backgroundColor,this._.fillRect(0,0,this.fullWidth,this.fullHeight);var e,i,n,r=this.points,o=r.length;this.pointDistance;this._setup();for(var a=-1,s=o*this.trailLength;++a<s&&!this.stopped;)i=t+a,e=r[i]||r[i-o],e&&(this.alpha=Math.round(1e3*(a/(s-1)))/1e3,this._.globalAlpha=this.alpha,this.fillColor&&(this._.fillStyle=this.fillColor),this.strokeColor&&(this._.strokeStyle=this.strokeColor),n=t/(this.points.length-1),indexD=a/(s-1),this._preStep(e,indexD,n),this.stepMethod(e,indexD,n));return this._teardown(),this.imageData[t]=this._.getImageData(0,0,this.fullWidth,this.fullWidth),!0}},draw:function(){this.prep(this.frame)||(this._.clearRect(0,0,this.fullWidth,this.fullWidth),this._.putImageData(this.imageData[this.frame],0,0)),this.converter&&this.converter.step&&this.converter.step(this),this.iterateFrame()||this.converter&&this.converter.teardown&&(this.converter.teardown(this),this.converter=null)},iterateFrame:function(){return this.frame+=this.stepsPerFrame,this.frame>=this.points.length?(this.frame=0,!1):!0},play:function(){this.stopped=!1;var t=this;this.timer=setInterval(function(){t.draw()},1e3/this.fps)},stop:function(){this.stopped=!0,this.timer&&clearInterval(this.timer)}},window.Sonic=t}()},function(t,e,i){var n;n=function(){var t;return t=function(t){var e;return e=void 0!==t.loading_text?t.loading_text:"正在载入视频","<div class='player_for_user' oncontextmenu='return false' style='position:absolute;z-index:30;height:100%;width:100%;color:white'></div>\n<div class='player_control_bar'>\n  <div class='player_control_bar_progress'>\n    <div class='player_control_bar_dot player_control_bar_candrag'>\n      <div class='player_control_bar_dot_inside'></div>\n      <div class='player_control_bar_dot_inside_dot'></div>\n    </div>\n    <div class='player_control_bar_progress_played'></div>\n    <div class='player_control_bar_progress_buffer'></div>\n    <div class='player_control_bar_click player_control_bar_candrag'></div>\n  </div>\n  <div class=\"player_control_bar_hint\">\n    <div class='player_control_bar_picture'></div>\n    <div class='player_control_bar_hover_time'></div>\n  </div>\n  <div class='player_control_bar_toggle player_control_bar_iconfont'>&#xe603;</div>\n  <div class='player_control_bar_current'>00:00</div>\n  <div class='player_control_bar_total'></div>\n  <a href='javascript:void(0)' class='player_control_bar_logo' target='_blank'>\n    <img class='player_control_bar_logo_img' src='http://7xjfim.com2.z0.glb.qiniucdn.com/iva2-logo-white.svg'>\n  </a>\n\n  <div class='player_control_bar_format_button player_control_bar_format'>高清\n    <div class='player_control_bar_format_select'>\n      <div class='player_control_bar_format_1080p item'>1080p</div>\n      <div class='player_control_bar_format_720p item'>720p</div>\n      <div class='player_control_bar_format_super item'>超清</div>\n      <div class='player_control_bar_format_high item'>高清</div>\n      <div class='player_control_bar_format_normal item'>标清</div>\n    </div>\n  </div>\n  <div class='player_control_bar_fullscreen player_control_bar_iconfont'>&#xe601;</div>\n  <div class='player_control_bar_volume_button player_control_bar_volume player_control_bar_iconfont'>&#xe604;\n    <div class='player_control_bar_volume_bar'>\n      <div class='player_control_bar_volume_control'>\n        <div class='player_control_bar_volume_show'></div>\n      </div>\n      <div class='player_control_bar_volume_click'></div>\n    </div>\n  </div>\n  <div class='player_control_bar_change'>正在为您切换到<a class='player_control_bar_change_format' style='color:#ff3030'>超清</a></div>\n  <div class='player_control_bar_toSD'>当前网络状态不佳，建议切换<a class='player_control_bar_change_toSD' style='color:#ff3030;cursor:pointer;'>标清</a>观看</div>\n</div>\n<div class='is_buffering' style='display:block;height:100%;width:100%;position:absolute;z-index:100;background-color:#202020;'>\n  <div class='is_buffering_inside' style='height:100px;width:100px;position:absolute;left:50%;top:50%;margin-left:-50px;margin-top:-70px;text-align:center;'>\n  </div>\n  <div class='is_buffering_percent' style='height:20px;width:30px;position:absolute;left:50%;top:50%;margin-left:-15px;text-align:center;margin-top:30px;color:white;font-size:0.9em'></div>\n</div>\n<div class='right_menu' oncontextmenu='return false'>\n  <div class='right_menu_key_enable right_menu_key_catch_address item'>获取视频地址</div>\n  <div class='right_menu_key_enable right_menu_key_catch_iframe item'>获取嵌入代码</div>\n  <div class='right_menu_key_enable item' onclick='window.open(\"mailto:flyingpig@videopls.com\")'>报告播放问题</div>\n  <div class='right_menu_key_enable item' onclick='window.open(\"http://videojj.com\")'>关于video++</div>\n</div>\n<div class='right_window'>\n  <input class='right_window_input' type='text'>\n  <div class='right_window_button'>\n    <div class='right_window_button_click'>关闭</div>\n  </div>\n</div>"}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(e,i,n){var r;r=function(){var e,i,n;return n=!1,e=null,i=function(){function i(t,i,r){var o;this.venvyPlayer=t,this.video_url=i,this.time=r,o=this,window.vjjFlash=function(t,i){switch(t){case"videoStartReady":if(null!=o.venvyPlayer.params.loaded_callback)return o.venvyPlayer.params.loaded_callback();break;case"videoStart":case"videoResume":if(null!=o.venvyPlayer.params.play_callback)return o.venvyPlayer.params.play_callback();break;case"videoPause":if(null!=o.venvyPlayer.params.pause_callback)return o.venvyPlayer.params.pause_callback();break;case"videoStop":if(n=!0,null!=o.venvyPlayer.params.stop_callback)return o.venvyPlayer.params.stop_callback();break;case"displayChange":if("displayShow"===i)return e.css("display","none");if("displayHide"===i)return e.css("display","block")}}}return i.prototype.init=function(t,e,i){return this.cur_address=t,this.total_time=e,this.cur_site=i,this.render()},i.prototype.render=function(){var i,n,r;return i=this.cur_address.HD[0].url.split("$"),n=i[1],r=i[2],e=t("<div class='player_for_user' oncontextmenu='return false' style='position:absolute;z-index:30;height:100%;width:100%;color:white'>\n</div>").css("height",parseInt(this.venvyPlayer.container.css("height"))-40).appendTo(this.venvyPlayer.container).on("click",function(){return this.isPause()?this.play():this.pause()}.bind(this)),this.venvyPlayer.container.append('<object id="letv-flash" class="venvy_videos cur_player" type="application/x-shockwave-flash" data="http://yun.letv.com/bcloud.swf" wmode="opaque">\n    <param name="quality" value="high" />\n    <param name="bgcolor" value="#000000" />\n    <param name="allowScriptAccess" value="always" />\n    <param name="allowFullScreen" value="true" />\n    <param name="allowInsecureDomain" value="*" />\n    <param name="allowDomain" value="*" />\n    <param name="flashvars" value="uu='+n+"&vu="+r+'&skinnable=1&callbackJs=vjjFlash&share=0&extend=0&definition=0" />\n</object>'),this.jvideo=this.venvyPlayer.container.find(".cur_player"),this.video=this.jvideo.get(0),this.venvyPlayer.container.on("keydown",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),32===e.keyCode?t.isPause()?t.play():t.pause():void 0}}(this))},i.prototype.play=function(){return n?(n=!1,this.video.replayVideo()):this.video.resumeVideo()},i.prototype.pause=function(){return this.video.pauseVideo()},i.prototype.jump=function(t){return this.video.seekTo(t)},i.prototype.remove=function(){return this.video.remove()},i.prototype.getCurtime=function(){return this.video.getVideoTime()},i.prototype.hidePlayerControlBar=function(){},i.prototype.showPlayerControlBar=function(){},i.prototype.getVideoProportion=function(){return null},i.prototype.getCurrenVideo=function(){return this.video},i.prototype.isPause=function(){return!this.video.getPlayState().playing},i}()}.call(i,n,i,e),!(void 0!==r&&(e.exports=r))},function(e,i,n){var r;r=function(){var e,i,n;return e=null,n=0,i=function(){function i(t,e,i){var r;this.venvyPlayer=t,this.video_url=e,this.time=i,r=this,this._isEnd=!1,window.vjjFlash=function(t,e){switch(t){case"PLAYER_VIDEO_PLAY":r._hideUser();break;case"PLAYER_VIDEO_PAUSE":0===n&&(n=1);break;case"PLAYER_VIDEO_RESUME":1===n&&(n=2,r._showUser());break;case"videoStartReady":if(null!=r.venvyPlayer.params.loaded_callback)return r.venvyPlayer.params.loaded_callback();break;case"videoStart":0===n&&r._showUser(),null!=r.venvyPlayer.params.play_callback&&r.venvyPlayer.params.play_callback();break;case"videoResume":if(r._showUser(),null!=r.venvyPlayer.params.play_callback)return r.venvyPlayer.params.play_callback();break;case"videoPause":if(r._hideUser(),null!=r.venvyPlayer.params.pause_callback)return r.venvyPlayer.params.pause_callback();break;case"videoStop":if(r._isEnd=!0,null!=r.venvyPlayer.params.stop_callback)return r.venvyPlayer.params.stop_callback();break;case"displayChange":"displayShow"===e?r._hideUser():"displayHide"===e&&r._showUser()}}}return i.prototype.init=function(t,e,i){return this.cur_address=t,this.total_time=e,this.cur_site=i,this.render()},i.prototype.render=function(){var i,n;return i=this.cur_address.HD[0].url.split("$"),n=i[1],e=t("<div class='player_for_user' oncontextmenu='return false' style='position:absolute;z-index:30;height:100%;width:100%;color:white'>\n</div>").css("height",parseInt(this.venvyPlayer.container.css("height"))-40).appendTo(this.venvyPlayer.container).on("click",function(){return this.isPause()?this.play():(this.video.pauseVideo(),this._hideUser())}.bind(this)),this.venvyPlayer.container.append('<object id="letv-flash" class="venvy_videos cur_player" type="application/x-shockwave-flash" data="http://tv.cztv.com/bluetv/vod/XLPVP1124.swf" wmode="opaque">\n    <param name="quality" value="high" />\n    <param name="bgcolor" value="#000000" />\n    <param name="allowScriptAccess" value="always" />\n    <param name="allowFullScreen" value="true" />\n    <param name="allowInsecureDomain" value="*" />\n    <param name="allowDomain" value="*" />\n    <param name="flashvars" value="'+n+'" />\n</object>'),this.jvideo=this.venvyPlayer.container.find(".cur_player"),this.video=this.jvideo.get(0),this.venvyPlayer.container.on("keydown",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),32===e.keyCode?t.isPause()?t.play():t.pause():void 0}}(this))},i.prototype.play=function(){return this._isEnd?(this._isEnd=!1,this.video.replayVideo()):this.video.resumeVideo()},i.prototype.pause=function(){return this.video.pauseVideo()},i.prototype.jump=function(t){return this.video.seekTo(t)},i.prototype.remove=function(){return this.video.remove()},i.prototype.getCurtime=function(){return this.video.getVideoTime()},i.prototype.hidePlayerControlBar=function(){},i.prototype.showPlayerControlBar=function(){},i.prototype.getVideoProportion=function(){return null},i.prototype.getCurrenVideo=function(){return this.video},i.prototype.isPause=function(){return!this.video.getPlayState().playing},i.prototype._hideUser=function(){return e.css("display","none")},i.prototype._showUser=function(){return e.css("display","block")},i}()}.call(i,n,i,e),!(void 0!==r&&(e.exports=r))},function(e,i,n){var r,o;r=[n(2),n(17)],o=function(e,i){var n;return n=function(i,n,r){var o,a,s,l,c,h,d,u,p,f,v;if(o=1,n.need_analyze!==!0)return f={},l=n.site,v=0,f.HD=[{url:i,seconds:0,size:0,number:0}],r(null,f,v,l);switch(n.site){case"plu":return s=0,(u=function(e,i){return t.ajax({type:"get",url:e,dataType:"json",timeout:1e4,async:!0,success:function(t){var e,n,r,o,a,s,l,c;for(l=t.urls,r=0,o=l.length;o>r;r++)e=l[r],n="plu",c=0,s=e.Resolution.split("x"),a=+s[1],a>=1080&&(f["1080p"]=[{url:e.SecurityUrl+"?a=0",seconds:0,size:0,number:0}]),a>=720&&(f["720p"]=[{url:e.SecurityUrl+"?a=0",seconds:0,size:0,number:0}]),a>=480&&(f.SuperHD=[{url:e.SecurityUrl+"?a=0",seconds:0,size:0,number:0}]),a>=360&&(f.SD=[{url:e.SecurityUrl+"?a=0",seconds:0,size:0,number:0}]),360>a&&(f.SD=[{url:e.SecurityUrl+"?a=0",seconds:0,size:0,number:0}]);return i(null,f,c,n)},error:function(t){return setTimeout(function(){return o>s?(u(e,i),s++):i(t)},500)}})})(i,r);default:return a=e.base64_encode(n.Appkey),c={},c.Appkey=a,s=0,h=e.get_videojjparse_url(),d=0===i.indexOf("#videoId=")?{videoId:i.substring(i.indexOf("=")+1).trim()}:{url:e.base64_encode(i)},(p=function(e,i){return t.ajax({type:"get",url:"http://"+h+"/api/videos/parse",dataType:"json",timeout:5e3,async:!0,data:d,headers:c,success:function(t){var n,r;return t=t.msg,null!=t?null!=t.error?setTimeout(function(){return o>s?(p(e,i),s++):i(t.error)},0):(n=t.site,r=t.time_length,Object.keys(t.segs).forEach(function(e){return t.segs[e].forEach(function(t,e){return t.seconds=t.seconds||0,t.size=t.size||0,t.number=t.number||e})}),i(null,t.segs,r,n)):void 0},error:function(t){return setTimeout(function(){return o>s?(p(e,i),s++):i(t)},0)}})})(i,r)}}}.apply(i,r),!(void 0!==o&&(e.exports=o))},function(t,e,i){var n,r;n=[i(2)],r=function(t){var e,i,n;return e=!0,i=function(t){return console.log(t)},n=function(n,r){var o,a,s,l,c,h,d,u,p,f,v,g,m,y;return h=t.base64_decode,p=function(t){var e,i,n,r,o,a;if(!t)return"";for(t=t.toString(),i=void 0,e=void 0,r=void 0,a=void 0,n=void 0,o=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],a=t.length,r=0,n="";a>r;){for(;;)if(i=o[255&t.charCodeAt(r++)],!(a>r&&-1===i))break;if(-1===i)break;for(;;)if(e=o[255&t.charCodeAt(r++)],!(a>r&&-1===e))break;if(-1===e)break;for(n+=String.fromCharCode(i<<2|(48&e)>>4);;){if(i=255&t.charCodeAt(r++),61===i)return n;if(i=o[i],!(a>r&&-1===i))break}if(-1===i)break;for(n+=String.fromCharCode((15&e)<<4|(60&i)>>2);;){if(e=255&t.charCodeAt(r++),61===e)return n;if(e=o[e],!(a>r&&-1===e))break}if(-1===e)break;n+=String.fromCharCode((3&i)<<6|e)}return n},o=function(t){var e,i,n,r,o,a;if(!t)return"";for(t=t.toString(),i=void 0,e=void 0,r=void 0,n=void 0,o=void 0,a=void 0,r=t.length,e=0,i="";r>e;){if(n=255&t.charCodeAt(e++),e===r){i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((3&n)<<4),i+="==";break}if(o=t.charCodeAt(e++),e===r){i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((3&n)<<4|(240&o)>>4),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((15&o)<<2),i+="=";break}a=t.charCodeAt(e++),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((3&n)<<4|(240&o)>>4),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((15&o)<<2|(192&a)>>6),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a)}return i},a=function(t,e){var i,n,r,o,a,s;for(i=[],r=0,a=void 0,n="",o=0;256>o;)i[o]=o,o++;for(o=0;256>o;)r=(r+i[o]+t.charCodeAt(o%t.length))%256,a=i[o],i[o]=i[r],i[r]=a,o++;for(s=0,r=0,o=0;s<e.length;)o=(o+1)%256,r=(r+i[o])%256,a=i[o],i[o]=i[r],i[r]=a,n+=String.fromCharCode(e.charCodeAt(s)^i[(i[o]+i[r])%256]),s++;return n},s=function(t,e){var i,n,r,o;for(i=[],r=0;r<t.length;){for(o=0,o="a"<=t[r]&&"z">=t[r]?t[r].charCodeAt(0)-97:t[r]-0+26,n=0;36>n;){if(e[n]===o){o=n;break}n++}i[r]=o>25?o-26:String.fromCharCode(o+97),r++}return i.join("")},l=function(t,e){var i,n,r,o,a,s,l;this._sid=v,this._seed=t.seed,this._fileType=e,i=new c(this._seed),this._streamFileIds=t.streamfileids,this._videoSegsDic={},l=[];for(e in t.segs){for(n=[],a=0,r=0;r<t.segs[e].length;)o=t.segs[e][r],s={},s.no=o.no,s.size=o.size,s.seconds=o.seconds,o.k&&(s.key=o.k),s.fileId=this.getFileId(t.streamfileids,e,parseInt(r),i),s.type=e,s.src=this.getVideoSrc(o.no,t,e,s.fileId),n[a++]=s,r++;l.push(this._videoSegsDic[e]=n)}return l},c=function(t){return this._randomSeed=t,this.cg_hun()},i("开始解析youku视频地址"),d="b4et",u="boa4",m="4",y="1",f=void 0,v=void 0,g=void 0,c.prototype={cg_hun:function(){var t,e,i,n,r;for(this._cgStr="",t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/\\:._-1234567890",i=t.length,e=0,r=[];i>e;)n=parseInt(this.ran()*t.length),this._cgStr+=t.charAt(n),t=t.split(t.charAt(n)).join(""),r.push(e++);return r},cg_fun:function(t){var e,i;for(t=t.split("*"),i="",e=0;e<t.length-1;)i+=this._cgStr.charAt(t[e]),e++;return i},ran:function(){return this._randomSeed=(211*this._randomSeed+30031)%65536,this._randomSeed/65536}},l.prototype={getFileId:function(t,e,i,n){var r,o;for(r in t)if(r===e){o=t[r];break}return""===o?"":(e=n.cg_fun(o),t=e.slice(0,8),i=i.toString(16),1===i.length&&(i="0"+i),i=i.toUpperCase(),e=e.slice(10,e.length),t+i+e)},getVideoSrc:function(t,e,i,n,r,l){var c,h,d,p;return e.videoid&&i?(c={flv:0,flvhd:0,mp4:1,hd2:2,"3gphd":1,"3gp":0},p={flv:"flv",mp4:"mp4",hd2:"flv","3gphd":"mp4","3gp":"flv"},h=t.toString(16),1===h.length&&(h="0"+h),d=e.segs[i][t].seconds,t=e.segs[i][t].k,(""===t||-1===t)&&(t=e.key2+e.key1),i="",e.show&&(i=e.show.show_paid?"&ypremium=1":"&ymovie=1"),e="/player/getFlvPath/sid/"+v+"_"+h+"/st/"+p+"/fileid/"+n+"?K="+t+"&hd="+c+"&myp=0&ts="+d+"&ypp=0"+i,n=encodeURIComponent(o(a(s(u+"poz"+y,[19,1,4,7,30,14,28,8,24,17,6,35,34,16,9,10,13,22,32,29,31,21,18,3,2,23,25,27,11,20,5,15,12,0,33,26]).toString(),v+"_"+n+"_"+g))),e=e+("&ep="+n)+"&ctype=12&ev=1&token="+g,e+="&oip="+f.data[0].ip,"http://k.youku.com"+(e+((r?"/password/"+r:"")+(l?l:"")))):""}},t.ajax({url:"http://play.youku.com/play/get.json?vid="+n+"&ct=12",jsonp:!0,callback:function(c){var h,p,_,b,w,x;return-1===c&&i("解析youku视频地址失败",2),f=c,h=c.data,p=a(s(d+"o0b"+m,[19,1,4,7,30,14,28,8,24,17,6,35,34,16,9,10,13,22,32,29,31,21,18,3,2,23,25,27,11,20,5,15,12,0,33,26]).toString(),t.base64_decode(h.security.encrypt_string)),p=p.split("_"),v=p[0],g=p[1],e&&-1===navigator.userAgent.indexOf("PlayStation")?(_=encodeURIComponent(o(a(s(u+"poz"+y,[19,1,4,7,30,14,28,8,24,17,6,35,34,16,9,10,13,22,32,29,31,21,18,3,2,23,25,27,11,20,5,15,12,0,33,26]).toString(),v+"_"+n+"_"+g))),b=h.ip,w=[["SuperHD","http://pl.youku.com/playlist/m3u8?vid="+n+"&type=hd2&ctype=12&keyframe=1&ep="+_+"&sid="+v+"&token="+g+"&ev=1&oip="+b],["HD","http://pl.youku.com/playlist/m3u8?vid="+n+"&type=mp4&ctype=12&keyframe=1&ep="+_+"&sid="+v+"&token="+g+"&ev=1&oip="+b],["SD","http://pl.youku.com/playlist/m3u8?vid="+n+"&type=flv&ctype=12&keyframe=1&ep="+_+"&sid="+v+"&token="+g+"&ev=1&oip="+b]],i("解析youku视频地址成功 "+w.map(function(t){return"<a href="+t[1]+">"+t[0]+"</a>"}).join(" "),2),r(w)):(x=new l(h),w=[["SD",x._videoSegsDic["3gphd"][0].src]],i("解析youku视频地址成功 "+w.map(function(t){return"<a href="+t[1]+">"+t[0]+"</a>"}).join(" "),2),r(w))}})},{parse:n}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(e,i,n){var r;r=function(){var e,i,n,r;return e=null,r=null,n=null,i=function(){function i(t,e,i){var n;this.venvyPlayer=t,this.video_url=e,this.time=i,n=this,this._isLoaded=!1,this._isPause=!1,window.vjjFlash=function(t,e){switch(console.debug(t,e),t){case"play_callback":this._isLoaded!==!0&&(this._isLoaded=!0,null!=this.venvyPlayer.params.loaded_callback&&this.venvyPlayer.params.loaded_callback());break;case"loaded_callback":this._isPause=!1,null!=this.venvyPlayer.params.play_callback&&this.venvyPlayer.params.play_callback();break;case"pause_callback":this._isPause=!0,null!=this.venvyPlayer.params.pause_callback&&this.venvyPlayer.params.pause_callback();break;case"stop_callback":null!=this.venvyPlayer.params.stop_callback&&this.venvyPlayer.params.stop_callback();break;case"fullscreen_callback":null!=this.venvyPlayer.params.fullscreen_callback&&this.venvyPlayer.params.fullscreen_callback();break;case"exitfullscreen_callback":null!=this.venvyPlayer.params.exitfullscreen_callback&&this.venvyPlayer.params.exitfullscreen_callback()}}.bind(this)}return i.prototype.init=function(t,e,i){return this.cur_address=t,this.total_time=e,this.cur_site=i,this.render()},i.prototype.render=function(){var i,n;return n=this,i=this.cur_address.HD[0].url.replace(/^\$|\$hunanlive$/g,""),e=t("<div class='player_for_user' oncontextmenu='return false' style='position:absolute;z-index:30;top:0;left:0;bottom:50px;width:100%;color:white;'>\n</div>").appendTo(this.venvyPlayer.container).on("click",function(){return this.isPause()?this.play():this.pause()}.bind(this)),this.venvyPlayer.container.append('<object id="hunan-flash" class="venvy_videos cur_player" type="application/x-shockwave-flash" data="'+i+'" wmode="opaque">\n    <param name="quality" value="high" />\n    <param name="bgcolor" value="#000000" />\n    <param name="allowScriptAccess" value="always" />\n    <param name="allowFullScreen" value="true" />\n    <param name="allowInsecureDomain" value="*" />\n    <param name="allowDomain" value="*" />\n</object>'),this.jvideo=this.venvyPlayer.container.find(".cur_player"),this.video=this.jvideo.get(0),n.venvyPlayer.params.logined!==!0&&this.jvideo.on("mouseenter",function(){return n._hideUser()}).on("mouseleave",function(){return n._showUser()}),this.venvyPlayer.container.on("keydown",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),32===e.keyCode?t.isPause()?t.play():t.pause():void 0}}(this))},i.prototype.play=function(){return this.video.play()},i.prototype.pause=function(){return this.video.pause()},i.prototype.jump=function(t){},i.prototype.remove=function(){return this.video.remove()},i.prototype.getCurtime=function(){return 0},i.prototype.setKeyEventStop=function(){},i.prototype.setKeyEventStart=function(){},i.prototype.hidePlayerControlBar=function(){},i.prototype.showPlayerControlBar=function(){},i.prototype.getVideoProportion=function(){return null},i.prototype.getCurrenVideo=function(){return this.video},i.prototype.isPause=function(){return this._isPause},i.prototype._showUser=function(){return e.removeClass("__hidden").css("bottom","50px"),0},i.prototype._hideUser=function(){return e.addClass("__hidden").css("bottom","180px"),0},i}()}.call(i,n,i,e),!(void 0!==r&&(e.exports=r))},function(e,i,n){var r;r=function(){var e,i;return e=null,i=function(){function i(t,i,n){var r;this.venvyPlayer=t,this.video_url=i,this.time=n,r=this,this._isLoaded=!1,this._isPause=!1,window.videoplusplusPlayStatus=function(t,e){switch(e){case 0:this._isLoaded!==!0&&(this._isLoaded=!0,null!=this.venvyPlayer.params.loaded_callback&&this.venvyPlayer.params.loaded_callback());break;case 1:this._isPause=!0,null!=this.venvyPlayer.params.pause_callback&&this.venvyPlayer.params.pause_callback();break;case 2:null!=this.venvyPlayer.params.stop_callback&&this.venvyPlayer.params.stop_callback();break;case 3:this._isPause=!1,null!=this.venvyPlayer.params.play_callback&&this.venvyPlayer.params.play_callback()}}.bind(this),window.start_seek_callback=function(){return null!=r.venvyPlayer.params.start_seek_callback?r.venvyPlayer.params.start_seek_callback():void 0},window.start_setting=function(){return e.css("display","none"),0},window.end_setting=function(){return e.css("display","block"),0}}return i.prototype.init=function(t,e,i){return this.cur_address=t,this.total_time=e,this.cur_site=i,this.render()},i.prototype.render=function(){var i,n,r,o;return n=this,i=this.cur_address.HD[0].url.split("$"),r=i[1],o=i[2],e=t("<div class='player_for_user' oncontextmenu='return false' style='position:absolute;z-index:30;top:0;left:0;bottom:60px;right:0;color:white;'>\n</div>").appendTo(this.venvyPlayer.container).on("click",function(){return this.isPause()?this.play():this.pause()}.bind(this)),this.venvyPlayer.container.append('<object id="videoFlash" class="venvy_videos cur_player" type="application/x-shockwave-flash" data="'+r+'" wmode="opaque">\n    <param name="flashvars" value="'+o+'" />\n    <param name="quality" value="high" />\n    <param name="bgcolor" value="#000000" />\n    <param name="allowScriptAccess" value="always" />\n    <param name="allowFullScreen" value="true" />\n    <param name="allowInsecureDomain" value="*" />\n    <param name="allowDomain" value="*" />\n</object>'),this.jvideo=this.venvyPlayer.container.find(".cur_player"),this.video=this.jvideo.get(0),this.venvyPlayer.container.on("keydown",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),32===e.keyCode?t.isPause()?t.play():t.pause():void 0}}(this))},i.prototype.play=function(){return this.video.play()},i.prototype.pause=function(){return this.video.pause()},i.prototype.jump=function(t){return this.video.setPlaytime(t)},i.prototype.remove=function(){return this.video.remove()},i.prototype.getCurtime=function(){return this.video.getPlaytime()},i.prototype.hidePlayerControlBar=function(){},i.prototype.showPlayerControlBar=function(){},i.prototype.getVideoProportion=function(){return null},i.prototype.getCurrenVideo=function(){return this.video},i.prototype.isPause=function(){return this._isPause},i}()}.call(i,n,i,e),!(void 0!==r&&(e.exports=r))},function(e,i,n){var r,o;r=[n(2)],o=function(e){var i,n;return i=null,n=function(){function n(n,r,o){var a;this.venvyPlayer=n,this.video_url=r,this.time=o,a=this,this._isLoaded=!1,this._isPause=!0,window.notice=function(t){var n,r;if(n=JSON.parse(t),"barragePluginSkinConfig"===n.type&&setTimeout(function(){return this.video.resumeQiyiVideo()}.bind(this),500),"playerStateChange"===n.type)switch(r=n.data.state){case"Ready":this._isLoaded!==!0&&(this._isLoaded=!0,null!=this.venvyPlayer.params.loaded_callback&&this.venvyPlayer.params.loaded_callback());break;case"StartPlay":case"Playing":this._isPause=!1,null!=this.venvyPlayer.params.play_callback&&this.venvyPlayer.params.play_callback();break;case"Paused":this._isPause=!0,null!=this.venvyPlayer.params.pause_callback&&this.venvyPlayer.params.pause_callback();break;case"Seeking":null!=this.venvyPlayer.params.start_seek_callback&&this.venvyPlayer.params.start_seek_callback();break;case"Stoped":null!=this.venvyPlayer.params.stop_callback&&this.venvyPlayer.params.stop_callback()}else if("screenSwitched"===n.type)switch(r=n.data.fullScreen){case"true":e.fullscreen(this.venvyPlayer.container);break;case"false":e.exitfullscreen()}else if("definitionPanelSwitched"===n.type||"sharePanelSwitched"===n.type)switch(r=n.data.open){case"true":i.css("display","none");break;case"false":i.css("display","block")}}.bind(this),t(document).off("MSFullscreenChange webkitfullscreenchange mozfullscreenchange fullscreenChange").on("MSFullscreenChange webkitfullscreenchange mozfullscreenchange fullscreenChange",function(i){return function(){var n;if(n=document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreenElement||document.mozFullScreen||window.fullScreen||window.navigator.standalone){if(i.video.setFullScreen("true"),window.fullScreen&&t(document).off("keydown").one("keydown",function(t){return 27===t.keyCode?e.exitfullscreen():void 0}),null!=i.venvyPlayer.params.fullscreen_callback)return i.venvyPlayer.params.fullscreen_callback()}else if(i.video.setFullScreen("false"),null!=i.venvyPlayer.params.exitfullscreen_callback)return i.venvyPlayer.params.exitfullscreen_callback()}}(this))}return n.prototype.init=function(t,e,i){return this.cur_address=t,this.total_time=e,this.cur_site=i,this.render()},n.prototype.render=function(){var e,n,r,o,a,s;return o=this,e=this.cur_address.HD[0].url.split("$"),a=e[1],s=e[2],r=0,n=null,i=t("<div class='player_for_user' oncontextmenu='return false' style='position:absolute;z-index:30;top:0;left:0;bottom:56px;right:0;color:white;'>\n</div>").appendTo(this.venvyPlayer.container).click(function(t){return function(){return r++,1===r?n=setTimeout(function(){return r=0,t.isPause()?t.play():t.pause()},300):(clearTimeout(n),r=0,t._toggleFS())}}(this)).dblclick(function(t){return t.preventDefault()}),this.venvyPlayer.container.append('<object id="videoFlash" class="venvy_videos cur_player" type="application/x-shockwave-flash" data="'+a+'" wmode="opaque">\n    <param name="flashvars" value="'+s+'" />\n    <param name="quality" value="high" />\n    <param name="bgcolor" value="#000000" />\n    <param name="allowScriptAccess" value="always" />\n    <param name="allowFullScreen" value="true" />\n    <param name="allowInsecureDomain" value="*" />\n    <param name="allowDomain" value="*" />\n</object>'),this.jvideo=this.venvyPlayer.container.find(".cur_player"),this.video=this.jvideo.get(0),this.venvyPlayer.container.on("keydown",function(t){return function(e){return"INPUT"!==e.target.tagName&&e.preventDefault(),e.stopPropagation(),32===e.keyCode?t.isPause()?t.play():t.pause():void 0}}(this))},n.prototype._toggleFS=function(){var t;return t=document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreenElement||document.mozFullScreen||window.fullScreen||window.navigator.standalone,t?e.exitfullscreen():e.fullscreen(this.venvyPlayer.container)},n.prototype.play=function(){return this.video.resumeQiyiVideo(),0},n.prototype.pause=function(){return this.video.pauseQiyiVideo()},n.prototype.jump=function(t){},n.prototype.remove=function(){return this.video.remove()},n.prototype.getCurtime=function(){var t;return t=JSON.parse(this.video.getQiyiPlayerInfo()),t.currentTime/1e3},n.prototype.hidePlayerControlBar=function(){},n.prototype.showPlayerControlBar=function(){},n.prototype.getVideoProportion=function(){return null},n.prototype.getCurrenVideo=function(){return this.video},n.prototype.isPause=function(){return this._isPause},n}()}.apply(i,r),!(void 0!==o&&(e.exports=o));
},function(e,i,n){var r,o;r=[n(2),n(4)],o=function(e,i){var n,r,o,a,s,l,c,h,d;return n=null,r=null,o=null,l=null,s=null,a=null,c=null,h=null,d=function(){function h(t,e,i,n){this.venvyPlayer=t,this.video_url=e,this.time=i,this.cur_url=n,this._isLoaded=!1}return h.prototype.init=function(t,e,i){var n;return this.cur_address=t,this.total_time=e,this.cur_site=i,n=this.cur_address.HD[0].url.split("$"),this.cur_url=n[3],/MicroMessenger|iPad/.test(navigator.userAgent)?/Android/.test(navigator.userAgent)?this._useControl=!1:this._useControl=!0:/Chrome/.test(navigator.userAgent)?this._useControl=!0:this._useControl=!1,this._isFS=!1,this.render(),this.event()},h.prototype.render=function(){var t,e,a;return e=this.venvyPlayer.params.load_and_pause===!0?"":'autoplay="true"',a=this._useControl===!0?"":'controls="true"',this.venvyPlayer.container.append(i.html(this.cur_url,e,this.venvyPlayer.params.video_poster||"",a)),t=this.venvyPlayer.container.find(".cur_player"),this.jvideo=t,this.video=this.jvideo[0],c=this.venvyPlayer.container.find(".player_for_user"),n=this.venvyPlayer.container.find(".mobile-control-bar"),this._useControl?(r=n.find(".mobile-play-btn"),o=n.find(".mobile-seeker-range"),s=n.find(".mobile-time-current"),l=n.find(".mobile-time-total"),90===window.orientation||-90===window.orientation?this._toggleFullScreen(!1):void 0):(c.remove(),n.remove())},h.prototype.event=function(){var n,h;return h=this,this.jvideo.on("play",function(t){return function(){return t._useControl&&(c.css("background","initial"),t.video.paused||r.html("&#xe602;")),null!=t.venvyPlayer.params.play_callback?t.venvyPlayer.params.play_callback():void 0}}(this)).on("pause",function(){return null!=h.venvyPlayer.params.pause_callback?h.venvyPlayer.params.pause_callback():void 0}).on("waiting",function(t){return function(){return console.debug("waiting")}}(this)).on("seeked",function(t){return function(){return console.debug("seeked"),null!=t.venvyPlayer.params.start_seek_callback&&t.venvyPlayer.params.start_seek_callback(),t._isLoaded&&t._useControl?t.play():void 0}}(this)).on("canplay",function(t){return function(){return t._isLoaded=!0,t._useControl?l.text(e.format_time(t.total_time)):void 0}}(this)).on("loadeddata",function(t){return function(){return t.total_time=t.video.duration,t.time&&(t.video.currentTime=t.time),t._isLoaded!==!0&&null!=t.venvyPlayer.params.loaded_callback?t.venvyPlayer.params.loaded_callback():void 0}}(this)).on("timeupdate",function(t){return function(){return t._useControl?t._handleTimeupdate(t.video.currentTime):void 0}}(this)).on("ended",function(){return null!=h.venvyPlayer.params.stop_callback?h.venvyPlayer.params.stop_callback():void 0}).on("error",function(t){return function(){return null!=t.venvyPlayer.params.parse_error_callback?t.venvyPlayer.params.parse_error_callback():void 0}}(this)),this._useControl?(a=t("<style/>",{"class":"mobile-style"}).append(i.style(0)).appendTo("head"),n=null,c.on("touchstart touchmove touchend",function(t){return function(e){return t._isLoaded===!0?(t._isFS&&e.preventDefault(),"touchstart"===e.type?r.trigger("touchstart"):void 0):void 0}}(this)),r.on("touchstart",function(){return h.video.paused===!0?h.play():h.pause()}),o.on("change",function(t){return function(e){return t.video.currentTime=parseInt(o.val())/1e4*t.total_time}}(this)).on("update",function(){return a.html(i.style(t(this).val())),s.text(e.format_time(h.video.currentTime))}).on("input",function(i){return h.pause(),s.text(e.format_time(parseInt(t(this).val())/1e4*h.total_time))}),t(window).on("orientationchange",function(t){return 90===window.orientation||-90===window.orientation?h._toggleFullScreen(!1,!0):h._toggleFullScreen(!0,!0)})):void 0},h.prototype._handleTimeupdate=function(t){var e;return e=t/this.total_time*1e4,o.val(e).trigger("update")},h.prototype._showBar=function(){return n.addClass("__show"),this.venvyPlayer.params.show_bar_callback&&!n.hasClass("__show")?this.venvyPlayer.params.show_bar_callback():void 0},h.prototype._hideBar=function(){return n.removeClass("__show"),this.venvyPlayer.params.hide_bar_callback&&n.hasClass("__show")?this.venvyPlayer.params.hide_bar_callback():void 0},h.prototype._toggleFullScreen=function(t,e){if(t===!0){if(this._isFS=!1,this.venvyPlayer.container.css({position:"relative","z-index":"1"}),this.venvyPlayer.params.exitfullscreen_callback&&e)return this.venvyPlayer.params.exitfullscreen_callback()}else if(this._isFS=!0,this.venvyPlayer.container.css({position:"fixed",left:0,top:0,"z-index":2147483647}),this.venvyPlayer.params.fullscreen_callback&&e)return this.venvyPlayer.params.fullscreen_callback()},h.prototype.pause=function(){return this.video.pause(),this._useControl?r.html("&#xe603;"):void 0},h.prototype.play=function(){return this.video.play(),this._useControl?r.html("&#xe602;"):void 0},h.prototype.jump=function(t){return this.video.currentTime=t},h.prototype.remove=function(){return this.jvideo.remove()},h.prototype.showPlayerControlBar=function(){return this._showBar()},h.prototype.hidePlayerControlBar=function(){return this._hideBar()},h.prototype.getCurtime=function(){return this.video?this.video.currentTime:this.time||0},h.prototype.getVideoProportion=function(){return this.video.videoWidth/this.video.videoHeight},h.prototype.getCurrentVideo=function(){return this.video},h.prototype.isPause=function(){return this.video.paused},h}()}.apply(i,r),!(void 0!==o&&(e.exports=o))},function(t,e,i){var n,r;n=[i(23)],r=function(t){var e;return e=function(){function e(t){this.venvyPlayer=t,this._render(),this.is_buffering=this.venvyPlayer.container.find(".loading_component"),this.is_buffering_text=this.is_buffering.find(".loading_text"),this.is_buffering_inside=this.is_buffering.find(".loading_inside")}return e.prototype.destory=function(){return this.is_buffering.remove()},e.prototype._render=function(){return this.venvyPlayer.container.append(t(this.venvyPlayer.params))},e}()}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t;return t=function(t){var e,i;return i=void 0!==t.loading_text?t.loading_text:"正在载入视频",e=t.logo||"http://7xjfim.com2.z0.glb.qiniucdn.com/iva2-logo-white.svg","<div class='loading_component' style='display:block;height:100%;width:100%;position:absolute;z-index:101;background-color:#202020;'>\n  <div class='loading_inside'>\n    <img class='loading_inside_logo' width='55' src='"+e+"'>\n  </div>\n  <div class='loading_text' style='height:20px;width:300px;position:absolute;left:50%;top:50%;margin-left:-150px;margin-top:70px;text-align:center;color:#e1e1e1;font-size:12px;font-style:italic;'>"+i+"</div>\n  <div class='loading_percent' style='height:20px;width:30px;position:absolute;left:50%;top:50%;margin-left:-15px;text-align:center;margin-top:30px;color:white;font-size:0.9em'></div>\n</div>"}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}])}.apply(e,n),!(void 0!==r&&(t.exports=r)),console.info("Player update at: Fri Jan 08 2016 19:49:59 GMT+0800 (CST)")},function(t,e,i){var n;n=function(){function t(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var a=1732584193,l=-271733879,c=-1732584194,h=271733878,d=0;d<t.length;d+=16){var u=a,p=l,f=c,v=h;a=i(a,l,c,h,t[d+0],7,-680876936),h=i(h,a,l,c,t[d+1],12,-389564586),c=i(c,h,a,l,t[d+2],17,606105819),l=i(l,c,h,a,t[d+3],22,-1044525330),a=i(a,l,c,h,t[d+4],7,-176418897),h=i(h,a,l,c,t[d+5],12,1200080426),c=i(c,h,a,l,t[d+6],17,-1473231341),l=i(l,c,h,a,t[d+7],22,-45705983),a=i(a,l,c,h,t[d+8],7,1770035416),h=i(h,a,l,c,t[d+9],12,-1958414417),c=i(c,h,a,l,t[d+10],17,-42063),l=i(l,c,h,a,t[d+11],22,-1990404162),a=i(a,l,c,h,t[d+12],7,1804603682),h=i(h,a,l,c,t[d+13],12,-40341101),c=i(c,h,a,l,t[d+14],17,-1502002290),l=i(l,c,h,a,t[d+15],22,1236535329),a=n(a,l,c,h,t[d+1],5,-165796510),h=n(h,a,l,c,t[d+6],9,-1069501632),c=n(c,h,a,l,t[d+11],14,643717713),l=n(l,c,h,a,t[d+0],20,-373897302),a=n(a,l,c,h,t[d+5],5,-701558691),h=n(h,a,l,c,t[d+10],9,38016083),c=n(c,h,a,l,t[d+15],14,-660478335),l=n(l,c,h,a,t[d+4],20,-405537848),a=n(a,l,c,h,t[d+9],5,568446438),h=n(h,a,l,c,t[d+14],9,-1019803690),c=n(c,h,a,l,t[d+3],14,-187363961),l=n(l,c,h,a,t[d+8],20,1163531501),a=n(a,l,c,h,t[d+13],5,-1444681467),h=n(h,a,l,c,t[d+2],9,-51403784),c=n(c,h,a,l,t[d+7],14,1735328473),l=n(l,c,h,a,t[d+12],20,-1926607734),a=r(a,l,c,h,t[d+5],4,-378558),h=r(h,a,l,c,t[d+8],11,-2022574463),c=r(c,h,a,l,t[d+11],16,1839030562),l=r(l,c,h,a,t[d+14],23,-35309556),a=r(a,l,c,h,t[d+1],4,-1530992060),h=r(h,a,l,c,t[d+4],11,1272893353),c=r(c,h,a,l,t[d+7],16,-155497632),l=r(l,c,h,a,t[d+10],23,-1094730640),a=r(a,l,c,h,t[d+13],4,681279174),h=r(h,a,l,c,t[d+0],11,-358537222),c=r(c,h,a,l,t[d+3],16,-722521979),l=r(l,c,h,a,t[d+6],23,76029189),a=r(a,l,c,h,t[d+9],4,-640364487),h=r(h,a,l,c,t[d+12],11,-421815835),c=r(c,h,a,l,t[d+15],16,530742520),l=r(l,c,h,a,t[d+2],23,-995338651),a=o(a,l,c,h,t[d+0],6,-198630844),h=o(h,a,l,c,t[d+7],10,1126891415),c=o(c,h,a,l,t[d+14],15,-1416354905),l=o(l,c,h,a,t[d+5],21,-57434055),a=o(a,l,c,h,t[d+12],6,1700485571),h=o(h,a,l,c,t[d+3],10,-1894986606),c=o(c,h,a,l,t[d+10],15,-1051523),l=o(l,c,h,a,t[d+1],21,-2054922799),a=o(a,l,c,h,t[d+8],6,1873313359),h=o(h,a,l,c,t[d+15],10,-30611744),c=o(c,h,a,l,t[d+6],15,-1560198380),l=o(l,c,h,a,t[d+13],21,1309151649),a=o(a,l,c,h,t[d+4],6,-145523070),h=o(h,a,l,c,t[d+11],10,-1120210379),c=o(c,h,a,l,t[d+2],15,718787259),l=o(l,c,h,a,t[d+9],21,-343485551),a=s(a,u),l=s(l,p),c=s(c,f),h=s(h,v)}return Array(a,l,c,h)}function e(t,e,i,n,r,o){return s(l(s(s(e,t),s(n,o)),r),i)}function i(t,i,n,r,o,a,s){return e(i&n|~i&r,t,i,o,a,s)}function n(t,i,n,r,o,a,s){return e(i&r|n&~r,t,i,o,a,s)}function r(t,i,n,r,o,a,s){return e(i^n^r,t,i,o,a,s)}function o(t,i,n,r,o,a,s){return e(n^(i|~r),t,i,o,a,s)}function a(e,i){var n=c(e);n.length>16&&(n=t(n,e.length*v));for(var r=Array(16),o=Array(16),a=0;16>a;a++)r[a]=909522486^n[a],o[a]=1549556828^n[a];var s=t(r.concat(c(i)),512+i.length*v);return t(o.concat(s),640)}function s(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i}function l(t,e){return t<<e|t>>>32-e}function c(t){for(var e=Array(),i=(1<<v)-1,n=0;n<t.length*v;n+=v)e[n>>5]|=(t.charCodeAt(n/v)&i)<<n%32;return e}function h(t){for(var e="",i=(1<<v)-1,n=0;n<32*t.length;n+=v)e+=String.fromCharCode(t[n>>5]>>>n%32&i);return e}function d(t){for(var e=p?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<4*t.length;n++)i+=e.charAt(t[n>>2]>>n%4*8+4&15)+e.charAt(t[n>>2]>>n%4*8&15);return i}function u(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",n=0;n<4*t.length;n+=3)for(var r=(t[n>>2]>>8*(n%4)&255)<<16|(t[n+1>>2]>>8*((n+1)%4)&255)<<8|t[n+2>>2]>>8*((n+2)%4)&255,o=0;4>o;o++)i+=8*n+6*o>32*t.length?f:e.charAt(r>>6*(3-o)&63);return i}var p=0,f="",v=8;return{hex_md5:function(e){return d(t(c(e),e.length*v))},b64_md5:function(e){return u(t(c(e),e.length*v))},str_md5:function(e){return h(t(c(e),e.length*v))},hex_hmac_md5:function(t,e){return d(a(t,e))},b64_hmac_md5:function(t,e){return u(a(t,e))},str_hmac_md5:function(t,e){return h(a(t,e))}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(4)],r=function(t){return function(t){var e=t.$ivaInterface.width()/t.$ivaInterface.height(),i=t.player.get_video_proportion();if(i&&!t.isMobile){t.$ivaWrap.css("width"),t.$ivaWrap.css("height");if(e>i){var n=100*i/e;t.$ivaWrap.css("width",n+"%").css("left",(100-n)/2+"%")}else{var n=100*e/i;t.$ivaWrap.css("height",n+"%").css("top",(100-n)/2+"%")}}}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(t){function e(t){return function(){t._needsRefreshNextFrame&&t.refresh()}}i(99);var n=i(100),r=i(101),o=i(103),a=i(104),s=i(110),l=i(121),c=i(123),h={},d={};d.version="2.1.1",d.init=function(t){var e=new u(o(),t);return h[e.id]=e,e},d.dispose=function(t){if(t)t.dispose();else{for(var e in h)h[e].dispose();h={}}return d},d.getInstance=function(t){return h[t]},d.delInstance=function(t){return delete h[t],d};var u=function(t,n){this.id=t,this.env=i(105),this.storage=new l,this.painter=new s(n,this.storage),this.handler=new a(n,this.storage,this.painter),this.animation=new c({stage:{update:e(this)}}),this.animation.start();var r=this;this.painter.refreshNextFrame=function(){r.refreshNextFrame()},this._needsRefreshNextFrame=!1;var r=this,o=this.storage,h=o.delFromMap;o.delFromMap=function(t){var e=o.get(t);r.stopAnimation(e),h.call(o,t)}};return u.prototype.getId=function(){return this.id},u.prototype.addShape=function(t){return this.addElement(t),this},u.prototype.addGroup=function(t){return this.addElement(t),this},u.prototype.delShape=function(t){return this.delElement(t),this},u.prototype.delGroup=function(t){return this.delElement(t),this},u.prototype.modShape=function(t,e){return this.modElement(t,e),this},u.prototype.modGroup=function(t,e){return this.modElement(t,e),this},u.prototype.addElement=function(t){return this.storage.addRoot(t),this._needsRefreshNextFrame=!0,this},u.prototype.delElement=function(t){return this.storage.delRoot(t),this._needsRefreshNextFrame=!0,this},u.prototype.modElement=function(t,e){return this.storage.mod(t,e),this._needsRefreshNextFrame=!0,this},u.prototype.modLayer=function(t,e){return this.painter.modLayer(t,e),this._needsRefreshNextFrame=!0,this},u.prototype.addHoverShape=function(t){return this.storage.addHover(t),this},u.prototype.render=function(t){return this.painter.render(t),this._needsRefreshNextFrame=!1,this},u.prototype.refresh=function(t){return this.painter.refresh(t),this._needsRefreshNextFrame=!1,this},u.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},u.prototype.refreshHover=function(t){return this.painter.refreshHover(t),this},u.prototype.refreshShapes=function(t,e){return this.painter.refreshShapes(t,e),this},u.prototype.resize=function(){return this.painter.resize(),this},u.prototype.animate=function(t,e,i){var o=this;if("string"==typeof t&&(t=this.storage.get(t)),t){var a;if(e){for(var s=e.split("."),l=t,c=0,h=s.length;h>c;c++)l&&(l=l[s[c]]);l&&(a=l)}else a=t;if(!a)return void r('Property "'+e+'" is not existed in element '+t.id);null==t.__animators&&(t.__animators=[]);var d=t.__animators,u=this.animation.animate(a,{loop:i}).during(function(){o.modShape(t)}).done(function(){var e=n.indexOf(t.__animators,u);e>=0&&d.splice(e,1)});return d.push(u),u}r("Element not existed")},u.prototype.stopAnimation=function(t){if(t.__animators){for(var e=t.__animators,i=e.length,n=0;i>n;n++)e[n].stop();e.length=0}return this},u.prototype.clearAnimation=function(){return this.animation.clear(),this},u.prototype.showLoading=function(t){return this.painter.showLoading(t),this},u.prototype.hideLoading=function(){return this.painter.hideLoading(),this},u.prototype.getWidth=function(){return this.painter.getWidth()},u.prototype.getHeight=function(){return this.painter.getHeight()},u.prototype.toDataURL=function(t,e,i){return this.painter.toDataURL(t,e,i)},u.prototype.shapeToImage=function(t,e,i){var n=o();return this.painter.shapeToImage(n,t,e,i)},u.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},u.prototype.un=function(t,e){return this.handler.un(t,e),this},u.prototype.trigger=function(t,e){return this.handler.trigger(t,e),this},u.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},u.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,d.delInstance(this.id)},d}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:!function(){function t(){return this.context_||(this.context_=new b(this))}function e(t,e,i){var n=B.call(arguments,2);return function(){return t.apply(e,n.concat(B.call(arguments)))}}function i(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(t,e,i){t.namespaces[e]||t.namespaces.add(e,i,"#default#VML")}function r(t){if(n(t,"g_vml_","urn:schemas-microsoft-com:vml"),n(t,"g_o_","urn:schemas-microsoft-com:office:office"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function o(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function a(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function s(){return[[1,0,0],[0,1,0],[0,0,1]]}function l(t,e){for(var i=s(),n=0;3>n;n++)for(var r=0;3>r;r++){for(var o=0,a=0;3>a;a++)o+=t[n][a]*e[a][r];i[n][r]=o}return i}function c(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.scaleX_=t.scaleX_,e.scaleY_=t.scaleY_,e.lineScale_=t.lineScale_}function h(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1),n=t.substring(e+1,i).split(",");return(4!=n.length||"a"!=t.charAt(3))&&(n[3]=1),n}function d(t){return parseFloat(t)/100}function u(t,e,i){return Math.min(i,Math.max(e,t))}function p(t){var e,i,n,r,o,a;if(r=parseFloat(t[0])/360%360,0>r&&r++,o=u(d(t[1]),0,1),a=u(d(t[2]),0,1),0==o)e=i=n=a;else{var s=.5>a?a*(1+o):a+o-a*o,l=2*a-s;e=f(l,s,r+1/3),i=f(l,s,r),n=f(l,s,r-1/3)}return"#"+N[Math.floor(255*e)]+N[Math.floor(255*i)]+N[Math.floor(255*n)]}function f(t,e,i){return 0>i&&i++,i>1&&i--,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function v(t){if(t in V)return V[t];var e,i=1;if(t=String(t),"#"==t.charAt(0))e=t;else if(/^rgb/.test(t)){for(var n,r=h(t),e="#",o=0;3>o;o++)n=-1!=r[o].indexOf("%")?Math.floor(255*d(r[o])):+r[o],e+=N[u(n,0,255)];i=+r[3]}else if(/^hsl/.test(t)){var r=h(t);e=p(r),i=r[3]}else e=U[t]||t;return V[t]={color:e,alpha:i}}function g(t){if(X[t])return X[t];var e,i=document.createElement("div"),n=i.style;try{n.font=t,e=n.fontFamily.split(",")[0]}catch(r){}return X[t]={style:n.fontStyle||Y.style,variant:n.fontVariant||Y.variant,weight:n.fontWeight||Y.weight,size:n.fontSize||Y.size,family:e||Y.family}}function m(t,e){var i={};for(var n in t)i[n]=t[n];var r=parseFloat(e.currentStyle.fontSize),o=parseFloat(t.size);return"number"==typeof t.size?i.size=t.size:-1!=t.size.indexOf("px")?i.size=o:-1!=t.size.indexOf("em")?i.size=r*o:-1!=t.size.indexOf("%")?i.size=r/100*o:-1!=t.size.indexOf("pt")?i.size=o/.75:i.size=r,i}function y(t){return t.style+" "+t.variant+" "+t.weight+" "+t.size+"px '"+t.family+"'"}function _(t){return G[t]||"square"}function b(t){this.m_=s(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*O,this.globalAlpha=1,this.font="12px 微软雅黑",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i);var n=i.cloneNode(!1);n.style.backgroundColor="#fff",n.style.filter="alpha(opacity=0)",t.appendChild(n),this.element_=i,this.scaleX_=1,this.scaleY_=1,this.lineScale_=1}function w(t,e,i,n){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:n.x,y:n.y}),t.currentX_=n.x,t.currentY_=n.y}function x(t,e){var i=v(t.strokeStyle),n=i.color,r=i.alpha*t.globalAlpha,o=t.lineScale_*t.lineWidth;1>o&&(r*=o),e.push("<g_vml_:stroke",' opacity="',r,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',_(t.lineCap),'"',' weight="',o,'px"',' color="',n,'" />')}function k(t,e,i,n){var r=t.fillStyle,o=t.scaleX_,a=t.scaleY_,s=n.x-i.x,l=n.y-i.y;if(r instanceof E){var c=0,h={x:0,y:0},d=0,u=1;if("gradient"==r.type_){var p=r.x0_/o,f=r.y0_/a,g=r.x1_/o,m=r.y1_/a,y=C(t,p,f),_=C(t,g,m),b=_.x-y.x,w=_.y-y.y;c=180*Math.atan2(b,w)/Math.PI,0>c&&(c+=360),1e-6>c&&(c=0)}else{var y=C(t,r.x0_,r.y0_);h={x:(y.x-i.x)/s,y:(y.y-i.y)/l},s/=o*O,l/=a*O;var x=A.max(s,l);d=2*r.r0_/x,u=2*r.r1_/x-d}var k=r.colors_;k.sort(function(t,e){return t.offset-e.offset});for(var P=k.length,T=k[0].color,D=k[P-1].color,I=k[0].alpha*t.globalAlpha,$=k[P-1].alpha*t.globalAlpha,F=[],L=0;P>L;L++){var j=k[L];F.push(j.offset*u+d+" "+j.color)}e.push('<g_vml_:fill type="',r.type_,'"',' method="none" focus="100%"',' color="',T,'"',' color2="',D,'"',' colors="',F.join(","),'"',' opacity="',$,'"',' g_o_:opacity2="',I,'"',' angle="',c,'"',' focusposition="',h.x,",",h.y,'" />')}else if(r instanceof S){if(s&&l){var M=-i.x,z=-i.y;e.push("<g_vml_:fill",' position="',M/s*o*o,",",z/l*a*a,'"',' type="tile"',' src="',r.src_,'" />')}}else{var R=v(t.fillStyle),B=R.color,H=R.alpha*t.globalAlpha;e.push('<g_vml_:fill color="',B,'" opacity="',H,'" />')}}function C(t,e,i){var n=t.m_;return{x:O*(e*n[0][0]+i*n[1][0]+n[2][0])-R,y:O*(e*n[0][1]+i*n[1][1]+n[2][1])-R}}function P(t){return isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])}function T(t,e,i){if(P(e)&&(t.m_=e,t.scaleX_=Math.sqrt(e[0][0]*e[0][0]+e[0][1]*e[0][1]),t.scaleY_=Math.sqrt(e[1][0]*e[1][0]+e[1][1]*e[1][1]),i)){var n=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=z(M(n))}}function E(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function S(t,e){switch(I(t),e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:D("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function D(t){throw new $(t)}function I(t){t&&1==t.nodeType&&"IMG"==t.tagName||D("TYPE_MISMATCH_ERR"),"complete"!=t.readyState&&D("INVALID_STATE_ERR")}function $(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var A=Math,F=A.round,L=A.sin,j=A.cos,M=A.abs,z=A.sqrt,O=10,R=O/2,B=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);r(document);var H={init:function(t){var i=t||document;i.createElement("canvas"),i.attachEvent("onreadystatechange",e(this.init_,this,i))},init_:function(t){for(var e=t.getElementsByTagName("canvas"),i=0;i<e.length;i++)this.initElement(e[i])},initElement:function(e){if(!e.getContext){e.getContext=t,r(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",o),e.attachEvent("onresize",a);var i=e.attributes;i.width&&i.width.specified?e.style.width=i.width.nodeValue+"px":e.width=e.clientWidth,i.height&&i.height.specified?e.style.height=i.height.nodeValue+"px":e.height=e.clientHeight}return e}};H.init();for(var N=[],W=0;16>W;W++)for(var q=0;16>q;q++)N[16*W+q]=W.toString(16)+q.toString(16);var U={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},V={},Y={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"},X={},G={butt:"flat",round:"round"},J=b.prototype;J.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},J.beginPath=function(){this.currentPath_=[]},J.moveTo=function(t,e){var i=C(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},J.lineTo=function(t,e){var i=C(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},J.bezierCurveTo=function(t,e,i,n,r,o){var a=C(this,r,o),s=C(this,t,e),l=C(this,i,n);w(this,s,l,a)},J.quadraticCurveTo=function(t,e,i,n){var r=C(this,t,e),o=C(this,i,n),a={x:this.currentX_+2/3*(r.x-this.currentX_),y:this.currentY_+2/3*(r.y-this.currentY_)},s={x:a.x+(o.x-this.currentX_)/3,y:a.y+(o.y-this.currentY_)/3};w(this,a,s,o)},J.arc=function(t,e,i,n,r,o){i*=O;var a=o?"at":"wa",s=t+j(n)*i-R,l=e+L(n)*i-R,c=t+j(r)*i-R,h=e+L(r)*i-R;s!=c||o||(s+=.125);var d=C(this,t,e),u=C(this,s,l),p=C(this,c,h);this.currentPath_.push({type:a,x:d.x,y:d.y,radius:i,xStart:u.x,yStart:u.y,xEnd:p.x,yEnd:p.y})},J.rect=function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},J.strokeRect=function(t,e,i,n){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.stroke(),this.currentPath_=r},J.fillRect=function(t,e,i,n){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.fill(),this.currentPath_=r},J.createLinearGradient=function(t,e,i,n){var r=new E("gradient");return r.x0_=t,r.y0_=e,r.x1_=i,r.y1_=n,r},J.createRadialGradient=function(t,e,i,n,r,o){var a=new E("gradientradial");return a.x0_=t,a.y0_=e,a.r0_=i,a.x1_=n,a.y1_=r,a.r1_=o,a},J.drawImage=function(t,e){var i,n,r,o,a,s,l,c,h=t.runtimeStyle.width,d=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var u=t.width,p=t.height;if(t.runtimeStyle.width=h,t.runtimeStyle.height=d,3==arguments.length)i=arguments[1],n=arguments[2],a=s=0,l=r=u,c=o=p;else if(5==arguments.length)i=arguments[1],n=arguments[2],r=arguments[3],o=arguments[4],a=s=0,l=u,c=p;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],s=arguments[2],l=arguments[3],c=arguments[4],i=arguments[5],n=arguments[6],r=arguments[7],o=arguments[8]}var f=C(this,i,n),v=[],g=10,m=10,y=b=1;if(v.push(" <g_vml_:group",' coordsize="',O*g,",",O*m,'"',' coordorigin="0,0"',' style="width:',g,"px;height:",m,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var _=[],y=this.scaleX_,b=this.scaleY_;_.push("M11=",this.m_[0][0]/y,",","M12=",this.m_[1][0]/b,",","M21=",this.m_[0][1]/y,",","M22=",this.m_[1][1]/b,",","Dx=",F(f.x/O),",","Dy=",F(f.y/O),"");var w=f,x=C(this,i+r,n),k=C(this,i,n+o),P=C(this,i+r,n+o);w.x=A.max(w.x,x.x,k.x,P.x),w.y=A.max(w.y,x.y,k.y,P.y),v.push("padding:0 ",F(w.x/O),"px ",F(w.y/O),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",_.join(""),", SizingMethod='clip');")}else v.push("top:",F(f.y/O),"px;left:",F(f.x/O),"px;");v.push(' ">'),(a||s)&&v.push('<div style="overflow: hidden; width:',Math.ceil((r+a*r/l)*y),"px;"," height:",Math.ceil((o+s*o/c)*b),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-a*r/l*y,",Dy=",-s*o/c*b,');">'),v.push('<div style="width:',Math.round(y*u*r/l),"px;"," height:",Math.round(b*p*o/c),"px;"," filter:"),this.globalAlpha<1&&v.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")"),v.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",t.src,',sizingMethod=scale)">'),(a||s)&&v.push("</div>"),v.push("</div></div>"),this.element_.insertAdjacentHTML("BeforeEnd",v.join(""))},J.stroke=function(t){var e=[],i=10,n=10;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',i,"px;height:",n,'px;"',' coordorigin="0,0"',' coordsize="',O*i,",",O*n,'"',' stroked="',!t,'"',' path="');for(var r={x:null,y:null},o={x:null,y:null},a=0;a<this.currentPath_.length;a++){var s,l=this.currentPath_[a];switch(l.type){case"moveTo":s=l,e.push(" m ",F(l.x),",",F(l.y));break;case"lineTo":e.push(" l ",F(l.x),",",F(l.y));break;case"close":e.push(" x "),l=null;break;case"bezierCurveTo":e.push(" c ",F(l.cp1x),",",F(l.cp1y),",",F(l.cp2x),",",F(l.cp2y),",",F(l.x),",",F(l.y));break;case"at":case"wa":e.push(" ",l.type," ",F(l.x-this.scaleX_*l.radius),",",F(l.y-this.scaleY_*l.radius)," ",F(l.x+this.scaleX_*l.radius),",",F(l.y+this.scaleY_*l.radius)," ",F(l.xStart),",",F(l.yStart)," ",F(l.xEnd),",",F(l.yEnd))}l&&((null==r.x||l.x<r.x)&&(r.x=l.x),(null==o.x||l.x>o.x)&&(o.x=l.x),(null==r.y||l.y<r.y)&&(r.y=l.y),(null==o.y||l.y>o.y)&&(o.y=l.y))}e.push(' ">'),t?k(this,e,r,o):x(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},J.fill=function(){this.stroke(!0)},J.closePath=function(){this.currentPath_.push({type:"close"})},J.save=function(){var t={};c(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=l(s(),this.m_)},J.restore=function(){this.aStack_.length&&(c(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},J.translate=function(t,e){var i=[[1,0,0],[0,1,0],[t,e,1]];T(this,l(i,this.m_),!1)},J.rotate=function(t){var e=j(t),i=L(t),n=[[e,i,0],[-i,e,0],[0,0,1]];T(this,l(n,this.m_),!1)},J.scale=function(t,e){var i=[[t,0,0],[0,e,0],[0,0,1]];T(this,l(i,this.m_),!0)},J.transform=function(t,e,i,n,r,o){var a=[[t,e,0],[i,n,0],[r,o,1]];T(this,l(a,this.m_),!0)},J.setTransform=function(t,e,i,n,r,o){var a=[[t,e,0],[i,n,0],[r,o,1]];T(this,a,!0)},J.drawText_=function(t,e,n,r,o){var a=this.m_,s=1e3,l=0,c=s,h={x:0,y:0},d=[],u=m(g(this.font),this.element_),p=y(u),f=this.element_.currentStyle,v=this.textAlign.toLowerCase();switch(v){case"left":case"center":case"right":break;case"end":v="ltr"==f.direction?"right":"left";break;case"start":v="rtl"==f.direction?"right":"left";break;default:v="left"}switch(this.textBaseline){case"hanging":case"top":h.y=u.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":h.y=-u.size/2.25}switch(v){case"right":l=s,c=.05;
break;case"center":l=c=s/2}var _=C(this,e+h.x,n+h.y);d.push('<g_vml_:line from="',-l,' 0" to="',c,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;">'),o?x(this,d):k(this,d,{x:-l,y:0},{x:c,y:u.size});var b=a[0][0].toFixed(3)+","+a[1][0].toFixed(3)+","+a[0][1].toFixed(3)+","+a[1][1].toFixed(3)+",0,0",w=F(_.x/O)+","+F(_.y/O);d.push('<g_vml_:skew on="t" matrix="',b,'" ',' offset="',w,'" origin="',l,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(t),'" style="v-text-align:',v,";font:",i(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",d.join(""))},J.fillText=function(t,e,i,n){this.drawText_(t,e,i,n,!1)},J.strokeText=function(t,e,i,n){this.drawText_(t,e,i,n,!0)},J.measureText=function(t){if(!this.textMeasureEl_){var e='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",e),this.textMeasureEl_=this.element_.lastChild}var i=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(n){}return this.textMeasureEl_.appendChild(i.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},J.clip=function(){},J.arcTo=function(){},J.createPattern=function(t,e){return new S(t,e)},E.prototype.addColorStop=function(t,e){e=v(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})};var K=$.prototype=new Error;K.INDEX_SIZE_ERR=1,K.DOMSTRING_SIZE_ERR=2,K.HIERARCHY_REQUEST_ERR=3,K.WRONG_DOCUMENT_ERR=4,K.INVALID_CHARACTER_ERR=5,K.NO_DATA_ALLOWED_ERR=6,K.NO_MODIFICATION_ALLOWED_ERR=7,K.NOT_FOUND_ERR=8,K.NOT_SUPPORTED_ERR=9,K.INUSE_ATTRIBUTE_ERR=10,K.INVALID_STATE_ERR=11,K.SYNTAX_ERR=12,K.INVALID_MODIFICATION_ERR=13,K.NAMESPACE_ERR=14,K.INVALID_ACCESS_ERR=15,K.VALIDATION_ERR=16,K.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=H,CanvasRenderingContext2D=b,CanvasGradient=E,CanvasPattern=S,DOMException=$}(),G_vmlCanvasManager}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){function e(t){return t&&1===t.nodeType&&"string"==typeof t.nodeName}function n(t){if("object"==typeof t&&null!==t){var i=t;if(t instanceof Array){i=[];for(var r=0,o=t.length;o>r;r++)i[r]=n(t[r])}else if(!y[_.call(t)]&&!e(t)){i={};for(var a in t)t.hasOwnProperty(a)&&(i[a]=n(t[a]))}return i}return t}function r(t,i,n,r){if(i.hasOwnProperty(n)){var a=t[n];"object"!=typeof a||y[_.call(a)]||e(a)?!r&&n in t||(t[n]=i[n]):o(t[n],i[n],r)}}function o(t,e,i){for(var n in e)r(t,e,n,i);return t}function a(){if(!p)if(i(99),window.G_vmlCanvasManager){var t=document.createElement("div");t.style.position="absolute",t.style.top="-1000px",document.body.appendChild(t),p=G_vmlCanvasManager.initElement(t).getContext("2d")}else p=document.createElement("canvas").getContext("2d");return p}function s(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}function l(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var r in n)t.prototype[r]=n[r];t.constructor=t}function c(t,e,i){if(t&&e)if(t.forEach&&t.forEach===v)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,r=t.length;r>n;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function h(t,e,i){if(t&&e){if(t.map&&t.map===g)return t.map(e,i);for(var n=[],r=0,o=t.length;o>r;r++)n.push(e.call(i,t[r],r,t));return n}}function d(t,e,i){if(t&&e){if(t.filter&&t.filter===m)return t.filter(e,i);for(var n=[],r=0,o=t.length;o>r;r++)e.call(i,t[r],r,t)&&n.push(t[r]);return n}}function u(t,e){return function(){t.apply(e,arguments)}}var p,f=Array.prototype,v=f.forEach,g=f.map,m=f.filter,y={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},_=Object.prototype.toString;return{inherits:l,clone:n,merge:o,getContext:a,indexOf:s,each:c,map:h,filter:d,bind:u}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){var e=i(102);return function(){if(0!==e.debugMode)if(1==e.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(e.debugMode>1)for(var t in arguments)console.log(arguments[t])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},elementClassName:"zr-element",catchBrushException:!1,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)};return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t=2311;return function(){return"zrender__"+t++}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){"use strict";function e(t,e){return function(i,n){return t.call(e,i,n)}}function n(t,e){return function(i,n,r){return t.call(e,i,n,r)}}function r(t){for(var i=f.length;i--;){var n=f[i];t["_"+n+"Handler"]=e(g[n],t)}}function o(t,e,i){if(this._draggingTarget&&this._draggingTarget.id==t.id||t.isSilent())return!1;var n=this._event;if(t.isCover(e,i)){t.hoverable&&this.storage.addHover(t);for(var r=t.parent;r;){if(r.clipShape&&!r.clipShape.isCover(this._mouseX,this._mouseY))return!1;r=r.parent}return this._lastHover!=t&&(this._processOutShape(n),this._processDragLeave(n),this._lastHover=t,this._processDragEnter(n)),this._processOverShape(n),this._processDragOver(n),this._hasfound=1,!0}return!1}var a=i(102),s=i(105),l=i(106),c=i(100),h=i(108),d=i(109),u=a.EVENT,p=i(107),f=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],v=function(t){if(window.G_vmlCanvasManager)return!0;t=t||window.event;var e=t.toElement||t.relatedTarget||t.srcElement||t.target;return e&&e.className.match(a.elementClassName)},g={resize:function(t){t=t||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(u.RESIZE,t)},click:function(t,e){if(v(t)||e){t=this._zrenderEventFixed(t);var i=this._lastHover;(i&&i.clickable||!i)&&this._clickThreshold<5&&this._dispatchAgency(i,u.CLICK,t),this._mousemoveHandler(t)}},dblclick:function(t,e){if(v(t)||e){t=t||window.event,t=this._zrenderEventFixed(t);var i=this._lastHover;(i&&i.clickable||!i)&&this._clickThreshold<5&&this._dispatchAgency(i,u.DBLCLICK,t),this._mousemoveHandler(t)}},mousewheel:function(t,e){if(v(t)||e){t=this._zrenderEventFixed(t);var i=t.wheelDelta||-t.detail,n=i>0?1.1:1/1.1,r=!1,o=this._mouseX,a=this._mouseY;this.painter.eachBuildinLayer(function(e){var i=e.position;if(e.zoomable){e.__zoom=e.__zoom||1;var s=e.__zoom;s*=n,s=Math.max(Math.min(e.maxZoom,s),e.minZoom),n=s/e.__zoom,e.__zoom=s,i[0]-=(o-i[0])*(n-1),i[1]-=(a-i[1])*(n-1),e.scale[0]*=n,e.scale[1]*=n,e.dirty=!0,r=!0,l.stop(t)}}),r&&this.painter.refresh(),this._dispatchAgency(this._lastHover,u.MOUSEWHEEL,t),this._mousemoveHandler(t)}},mousemove:function(t,e){if((v(t)||e)&&!this.painter.isLoading()){t=this._zrenderEventFixed(t),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=l.getX(t),this._mouseY=l.getY(t);var i=this._mouseX-this._lastX,n=this._mouseY-this._lastY;this._processDragStart(t),this._hasfound=0,this._event=t,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(t),this._processDragLeave(t)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var r="default";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,i,n),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget),this._clickThreshold++;else if(this._isMouseDown){var o=!1;this.painter.eachBuildinLayer(function(t){t.panable&&(r="move",t.position[0]+=i,t.position[1]+=n,o=!0,t.dirty=!0)}),o&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?r="move":this._hasfound&&this._lastHover.clickable&&(r="pointer"),this.root.style.cursor=r,this._dispatchAgency(this._lastHover,u.MOUSEMOVE,t),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()}},mouseout:function(t,e){if(v(t)||e){t=this._zrenderEventFixed(t);var i=t.toElement||t.relatedTarget;if(i!=this.root)for(;i&&9!=i.nodeType;){if(i==this.root)return void this._mousemoveHandler(t);i=i.parentNode}t.zrenderX=this._lastX,t.zrenderY=this._lastY,this.root.style.cursor="default",this._isMouseDown=0,this._processOutShape(t),this._processDrop(t),this._processDragEnd(t),this.painter.isLoading()||this.painter.refreshHover(),this.dispatch(u.GLOBALOUT,t)}},mousedown:function(t,e){if(v(t)||e){if(this._clickThreshold=0,2==this._lastDownButton)return this._lastDownButton=t.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date,t=this._zrenderEventFixed(t),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,u.MOUSEDOWN,t),this._lastDownButton=t.button}},mouseup:function(t,e){(v(t)||e)&&(t=this._zrenderEventFixed(t),this.root.style.cursor="default",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,u.MOUSEUP,t),this._processDrop(t),this._processDragEnd(t))},touchstart:function(t,e){(v(t)||e)&&(t=this._zrenderEventFixed(t,!0),this._lastTouchMoment=new Date,this._mobileFindFixed(t),this._mousedownHandler(t))},touchmove:function(t,e){(v(t)||e)&&(t=this._zrenderEventFixed(t,!0),this._mousemoveHandler(t),this._isDragging&&l.stop(t))},touchend:function(t,e){if(v(t)||e){t=this._zrenderEventFixed(t,!0),this._mouseupHandler(t);var i=new Date;i-this._lastTouchMoment<u.touchClickDelay&&(this._mobileFindFixed(t),this._clickHandler(t),i-this._lastClickMoment<u.touchClickDelay/2&&(this._dblclickHandler(t),this._lastHover&&this._lastHover.clickable&&l.stop(t)),this._lastClickMoment=i),this.painter.clearHover()}}},m=function(t,e,i){p.call(this),this.root=t,this.storage=e,this.painter=i,this._lastX=this._lastY=this._mouseX=this._mouseY=0,this._findHover=n(o,this),this._domHover=i.getDomHover(),r(this),window.addEventListener?(window.addEventListener("resize",this._resizeHandler),s.os.tablet||s.os.phone?(t.addEventListener("touchstart",this._touchstartHandler),t.addEventListener("touchmove",this._touchmoveHandler),t.addEventListener("touchend",this._touchendHandler)):(t.addEventListener("click",this._clickHandler),t.addEventListener("dblclick",this._dblclickHandler),t.addEventListener("mousewheel",this._mousewheelHandler),t.addEventListener("mousemove",this._mousemoveHandler),t.addEventListener("mousedown",this._mousedownHandler),t.addEventListener("mouseup",this._mouseupHandler)),t.addEventListener("DOMMouseScroll",this._mousewheelHandler),t.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),t.attachEvent("onclick",this._clickHandler),t.ondblclick=this._dblclickHandler,t.attachEvent("onmousewheel",this._mousewheelHandler),t.attachEvent("onmousemove",this._mousemoveHandler),t.attachEvent("onmouseout",this._mouseoutHandler),t.attachEvent("onmousedown",this._mousedownHandler),t.attachEvent("onmouseup",this._mouseupHandler))};m.prototype.on=function(t,e,i){return this.bind(t,e,i),this},m.prototype.un=function(t,e){return this.unbind(t,e),this},m.prototype.trigger=function(t,e){switch(t){case u.RESIZE:case u.CLICK:case u.DBLCLICK:case u.MOUSEWHEEL:case u.MOUSEMOVE:case u.MOUSEDOWN:case u.MOUSEUP:case u.MOUSEOUT:this["_"+t+"Handler"](e,!0)}},m.prototype.dispose=function(){var t=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),s.os.tablet||s.os.phone?(t.removeEventListener("touchstart",this._touchstartHandler),t.removeEventListener("touchmove",this._touchmoveHandler),t.removeEventListener("touchend",this._touchendHandler)):(t.removeEventListener("click",this._clickHandler),t.removeEventListener("dblclick",this._dblclickHandler),t.removeEventListener("mousewheel",this._mousewheelHandler),t.removeEventListener("mousemove",this._mousemoveHandler),t.removeEventListener("mousedown",this._mousedownHandler),t.removeEventListener("mouseup",this._mouseupHandler)),t.removeEventListener("DOMMouseScroll",this._mousewheelHandler),t.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),t.detachEvent("onclick",this._clickHandler),t.detachEvent("dblclick",this._dblclickHandler),t.detachEvent("onmousewheel",this._mousewheelHandler),t.detachEvent("onmousemove",this._mousemoveHandler),t.detachEvent("onmouseout",this._mouseoutHandler),t.detachEvent("onmousedown",this._mousedownHandler),t.detachEvent("onmouseup",this._mouseupHandler)),this.root=this._domHover=this.storage=this.painter=null,this.un()},m.prototype._processDragStart=function(t){var e=this._lastHover;if(this._isMouseDown&&e&&e.draggable&&!this._draggingTarget&&this._mouseDownTarget==e){if(e.dragEnableTime&&new Date-this._lastMouseDownMoment<e.dragEnableTime)return;var i=e;this._draggingTarget=i,this._isDragging=1,i.invisible=!0,this.storage.mod(i.id),this._dispatchAgency(i,u.DRAGSTART,t),this.painter.refresh()}},m.prototype._processDragEnter=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,u.DRAGENTER,t,this._draggingTarget)},m.prototype._processDragOver=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,u.DRAGOVER,t,this._draggingTarget)},m.prototype._processDragLeave=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,u.DRAGLEAVE,t,this._draggingTarget)},m.prototype._processDrop=function(t){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,u.DROP,t,this._draggingTarget))},m.prototype._processDragEnd=function(t){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,u.DRAGEND,t),this._lastHover=null),this._isDragging=0,this._draggingTarget=null},m.prototype._processOverShape=function(t){this._dispatchAgency(this._lastHover,u.MOUSEOVER,t)},m.prototype._processOutShape=function(t){this._dispatchAgency(this._lastHover,u.MOUSEOUT,t)},m.prototype._dispatchAgency=function(t,e,i,n){var r="on"+e,o={type:e,event:i,target:t,cancelBubble:!1},a=t;for(n&&(o.dragged=n);a&&(a[r]&&(o.cancelBubble=a[r](o)),a.dispatch(e,o),a=a.parent,!o.cancelBubble););if(t)o.cancelBubble||this.dispatch(e,o);else if(!n){var s={type:e,event:i};this.dispatch(e,s),this.painter.eachOtherLayer(function(t){"function"==typeof t[r]&&t[r](s),t.dispatch&&t.dispatch(e,s)})}},m.prototype._iterateAndFindHover=function(){var t=d.create();return function(){for(var e,i,n=this.storage.getShapeList(),r=[0,0],o=n.length-1;o>=0;o--){var a=n[o];if(e!==a.zlevel&&(i=this.painter.getLayer(a.zlevel,i),r[0]=this._mouseX,r[1]=this._mouseY,i.needTransform&&(d.invert(t,i.transform),h.applyTransform(r,r,t))),this._findHover(a,r[0],r[1]))break}}}();var y=[{x:10},{x:-20},{x:10,y:10},{y:-20}];return m.prototype._mobileFindFixed=function(t){this._lastHover=null,this._mouseX=t.zrenderX,this._mouseY=t.zrenderY,this._event=t,this._iterateAndFindHover();for(var e=0;!this._lastHover&&e<y.length;e++){var i=y[e];i.x&&(this._mouseX+=i.x),i.y&&(this._mouseY+=i.y),this._iterateAndFindHover()}this._lastHover&&(t.zrenderX=this._mouseX,t.zrenderY=this._mouseY)},m.prototype._zrenderEventFixed=function(t,e){if(t.zrenderFixed)return t;if(e){var i="touchend"!=t.type?t.targetTouches[0]:t.changedTouches[0];if(i){var n=this.painter._domRoot.getBoundingClientRect();t.zrenderX=i.clientX-n.left,t.zrenderY=i.clientY-n.top}}else{t=t||window.event;var r=t.toElement||t.relatedTarget||t.srcElement||t.target;r&&r!=this._domHover&&(t.zrenderX=("undefined"!=typeof t.offsetX?t.offsetX:t.layerX)+r.offsetLeft,t.zrenderY=("undefined"!=typeof t.offsetY?t.offsetY:t.layerY)+r.offsetTop)}return t.zrenderFixed=1,t},c.merge(m.prototype,p.prototype,!0),m}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){function t(t){var e=this.os={},i=this.browser={},n=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=t.match(/(Android);?[\s\/]+([\d.]+)?/),o=t.match(/(iPad).*OS\s([\d_]+)/),a=t.match(/(iPod)(.*OS\s([\d_]+))?/),s=!o&&t.match(/(iPhone\sOS)\s([\d_]+)/),l=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=l&&t.match(/TouchPad/),h=t.match(/Kindle\/([\d.]+)/),d=t.match(/Silk\/([\d._]+)/),u=t.match(/(BlackBerry).*Version\/([\d.]+)/),p=t.match(/(BB10).*Version\/([\d.]+)/),f=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),v=t.match(/PlayBook/),g=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),m=t.match(/Firefox\/([\d.]+)/),y=t.match(/MSIE ([\d.]+)/),_=n&&t.match(/Mobile\//)&&!g,b=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!g,y=t.match(/MSIE\s([\d.]+)/);return(i.webkit=!!n)&&(i.version=n[1]),r&&(e.android=!0,e.version=r[2]),s&&!a&&(e.ios=e.iphone=!0,e.version=s[2].replace(/_/g,".")),o&&(e.ios=e.ipad=!0,e.version=o[2].replace(/_/g,".")),a&&(e.ios=e.ipod=!0,e.version=a[3]?a[3].replace(/_/g,"."):null),l&&(e.webos=!0,e.version=l[2]),c&&(e.touchpad=!0),u&&(e.blackberry=!0,e.version=u[2]),p&&(e.bb10=!0,e.version=p[2]),f&&(e.rimtabletos=!0,e.version=f[2]),v&&(i.playbook=!0),h&&(e.kindle=!0,e.version=h[1]),d&&(i.silk=!0,i.version=d[1]),!d&&e.android&&t.match(/Kindle Fire/)&&(i.silk=!0),g&&(i.chrome=!0,i.version=g[1]),m&&(i.firefox=!0,i.version=m[1]),y&&(i.ie=!0,i.version=y[1]),_&&(t.match(/Safari/)||e.ios)&&(i.safari=!0),b&&(i.webview=!0),y&&(i.ie=!0,i.version=y[1]),e.tablet=!!(o||v||r&&!t.match(/Mobile/)||m&&t.match(/Tablet/)||y&&!t.match(/Phone/)&&t.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(r||s||l||u||p||g&&t.match(/Android/)||g&&t.match(/CriOS\/([\d.]+)/)||m&&t.match(/Mobile/)||y&&t.match(/Touch/))),{browser:i,os:e,canvasSupported:document.createElement("canvas").getContext?!0:!1}}return t(navigator.userAgent)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){"use strict";function e(t){return"undefined"!=typeof t.zrenderX&&t.zrenderX||"undefined"!=typeof t.offsetX&&t.offsetX||"undefined"!=typeof t.layerX&&t.layerX||"undefined"!=typeof t.clientX&&t.clientX}function n(t){return"undefined"!=typeof t.zrenderY&&t.zrenderY||"undefined"!=typeof t.offsetY&&t.offsetY||"undefined"!=typeof t.layerY&&t.layerY||"undefined"!=typeof t.clientY&&t.clientY}function r(t){return"undefined"!=typeof t.zrenderDelta&&t.zrenderDelta||"undefined"!=typeof t.wheelDelta&&t.wheelDelta||"undefined"!=typeof t.detail&&-t.detail}var o=i(107),a="function"==typeof window.addEventListener?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};return{getX:e,getY:n,getDelta:r,stop:a,Dispatcher:o}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){var e=function(){this._handlers={}};return e.prototype.one=function(t,e,i){var n=this._handlers;return e&&t?(n[t]||(n[t]=[]),n[t].push({h:e,one:!0,ctx:i||this}),this):this},e.prototype.bind=function(t,e,i){var n=this._handlers;return e&&t?(n[t]||(n[t]=[]),n[t].push({h:e,one:!1,ctx:i||this}),this):this},e.prototype.unbind=function(t,e){var i=this._handlers;if(!t)return this._handlers={},this;if(e){if(i[t]){for(var n=[],r=0,o=i[t].length;o>r;r++)i[t][r].h!=e&&n.push(i[t][r]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},e.prototype.dispatch=function(t){if(this._handlers[t]){var e=arguments,i=e.length;i>3&&(e=Array.prototype.slice.call(e,1));for(var n=this._handlers[t],r=n.length,o=0;r>o;){switch(i){case 1:n[o].h.call(n[o].ctx);break;case 2:n[o].h.call(n[o].ctx,e[1]);break;case 3:n[o].h.call(n[o].ctx,e[1],e[2]);break;default:n[o].h.apply(n[o].ctx,e)}n[o].one?(n.splice(o,1),r--):o++}}return this},e.prototype.dispatchWithContext=function(t){if(this._handlers[t]){var e=arguments,i=e.length;i>4&&(e=Array.prototype.slice.call(e,1,e.length-1));for(var n=e[e.length-1],r=this._handlers[t],o=r.length,a=0;o>a;){switch(i){case 1:r[a].h.call(n);break;case 2:r[a].h.call(n,e[1]);break;case 3:r[a].h.call(n,e[1],e[2]);break;default:r[a].h.apply(n,e)}r[a].one?(r.splice(a,1),o--):a++}}return this},e}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t="undefined"==typeof Float32Array?Array:Float32Array,e={create:function(e,i){var n=new t(2);return n[0]=e||0,n[1]=i||0,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(e){var i=new t(2);return i[0]=e[0],i[1]=e[1],i},set:function(t,e,i){return t[0]=e,t[1]=i,t},add:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},scaleAndAdd:function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},sub:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},normalize:function(t,i){var n=e.len(i);return 0===n?(t[0]=0,t[1]=0):(t[0]=i[0]/n,t[1]=i[1]/n),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},applyTransform:function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t},min:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},max:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}};return e.length=e.len,e.lengthSquare=e.lenSquare,e.dist=e.distance,e.distSquare=e.distanceSquare,e}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t="undefined"==typeof Float32Array?Array:Float32Array,e={create:function(){var i=new t(6);return e.identity(i),i},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,i){return t[0]=e[0]*i[0]+e[2]*i[1],t[1]=e[1]*i[0]+e[3]*i[1],t[2]=e[0]*i[2]+e[2]*i[3],t[3]=e[1]*i[2]+e[3]*i[3],t[4]=e[0]*i[4]+e[2]*i[5]+e[4],t[5]=e[1]*i[4]+e[3]*i[5]+e[5],t},translate:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},rotate:function(t,e,i){var n=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],c=Math.sin(i),h=Math.cos(i);return t[0]=n*h+a*c,t[1]=-n*c+a*h,t[2]=r*h+s*c,t[3]=-r*c+h*s,t[4]=h*o+c*l,t[5]=h*l-c*o,t},scale:function(t,e,i){var n=i[0],r=i[1];return t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r,t},invert:function(t,e){var i=e[0],n=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=i*a-o*n;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-a*r)*l,t[5]=(o*r-i*s)*l,t):null}};return e}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){"use strict";function e(){return!1}function n(){}function r(t){return t?t.isBuildin?!0:"function"!=typeof t.resize||"function"!=typeof t.refresh?!1:!0:!1}var o=i(102),a=i(100),s=i(101),l=i(111),c=i(119),h=function(t,i){this.root=t,t.style["-webkit-tap-highlight-color"]="transparent",t.style["-webkit-user-select"]="none",t.style["user-select"]="none",t.style["-webkit-touch-callout"]="none",this.storage=i,t.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var n=document.createElement("div");this._domRoot=n,n.style.position="relative",n.style.overflow="hidden",n.style.width=this._width+"px",n.style.height=this._height+"px",t.appendChild(n),this._layers={},this._zlevelList=[],this._layerConfig={},this._loadingEffect=new l({}),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=document.createElement("div"),this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join(""),this._bgDom.setAttribute("data-zr-dom-id","bg"),this._bgDom.className=o.elementClassName,n.appendChild(this._bgDom),this._bgDom.onselectstart=e;var r=new c("_zrender_hover_",this);this._layers.hover=r,n.appendChild(r.dom),r.initContext(),r.dom.onselectstart=e,r.dom.style["-webkit-user-select"]="none",r.dom.style["user-select"]="none",r.dom.style["-webkit-touch-callout"]="none",this.refreshNextFrame=null};return h.prototype.render=function(t){return this.isLoading()&&this.hideLoading(),this.refresh(t,!0),this},h.prototype.refresh=function(t,e){var i=this.storage.getShapeList(!0);this._paintList(i,e);for(var n=0;n<this._zlevelList.length;n++){var r=this._zlevelList[n],o=this._layers[r];!o.isBuildin&&o.refresh&&o.refresh()}return"function"==typeof t&&t(),this},h.prototype._preProcessLayer=function(t){t.unusedCount++,t.updateTransform()},h.prototype._postProcessLayer=function(t){t.dirty=!1,1==t.unusedCount&&t.clear()},h.prototype._paintList=function(t,e){"undefined"==typeof e&&(e=!1),this._updateLayerStatus(t);var i,n,r;this.eachBuildinLayer(this._preProcessLayer);for(var a=0,l=t.length;l>a;a++){var c=t[a];if(n!==c.zlevel&&(i&&(i.needTransform&&r.restore(),r.flush&&r.flush()),n=c.zlevel,i=this.getLayer(n),i.isBuildin||s("ZLevel "+n+" has been used by unkown layer "+i.id),r=i.ctx,i.unusedCount=0,(i.dirty||e)&&i.clear(),i.needTransform&&(r.save(),i.setTransform(r))),(i.dirty||e)&&!c.invisible&&(!c.onbrush||c.onbrush&&!c.onbrush(r,!1)))if(o.catchBrushException)try{c.brush(r,!1,this.refreshNextFrame)}catch(h){s(h,"brush error of "+c.type,c)}else c.brush(r,!1,this.refreshNextFrame);c.__dirty=!1}i&&(i.needTransform&&r.restore(),r.flush&&r.flush()),this.eachBuildinLayer(this._postProcessLayer)},h.prototype.getLayer=function(t){var e=this._layers[t];return e||(e=new c(t,this),e.isBuildin=!0,this._layerConfig[t]&&a.merge(e,this._layerConfig[t],!0),e.updateTransform(),this.insertLayer(t,e),e.initContext()),e},h.prototype.insertLayer=function(t,e){if(this._layers[t])return void s("ZLevel "+t+" has been used already");if(!r(e))return void s("Layer of zlevel "+t+" is not valid");var i=this._zlevelList.length,n=null,o=-1;if(i>0&&t>this._zlevelList[0]){for(o=0;i-1>o&&!(this._zlevelList[o]<t&&this._zlevelList[o+1]>t);o++);n=this._layers[this._zlevelList[o]]}this._zlevelList.splice(o+1,0,t);var a=n?n.dom:this._bgDom;a.nextSibling?a.parentNode.insertBefore(e.dom,a.nextSibling):a.parentNode.appendChild(e.dom),this._layers[t]=e},h.prototype.eachLayer=function(t,e){for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i];t.call(e,this._layers[n],n)}},h.prototype.eachBuildinLayer=function(t,e){for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i],r=this._layers[n];r.isBuildin&&t.call(e,r,n)}},h.prototype.eachOtherLayer=function(t,e){for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i],r=this._layers[n];r.isBuildin||t.call(e,r,n)}},h.prototype.getLayers=function(){return this._layers},h.prototype._updateLayerStatus=function(t){var e=this._layers,i={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0});for(var n=0,r=t.length;r>n;n++){var o=t[n],a=o.zlevel,s=e[a];if(s){if(s.elCount++,s.dirty)continue;s.dirty=o.__dirty}}this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.dirty=!0)})},h.prototype.refreshShapes=function(t,e){for(var i=0,n=t.length;n>i;i++){var r=t[i];r.modSelf()}return this.refresh(e),this},h.prototype.setLoadingEffect=function(t){return this._loadingEffect=t,this},h.prototype.clear=function(){return this.eachBuildinLayer(this._clearLayer),this},h.prototype._clearLayer=function(t){t.clear()},h.prototype.modLayer=function(t,e){if(e){this._layerConfig[t]?a.merge(this._layerConfig[t],e,!0):this._layerConfig[t]=e;var i=this._layers[t];i&&a.merge(i,this._layerConfig[t],!0)}},h.prototype.delLayer=function(t){var e=this._layers[t];e&&(this.modLayer(t,{position:e.position,rotation:e.rotation,scale:e.scale}),e.dom.parentNode.removeChild(e.dom),delete this._layers[t],this._zlevelList.splice(a.indexOf(this._zlevelList,t),1))},h.prototype.refreshHover=function(){this.clearHover();for(var t=this.storage.getHoverShapes(!0),e=0,i=t.length;i>e;e++)this._brushHover(t[e]);var n=this._layers.hover.ctx;return n.flush&&n.flush(),this.storage.delHover(),this},h.prototype.clearHover=function(){var t=this._layers.hover;return t&&t.clear(),this},h.prototype.showLoading=function(t){return this._loadingEffect&&this._loadingEffect.stop(),t&&this.setLoadingEffect(t),this._loadingEffect.start(this),this.loading=!0,this},h.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},h.prototype.isLoading=function(){return this.loading},h.prototype.resize=function(){var t=this._domRoot;t.style.display="none";var e=this._getWidth(),i=this._getHeight();if(t.style.display="",this._width!=e||i!=this._height){this._width=e,this._height=i,t.style.width=e+"px",t.style.height=i+"px";for(var n in this._layers)this._layers[n].resize(e,i);this.refresh(null,!0)}return this},h.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},h.prototype.dispose=function(){this.isLoading()&&this.hideLoading(),this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},h.prototype.getDomHover=function(){return this._layers.hover.dom},h.prototype.toDataURL=function(t,e,i){if(window.G_vmlCanvasManager)return null;var n=new c("image",this);this._bgDom.appendChild(n.dom),n.initContext();var r=n.ctx;n.clearColor=e||"#fff",n.clear();var a=this;this.storage.iterShape(function(t){if(!t.invisible&&(!t.onbrush||t.onbrush&&!t.onbrush(r,!1)))if(o.catchBrushException)try{t.brush(r,!1,a.refreshNextFrame)}catch(e){s(e,"brush error of "+t.type,t)}else t.brush(r,!1,a.refreshNextFrame)},{normal:"up",update:!0});var l=n.dom.toDataURL(t,i);return r=null,this._bgDom.removeChild(n.dom),l},h.prototype.getWidth=function(){return this._width},h.prototype.getHeight=function(){return this._height},h.prototype._getWidth=function(){var t=this.root,e=t.currentStyle||document.defaultView.getComputedStyle(t);return((t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10)).toFixed(0)-0},h.prototype._getHeight=function(){var t=this.root,e=t.currentStyle||document.defaultView.getComputedStyle(t);return((t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)).toFixed(0)-0},h.prototype._brushHover=function(t){var e=this._layers.hover.ctx;if(!t.onbrush||t.onbrush&&!t.onbrush(e,!0)){var i=this.getLayer(t.zlevel);if(i.needTransform&&(e.save(),i.setTransform(e)),o.catchBrushException)try{t.brush(e,!0,this.refreshNextFrame)}catch(n){s(n,"hoverBrush error of "+t.type,t)}else t.brush(e,!0,this.refreshNextFrame);i.needTransform&&e.restore()}},h.prototype._shapeToImage=function(t,e,n,r,o){var a=document.createElement("canvas"),s=a.getContext("2d");a.style.width=n+"px",a.style.height=r+"px",a.setAttribute("width",n*o),a.setAttribute("height",r*o),s.clearRect(0,0,n*o,r*o);var l={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(s,!1);var c=i(120),h=new c({id:t,style:{x:0,y:0,image:a}});return null!=l.position&&(h.position=e.position=l.position),null!=l.rotation&&(h.rotation=e.rotation=l.rotation),null!=l.scale&&(h.scale=e.scale=l.scale),h},h.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager)return n;var t=this;return function(e,i,n,r){return t._shapeToImage(e,i,n,r,o.devicePixelRatio)}},h}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){function e(t){this.setOptions(t)}var n=i(100),r=i(112),o=i(118),a="Loading...",s="normal 16px Arial";return e.prototype.createTextShape=function(t){return new r({highlightStyle:n.merge({x:this.canvasWidth/2,
y:this.canvasHeight/2,text:a,textAlign:"center",textBaseline:"middle",textFont:s,color:"#333",brushType:"fill"},t,!0)})},e.prototype.createBackgroundShape=function(t){return new o({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:t}})},e.prototype.start=function(t){function e(e){t.storage.addHover(e)}function i(){t.refreshHover()}this.canvasWidth=t._width,this.canvasHeight=t._height,this.loadingTimer=this._start(e,i)},e.prototype._start=function(){return setInterval(function(){},1e4)},e.prototype.stop=function(){clearInterval(this.loadingTimer)},e.prototype.setOptions=function(t){this.options=t||{}},e.prototype.adjust=function(t,e){return t<=e[0]?t=e[0]:t>=e[1]&&(t=e[1]),t},e.prototype.getLocation=function(t,e,i){var n=null!=t.x?t.x:"center";switch(n){case"center":n=Math.floor((this.canvasWidth-e)/2);break;case"left":n=0;break;case"right":n=this.canvasWidth-e}var r=null!=t.y?t.y:"center";switch(r){case"center":r=Math.floor((this.canvasHeight-i)/2);break;case"top":r=0;break;case"bottom":r=this.canvasHeight-i}return{x:n,y:r,width:e,height:i}},e}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){var e=i(113),n=i(115),r=function(t){n.call(this,t)};return r.prototype={type:"text",brush:function(t,i){var n=this.style;if(i&&(n=this.getHighlightStyle(n,this.highlightStyle||{})),"undefined"!=typeof n.text&&n.text!==!1){t.save(),this.doClip(t),this.setContext(t,n),this.setTransform(t),n.textFont&&(t.font=n.textFont),t.textAlign=n.textAlign||"start",t.textBaseline=n.textBaseline||"middle";var r,o=(n.text+"").split("\n"),a=e.getTextHeight("国",n.textFont),s=this.getRect(n),l=n.x;r="top"==n.textBaseline?s.y:"bottom"==n.textBaseline?s.y+a:s.y+a/2;for(var c=0,h=o.length;h>c;c++){if(n.maxWidth)switch(n.brushType){case"fill":t.fillText(o[c],l,r,n.maxWidth);break;case"stroke":t.strokeText(o[c],l,r,n.maxWidth);break;case"both":t.fillText(o[c],l,r,n.maxWidth),t.strokeText(o[c],l,r,n.maxWidth);break;default:t.fillText(o[c],l,r,n.maxWidth)}else switch(n.brushType){case"fill":t.fillText(o[c],l,r);break;case"stroke":t.strokeText(o[c],l,r);break;case"both":t.fillText(o[c],l,r),t.strokeText(o[c],l,r);break;default:t.fillText(o[c],l,r)}r+=a}t.restore()}},getRect:function(t){if(t.__rect)return t.__rect;var i=e.getTextWidth(t.text,t.textFont),n=e.getTextHeight(t.text,t.textFont),r=t.x;"end"==t.textAlign||"right"==t.textAlign?r-=i:"center"==t.textAlign&&(r-=i/2);var o;return o="top"==t.textBaseline?t.y:"bottom"==t.textBaseline?t.y-n:t.y-n/2,t.__rect={x:r,y:o,width:i,height:n},t.__rect}},i(100).inherits(r,n),r}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){"use strict";function e(t){return t%=F,0>t&&(t+=F),t}function n(t,e,i,n){if(!e||!t)return!1;var a=t.type;P=P||T.getContext();var s=r(t,e,i,n);if("undefined"!=typeof s)return s;if(t.buildPath&&P.isPointInPath)return o(t,P,e,i,n);switch(a){case"ellipse":return!0;case"trochoid":var l="out"==e.location?e.r1+e.r2+e.d:e.r1-e.r2+e.d;return f(e,i,n,l);case"rose":return f(e,i,n,e.maxr);default:return!1}}function r(t,e,i,n){var r=t.type;switch(r){case"bezier-curve":return"undefined"==typeof e.cpX2?c(e.xStart,e.yStart,e.cpX1,e.cpY1,e.xEnd,e.yEnd,e.lineWidth,i,n):l(e.xStart,e.yStart,e.cpX1,e.cpY1,e.cpX2,e.cpY2,e.xEnd,e.yEnd,e.lineWidth,i,n);case"line":return s(e.xStart,e.yStart,e.xEnd,e.yEnd,e.lineWidth,i,n);case"polyline":return d(e.pointList,e.lineWidth,i,n);case"ring":return u(e.x,e.y,e.r0,e.r,i,n);case"circle":return f(e.x,e.y,e.r,i,n);case"sector":var o=e.startAngle*Math.PI/180,a=e.endAngle*Math.PI/180;return e.clockWise||(o=-o,a=-a),v(e.x,e.y,e.r0,e.r,o,a,!e.clockWise,i,n);case"path":return e.pathArray&&x(e.pathArray,Math.max(e.lineWidth,5),e.brushType,i,n);case"polygon":case"star":case"isogon":return g(e.pointList,i,n);case"text":var h=e.__rect||t.getRect(e);return p(h.x,h.y,h.width,h.height,i,n);case"rectangle":case"image":return p(e.x,e.y,e.width,e.height,i,n)}}function o(t,e,i,n,r){return e.beginPath(),t.buildPath(e,i),e.closePath(),e.isPointInPath(n,r)}function a(t,e,i,r){return!n(t,e,i,r)}function s(t,e,i,n,r,o,a){if(0===r)return!1;var s=Math.max(r,5),l=0,c=t;if(a>e+s&&a>n+s||e-s>a&&n-s>a||o>t+s&&o>i+s||t-s>o&&i-s>o)return!1;if(t===i)return Math.abs(o-t)<=s/2;l=(e-n)/(t-i),c=(t*n-i*e)/(t-i);var h=l*o-a+c,d=h*h/(l*l+1);return s/2*s/2>=d}function l(t,e,i,n,r,o,a,s,l,c,h){if(0===l)return!1;var d=Math.max(l,5);if(h>e+d&&h>n+d&&h>o+d&&h>s+d||e-d>h&&n-d>h&&o-d>h&&s-d>h||c>t+d&&c>i+d&&c>r+d&&c>a+d||t-d>c&&i-d>c&&r-d>c&&a-d>c)return!1;var u=E.cubicProjectPoint(t,e,i,n,r,o,a,s,c,h,null);return d/2>=u}function c(t,e,i,n,r,o,a,s,l){if(0===a)return!1;var c=Math.max(a,5);if(l>e+c&&l>n+c&&l>o+c||e-c>l&&n-c>l&&o-c>l||s>t+c&&s>i+c&&s>r+c||t-c>s&&i-c>s&&r-c>s)return!1;var h=E.quadraticProjectPoint(t,e,i,n,r,o,s,l,null);return c/2>=h}function h(t,i,n,r,o,a,s,l,c){if(0===s)return!1;var h=Math.max(s,5);l-=t,c-=i;var d=Math.sqrt(l*l+c*c);if(d-h>n||n>d+h)return!1;if(Math.abs(r-o)>=F)return!0;if(a){var u=r;r=e(o),o=e(u)}else r=e(r),o=e(o);r>o&&(o+=F);var p=Math.atan2(c,l);return 0>p&&(p+=F),p>=r&&o>=p||p+F>=r&&o>=p+F}function d(t,e,i,n){for(var e=Math.max(e,10),r=0,o=t.length-1;o>r;r++){var a=t[r][0],l=t[r][1],c=t[r+1][0],h=t[r+1][1];if(s(a,l,c,h,e,i,n))return!0}return!1}function u(t,e,i,n,r,o){var a=(r-t)*(r-t)+(o-e)*(o-e);return n*n>a&&a>i*i}function p(t,e,i,n,r,o){return r>=t&&t+i>=r&&o>=e&&e+n>=o}function f(t,e,i,n,r){return i*i>(n-t)*(n-t)+(r-e)*(r-e)}function v(t,e,i,n,r,o,a,s,l){return h(t,e,(i+n)/2,r,o,a,n-i,s,l)}function g(t,e,i){for(var n=t.length,r=0,o=0,a=n-1;n>o;o++){var s=t[a][0],l=t[a][1],c=t[o][0],h=t[o][1];r+=m(s,l,c,h,e,i),a=o}return 0!==r}function m(t,e,i,n,r,o){if(o>e&&o>n||e>o&&n>o)return 0;if(n==e)return 0;var a=e>n?1:-1,s=(o-e)/(n-e),l=s*(i-t)+t;return l>r?a:0}function y(){var t=j[0];j[0]=j[1],j[1]=t}function _(t,e,i,n,r,o,a,s,l,c){if(c>e&&c>n&&c>o&&c>s||e>c&&n>c&&o>c&&s>c)return 0;var h=E.cubicRootAt(e,n,o,s,c,L);if(0===h)return 0;for(var d,u,p=0,f=-1,v=0;h>v;v++){var g=L[v],m=E.cubicAt(t,i,r,a,g);l>m||(0>f&&(f=E.cubicExtrema(e,n,o,s,j),j[1]<j[0]&&f>1&&y(),d=E.cubicAt(e,n,o,s,j[0]),f>1&&(u=E.cubicAt(e,n,o,s,j[1]))),p+=2==f?g<j[0]?e>d?1:-1:g<j[1]?d>u?1:-1:u>s?1:-1:g<j[0]?e>d?1:-1:d>s?1:-1)}return p}function b(t,e,i,n,r,o,a,s){if(s>e&&s>n&&s>o||e>s&&n>s&&o>s)return 0;var l=E.quadraticRootAt(e,n,o,s,L);if(0===l)return 0;var c=E.quadraticExtremum(e,n,o);if(c>=0&&1>=c){for(var h=0,d=E.quadraticAt(e,n,o,c),u=0;l>u;u++){var p=E.quadraticAt(t,i,r,L[u]);a>p||(h+=L[u]<c?e>d?1:-1:d>o?1:-1)}return h}var p=E.quadraticAt(t,i,r,L[0]);return a>p?0:e>o?1:-1}function w(t,i,n,r,o,a,s,l){if(l-=i,l>n||-n>l)return 0;var c=Math.sqrt(n*n-l*l);if(L[0]=-c,L[1]=c,Math.abs(r-o)>=F){r=0,o=F;var h=a?1:-1;return s>=L[0]+t&&s<=L[1]+t?h:0}if(a){var c=r;r=e(o),o=e(c)}else r=e(r),o=e(o);r>o&&(o+=F);for(var d=0,u=0;2>u;u++){var p=L[u];if(p+t>s){var f=Math.atan2(l,p),h=a?1:-1;0>f&&(f=F+f),(f>=r&&o>=f||f+F>=r&&o>=f+F)&&(f>Math.PI/2&&f<1.5*Math.PI&&(h=-h),d+=h)}}return d}function x(t,e,i,n,r){var o=0,a=0,d=0,u=0,p=0,f=!0,v=!0;i=i||"fill";for(var g="stroke"===i||"both"===i,y="fill"===i||"both"===i,x=0;x<t.length;x++){var k=t[x],C=k.points;if(f||"M"===k.command){if(x>0&&(y&&(o+=m(a,d,u,p,n,r)),0!==o))return!0;u=C[C.length-2],p=C[C.length-1],f=!1,v&&"A"!==k.command&&(v=!1,a=u,d=p)}switch(k.command){case"M":a=C[0],d=C[1];break;case"L":if(g&&s(a,d,C[0],C[1],e,n,r))return!0;y&&(o+=m(a,d,C[0],C[1],n,r)),a=C[0],d=C[1];break;case"C":if(g&&l(a,d,C[0],C[1],C[2],C[3],C[4],C[5],e,n,r))return!0;y&&(o+=_(a,d,C[0],C[1],C[2],C[3],C[4],C[5],n,r)),a=C[4],d=C[5];break;case"Q":if(g&&c(a,d,C[0],C[1],C[2],C[3],e,n,r))return!0;y&&(o+=b(a,d,C[0],C[1],C[2],C[3],n,r)),a=C[2],d=C[3];break;case"A":var P=C[0],T=C[1],E=C[2],S=C[3],D=C[4],I=C[5],$=Math.cos(D)*E+P,A=Math.sin(D)*S+T;v?(v=!1,u=$,p=A):o+=m(a,d,$,A);var F=(n-P)*S/E+P;if(g&&h(P,T,S,D,D+I,1-C[7],e,F,r))return!0;y&&(o+=w(P,T,S,D,D+I,1-C[7],F,r)),a=Math.cos(D+I)*E+P,d=Math.sin(D+I)*S+T;break;case"z":if(g&&s(a,d,u,p,e,n,r))return!0;f=!0}}return y&&(o+=m(a,d,u,p,n,r)),0!==o}function k(t,e){var i=t+":"+e;if(S[i])return S[i];P=P||T.getContext(),P.save(),e&&(P.font=e),t=(t+"").split("\n");for(var n=0,r=0,o=t.length;o>r;r++)n=Math.max(P.measureText(t[r]).width,n);return P.restore(),S[i]=n,++I>A&&(I=0,S={}),n}function C(t,e){var i=t+":"+e;if(D[i])return D[i];P=P||T.getContext(),P.save(),e&&(P.font=e),t=(t+"").split("\n");var n=(P.measureText("国").width+2)*t.length;return P.restore(),D[i]=n,++$>A&&($=0,D={}),n}var P,T=i(100),E=i(114),S={},D={},I=0,$=0,A=5e3,F=2*Math.PI,L=[-1,-1,-1],j=[-1,-1];return{isInside:n,isOutside:a,getTextWidth:k,getTextHeight:C,isInsidePath:x,isInsidePolygon:g,isInsideSector:v,isInsideCircle:f,isInsideLine:s,isInsideRect:p,isInsidePolyline:d,isInsideCubicStroke:l,isInsideQuadraticStroke:c}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){function e(t){return t>-m&&m>t}function n(t){return t>m||-m>t}function r(t,e,i,n,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*n+3*o*i)}function o(t,e,i,n,r){var o=1-r;return 3*(((e-t)*o+2*(i-e)*r)*o+(n-i)*r*r)}function a(t,i,n,r,o,a){var s=r+3*(i-n)-t,l=3*(n-2*i+t),c=3*(i-t),h=t-o,d=l*l-3*s*c,u=l*c-9*s*h,p=c*c-3*l*h,f=0;if(e(d)&&e(u))if(e(l))a[0]=0;else{var v=-c/l;v>=0&&1>=v&&(a[f++]=v)}else{var g=u*u-4*d*p;if(e(g)){var m=u/d,v=-l/s+m,b=-m/2;v>=0&&1>=v&&(a[f++]=v),b>=0&&1>=b&&(a[f++]=b)}else if(g>0){var w=Math.sqrt(g),x=d*l+1.5*s*(-u+w),k=d*l+1.5*s*(-u-w);x=0>x?-Math.pow(-x,_):Math.pow(x,_),k=0>k?-Math.pow(-k,_):Math.pow(k,_);var v=(-l-(x+k))/(3*s);v>=0&&1>=v&&(a[f++]=v)}else{var C=(2*d*l-3*s*u)/(2*Math.sqrt(d*d*d)),P=Math.acos(C)/3,T=Math.sqrt(d),E=Math.cos(P),v=(-l-2*T*E)/(3*s),b=(-l+T*(E+y*Math.sin(P)))/(3*s),S=(-l+T*(E-y*Math.sin(P)))/(3*s);v>=0&&1>=v&&(a[f++]=v),b>=0&&1>=b&&(a[f++]=b),S>=0&&1>=S&&(a[f++]=S)}}return f}function s(t,i,r,o,a){var s=6*r-12*i+6*t,l=9*i+3*o-3*t-9*r,c=3*i-3*t,h=0;if(e(l)){if(n(s)){var d=-c/s;d>=0&&1>=d&&(a[h++]=d)}}else{var u=s*s-4*l*c;if(e(u))a[0]=-s/(2*l);else if(u>0){var p=Math.sqrt(u),d=(-s+p)/(2*l),f=(-s-p)/(2*l);d>=0&&1>=d&&(a[h++]=d),f>=0&&1>=f&&(a[h++]=f)}}return h}function l(t,e,i,n,r,o){var a=(e-t)*r+t,s=(i-e)*r+e,l=(n-i)*r+i,c=(s-a)*r+a,h=(l-s)*r+s,d=(h-c)*r+c;o[0]=t,o[1]=a,o[2]=c,o[3]=d,o[4]=d,o[5]=h,o[6]=l,o[7]=n}function c(t,e,i,n,o,a,s,l,c,h,d){var u,p=.005,f=1/0;b[0]=c,b[1]=h;for(var v=0;1>v;v+=.05){w[0]=r(t,i,o,s,v),w[1]=r(e,n,a,l,v);var y=g.distSquare(b,w);f>y&&(u=v,f=y)}f=1/0;for(var _=0;32>_&&!(m>p);_++){var k=u-p,C=u+p;w[0]=r(t,i,o,s,k),w[1]=r(e,n,a,l,k);var y=g.distSquare(w,b);if(k>=0&&f>y)u=k,f=y;else{x[0]=r(t,i,o,s,C),x[1]=r(e,n,a,l,C);var P=g.distSquare(x,b);1>=C&&f>P?(u=C,f=P):p*=.5}}return d&&(d[0]=r(t,i,o,s,u),d[1]=r(e,n,a,l,u)),Math.sqrt(f)}function h(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function d(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function u(t,i,r,o,a){var s=t-2*i+r,l=2*(i-t),c=t-o,h=0;if(e(s)){if(n(l)){var d=-c/l;d>=0&&1>=d&&(a[h++]=d)}}else{var u=l*l-4*s*c;if(e(u)){var d=-l/(2*s);d>=0&&1>=d&&(a[h++]=d)}else if(u>0){var p=Math.sqrt(u),d=(-l+p)/(2*s),f=(-l-p)/(2*s);d>=0&&1>=d&&(a[h++]=d),f>=0&&1>=f&&(a[h++]=f)}}return h}function p(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function f(t,e,i,n,r){var o=(e-t)*n+t,a=(i-e)*n+e,s=(a-o)*n+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=i}function v(t,e,i,n,r,o,a,s,l){var c,d=.005,u=1/0;b[0]=a,b[1]=s;for(var p=0;1>p;p+=.05){w[0]=h(t,i,r,p),w[1]=h(e,n,o,p);var f=g.distSquare(b,w);u>f&&(c=p,u=f)}u=1/0;for(var v=0;32>v&&!(m>d);v++){var y=c-d,_=c+d;w[0]=h(t,i,r,y),w[1]=h(e,n,o,y);var f=g.distSquare(w,b);if(y>=0&&u>f)c=y,u=f;else{x[0]=h(t,i,r,_),x[1]=h(e,n,o,_);var k=g.distSquare(x,b);1>=_&&u>k?(c=_,u=k):d*=.5}}return l&&(l[0]=h(t,i,r,c),l[1]=h(e,n,o,c)),Math.sqrt(u)}var g=i(108),m=1e-4,y=Math.sqrt(3),_=1/3,b=g.create(),w=g.create(),x=g.create();return{cubicAt:r,cubicDerivativeAt:o,cubicRootAt:a,cubicExtrema:s,cubicSubdivide:l,cubicProjectPoint:c,quadraticAt:h,quadraticDerivativeAt:d,quadraticRootAt:u,quadraticExtremum:p,quadraticSubdivide:f,quadraticProjectPoint:v}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){function e(t,e,r,o,a,s,l){a&&(t.font=a),t.textAlign=s,t.textBaseline=l;var c=n(e,r,o,a,s,l);e=(e+"").split("\n");var h=i(113).getTextHeight("国",a);switch(l){case"top":o=c.y;break;case"bottom":o=c.y+h;break;default:o=c.y+h/2}for(var d=0,u=e.length;u>d;d++)t.fillText(e[d],r,o),o+=h}function n(t,e,n,r,o,a){var s=i(113),l=s.getTextWidth(t,r),c=s.getTextHeight("国",r);switch(t=(t+"").split("\n"),o){case"end":case"right":e-=l;break;case"center":e-=l/2}switch(a){case"top":break;case"bottom":n-=c*t.length;break;default:n-=c*t.length/2}return{x:e,y:n,width:l,height:c*t.length}}var r=window.G_vmlCanvasManager,o=i(109),a=i(103),s=i(100),l=i(101),c=i(116),h=i(107),d=function(t){t=t||{},this.id=t.id||a();for(var e in t)this[e]=t[e];this.style=this.style||{},this.highlightStyle=this.highlightStyle||null,this.parent=null,this.__dirty=!0,this.__clipShapes=[],c.call(this),h.call(this)};d.prototype.invisible=!1,d.prototype.ignore=!1,d.prototype.zlevel=0,d.prototype.draggable=!1,d.prototype.clickable=!1,d.prototype.hoverable=!0,d.prototype.z=0,d.prototype.brush=function(t,e){var i=this.beforeBrush(t,e);switch(t.beginPath(),this.buildPath(t,i),i.brushType){case"both":t.fill();case"stroke":i.lineWidth>0&&t.stroke();break;default:t.fill()}this.drawText(t,i,this.style),this.afterBrush(t)},d.prototype.beforeBrush=function(t,e){var i=this.style;return this.brushTypeOnly&&(i.brushType=this.brushTypeOnly),e&&(i=this.getHighlightStyle(i,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(i.strokeColor=i.strokeColor||i.color),t.save(),this.doClip(t),this.setContext(t,i),this.setTransform(t),i},d.prototype.afterBrush=function(t){t.restore()};var u=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];d.prototype.setContext=function(t,e){for(var i=0,n=u.length;n>i;i++){var r=u[i][0],o=e[r],a=u[i][1];"undefined"!=typeof o&&(t[a]=o)}};var p=o.create();return d.prototype.doClip=function(t){if(this.__clipShapes&&!r)for(var e=0;e<this.__clipShapes.length;e++){var i=this.__clipShapes[e];if(i.needTransform){var n=i.transform;o.invert(p,n),t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}if(t.beginPath(),i.buildPath(t,i.style),t.clip(),i.needTransform){var n=p;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}}},d.prototype.getHighlightStyle=function(t,e,n){var r={};for(var o in t)r[o]=t[o];var a=i(117),s=a.getHighlightColor();"stroke"!=t.brushType?(r.strokeColor=s,r.lineWidth=(t.lineWidth||1)+this.getHighlightZoom(),r.brushType="both"):"stroke"!=n?(r.strokeColor=s,r.lineWidth=(t.lineWidth||1)+this.getHighlightZoom()):r.strokeColor=e.strokeColor||a.mix(t.strokeColor,a.toRGB(s));for(var o in e)"undefined"!=typeof e[o]&&(r[o]=e[o]);return r},d.prototype.getHighlightZoom=function(){return"text"!=this.type?6:2},d.prototype.drift=function(t,e){this.position[0]+=t,this.position[1]+=e},d.prototype.buildPath=function(t,e){l("buildPath not implemented in "+this.type)},d.prototype.getRect=function(t){l("getRect not implemented in "+this.type)},d.prototype.isCover=function(t,e){var n=this.transformCoordToLocal(t,e);return t=n[0],e=n[1],this.isCoverRect(t,e)?i(113).isInside(this,this.style,t,e):!1},d.prototype.isCoverRect=function(t,e){var i=this.style.__rect;return i||(i=this.style.__rect=this.getRect(this.style)),t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},d.prototype.drawText=function(t,i,n){if("undefined"!=typeof i.text&&i.text!==!1){var r=i.textColor||i.color||i.strokeColor;t.fillStyle=r;var o,a,s,l,c=10,h=i.textPosition||this.textPosition||"top";switch(h){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var d=(n||i).__rect||this.getRect(n||i);switch(h){case"inside":s=d.x+d.width/2,l=d.y+d.height/2,o="center",a="middle","stroke"!=i.brushType&&r==i.color&&(t.fillStyle="#fff");break;case"left":s=d.x-c,l=d.y+d.height/2,o="end",a="middle";break;case"right":s=d.x+d.width+c,l=d.y+d.height/2,o="start",a="middle";break;case"top":s=d.x+d.width/2,l=d.y-c,o="center",a="bottom";break;case"bottom":s=d.x+d.width/2,l=d.y+d.height+c,o="center",a="top"}}break;case"start":case"end":var u=i.pointList||[[i.xStart||0,i.yStart||0],[i.xEnd||0,i.yEnd||0]],p=u.length;if(2>p)return;var f,v,g,m;switch(h){case"start":f=u[1][0],v=u[0][0],g=u[1][1],m=u[0][1];break;case"end":f=u[p-2][0],v=u[p-1][0],g=u[p-2][1],m=u[p-1][1]}s=v,l=m;var y=Math.atan((g-m)/(v-f))/Math.PI*180;0>v-f?y+=180:0>g-m&&(y+=360),c=5,y>=30&&150>=y?(o="center",a="bottom",l-=c):y>150&&210>y?(o="right",a="middle",s-=c):y>=210&&330>=y?(o="center",a="top",l+=c):(o="left",a="middle",s+=c);break;case"specific":s=i.textX||0,l=i.textY||0,o="start",a="middle"}null!=s&&null!=l&&e(t,i.text,s,l,i.textFont,i.textAlign||o,i.textBaseline||a)}},d.prototype.modSelf=function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)},d.prototype.isSilent=function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},s.merge(d.prototype,c.prototype,!0),s.merge(d.prototype,h.prototype,!0),d}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){"use strict";function e(t){return t>-l&&l>t}function n(t){return t>l||-l>t}var r=i(109),o=i(108),a=[0,0],s=r.translate,l=5e-5,c=function(){this.position||(this.position=[0,0]),"undefined"==typeof this.rotation&&(this.rotation=[0,0,0]),this.scale||(this.scale=[1,1,0,0]),this.needLocalTransform=!1,this.needTransform=!1};return c.prototype={constructor:c,updateNeedTransform:function(){this.needLocalTransform=n(this.rotation[0])||n(this.position[0])||n(this.position[1])||n(this.scale[0]-1)||n(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var t=this.parent&&this.parent.needTransform;if(this.needTransform=this.needLocalTransform||t,this.needTransform){var e=this.transform||r.create();if(r.identity(e),this.needLocalTransform){var i=this.scale;if(n(i[0])||n(i[1])){a[0]=-i[2]||0,a[1]=-i[3]||0;var o=n(a[0])||n(a[1]);o&&s(e,e,a),r.scale(e,e,i),o&&(a[0]=-a[0],a[1]=-a[1],s(e,e,a))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){a[0]=-this.rotation[1]||0,a[1]=-this.rotation[2]||0;var o=n(a[0])||n(a[1]);o&&s(e,e,a),r.rotate(e,e,this.rotation[0]),o&&(a[0]=-a[0],a[1]=-a[1],s(e,e,a))}}else 0!==this.rotation&&r.rotate(e,e,this.rotation);(n(this.position[0])||n(this.position[1]))&&s(e,e,this.position)}t&&(this.needLocalTransform?r.mul(e,this.parent.transform,e):r.copy(e,this.parent.transform)),this.transform=e,this.invTransform=this.invTransform||r.create(),r.invert(this.invTransform,e)}},setTransform:function(t){if(this.needTransform){var e=this.transform;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},lookAt:function(){var t=o.create();return function(i){this.transform||(this.transform=r.create());var n=this.transform;if(o.sub(t,i,this.position),!e(t[0])||!e(t[1])){o.normalize(t,t);var a=this.scale;n[2]=t[0]*a[1],n[3]=t[1]*a[1],n[0]=t[1]*a[0],n[1]=-t[0]*a[0],n[4]=this.position[0],n[5]=this.position[1],this.decomposeTransform()}}}(),decomposeTransform:function(){if(this.transform){var t=this.transform,e=t[0]*t[0]+t[1]*t[1],i=this.position,r=this.scale,o=this.rotation;n(e-1)&&(e=Math.sqrt(e));var a=t[2]*t[2]+t[3]*t[3];n(a-1)&&(a=Math.sqrt(a)),i[0]=t[4],i[1]=t[5],r[0]=e,r[1]=a,r[2]=r[3]=0,o[0]=Math.atan2(-t[1]/a,t[0]/e),o[1]=o[2]=0}},transformCoordToLocal:function(t,e){var i=[t,e];return this.needTransform&&this.invTransform&&o.applyTransform(i,i,this.invTransform),i}},c}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){function e(t){W=t}function n(){W=q}function r(t,e){return t=0|t,e=e||W,e[t%e.length]}function o(t){U=t}function a(){V=U}function s(){return U}function l(t,e,i,n,r,o,a){H||(H=N.getContext());for(var s=H.createRadialGradient(t,e,i,n,r,o),l=0,c=a.length;c>l;l++)s.addColorStop(a[l][0],a[l][1]);return s.__nonRecursion=!0,s}function c(t,e,i,n,r){H||(H=N.getContext());for(var o=H.createLinearGradient(t,e,i,n),a=0,s=r.length;s>a;a++)o.addColorStop(r[a][0],r[a][1]);return o.__nonRecursion=!0,o}function h(t,e,i){t=v(t),e=v(e),t=$(t),e=$(e);for(var n=[],r=(e[0]-t[0])/i,o=(e[1]-t[1])/i,a=(e[2]-t[2])/i,s=(e[3]-t[3])/i,l=0,c=t[0],h=t[1],d=t[2],p=t[3];i>l;l++)n[l]=u([L(Math.floor(c),[0,255]),L(Math.floor(h),[0,255]),L(Math.floor(d),[0,255]),p.toFixed(4)-0],"rgba"),c+=r,h+=o,d+=a,p+=s;return c=e[0],h=e[1],d=e[2],p=e[3],n[l]=u([c,h,d,p],"rgba"),n}function d(t,e){var i=[],n=t.length;if(void 0===e&&(e=20),1===n)i=h(t[0],t[0],e);else if(n>1)for(var r=0,o=n-1;o>r;r++){var a=h(t[r],t[r+1],e);o-1>r&&a.pop(),i=i.concat(a)}return i}function u(t,e){if(e=e||"rgb",t&&(3===t.length||4===t.length)){if(t=F(t,function(t){return t>1?Math.ceil(t):t}),e.indexOf("hex")>-1)return"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1);if(e.indexOf("hs")>-1){var i=F(t.slice(1,3),function(t){return t+"%"});t[1]=i[0],t[2]=i[1]}return e.indexOf("a")>-1?(3===t.length&&t.push(1),t[3]=L(t[3],[0,1]),e+"("+t.slice(0,4).join(",")+")"):e+"("+t.slice(0,3).join(",")+")"}}function p(t){t=P(t),t.indexOf("rgba")<0&&(t=v(t));var e=[],i=0;return t.replace(/[\d.]+/g,function(t){t=3>i?0|t:+t,e[i++]=t}),e}function f(t,e){if(!j(t))return t;var i=$(t),n=i[3];return"undefined"==typeof n&&(n=1),t.indexOf("hsb")>-1?i=M(i):t.indexOf("hsl")>-1&&(i=z(i)),e.indexOf("hsb")>-1||e.indexOf("hsv")>-1?i=R(i):e.indexOf("hsl")>-1&&(i=B(i)),i[3]=n,u(i,e)}function v(t){return f(t,"rgba")}function g(t){return f(t,"rgb")}function m(t){return f(t,"hex")}function y(t){return f(t,"hsva")}function _(t){return f(t,"hsv")}function b(t){return f(t,"hsba")}function w(t){return f(t,"hsb")}function x(t){return f(t,"hsla")}function k(t){return f(t,"hsl")}function C(t){for(var e in X)if(m(X[e])===m(t))return e;return null}function P(t){return String(t).replace(/\s+/g,"")}function T(t){if(X[t]&&(t=X[t]),t=P(t),t=t.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(t)){t=parseInt(t.slice(1),16);var e=(3840&t)<<8,i=(240&t)<<4,n=15&t;t="#"+((1<<24)+(e<<4)+e+(i<<4)+i+(n<<4)+n).toString(16).slice(1)}return t}function E(t,e){if(!j(t))return t;var i=e>0?1:-1;"undefined"==typeof e&&(e=0),e=Math.abs(e)>1?1:Math.abs(e),t=g(t);for(var n=$(t),r=0;3>r;r++)1===i?n[r]=n[r]*(1-e)|0:n[r]=(255-n[r])*e+n[r]|0;return"rgb("+n.join(",")+")"}function S(t){if(!j(t))return t;var e=$(v(t));return e=F(e,function(t){return 255-t}),u(e,"rgb")}function D(t,e,i){if(!j(t)||!j(e))return t;"undefined"==typeof i&&(i=.5),i=1-L(i,[0,1]);for(var n=2*i-1,r=$(v(t)),o=$(v(e)),a=r[3]-o[3],s=((n*a===-1?n:(n+a)/(1+n*a))+1)/2,l=1-s,c=[],h=0;3>h;h++)c[h]=r[h]*s+o[h]*l;var d=r[3]*i+o[3]*(1-i);return d=Math.max(0,Math.min(1,d)),1===r[3]&&1===o[3]?u(c,"rgb"):(c[3]=d,u(c,"rgba"))}function I(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function $(t){t=T(t);var e=t.match(Y);if(null===e)throw new Error("The color format error");var i,n,r,o=[];if(e[2])i=e[2].replace("#","").split(""),r=[i[0]+i[1],i[2]+i[3],i[4]+i[5]],o=F(r,function(t){return L(parseInt(t,16),[0,255])});else if(e[4]){var a=e[4].split(",");n=a[3],r=a.slice(0,3),o=F(r,function(t){return t=Math.floor(t.indexOf("%")>0?2.55*parseInt(t,0):t),L(t,[0,255])}),"undefined"!=typeof n&&o.push(L(parseFloat(n),[0,1]))}else if(e[5]||e[6]){var s=(e[5]||e[6]).split(","),l=parseInt(s[0],0)/360,c=s[1],h=s[2];n=s[3],o=F([c,h],function(t){return L(parseFloat(t)/100,[0,1])}),o.unshift(l),"undefined"!=typeof n&&o.push(L(parseFloat(n),[0,1]))}return o}function A(t,e){if(!j(t))return t;null===e&&(e=1);var i=$(v(t));return i[3]=L(Number(e).toFixed(4),[0,1]),u(i,"rgba")}function F(t,e){if("function"!=typeof e)throw new TypeError;for(var i=t?t.length:0,n=0;i>n;n++)t[n]=e(t[n]);return t}function L(t,e){return t<=e[0]?t=e[0]:t>=e[1]&&(t=e[1]),t}function j(t){return t instanceof Array||"string"==typeof t}function M(t){var e,i,n,r=t[0],o=t[1],a=t[2];if(0===o)e=255*a,i=255*a,n=255*a;else{var s=6*r;6===s&&(s=0);var l=0|s,c=a*(1-o),h=a*(1-o*(s-l)),d=a*(1-o*(1-(s-l))),u=0,p=0,f=0;0===l?(u=a,p=d,f=c):1===l?(u=h,p=a,f=c):2===l?(u=c,p=a,f=d):3===l?(u=c,p=h,f=a):4===l?(u=d,p=c,f=a):(u=a,p=c,f=h),e=255*u,i=255*p,n=255*f}return[e,i,n]}function z(t){var e,i,n,r=t[0],o=t[1],a=t[2];if(0===o)e=255*a,i=255*a,n=255*a;else{var s;s=.5>a?a*(1+o):a+o-o*a;var l=2*a-s;e=255*O(l,s,r+1/3),i=255*O(l,s,r),n=255*O(l,s,r-1/3)}return[e,i,n]}function O(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function R(t){var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(n,r,o),s=Math.max(n,r,o),l=s-a,c=s;if(0===l)e=0,i=0;else{i=l/s;var h=((s-n)/6+l/2)/l,d=((s-r)/6+l/2)/l,u=((s-o)/6+l/2)/l;n===s?e=u-d:r===s?e=1/3+h-u:o===s&&(e=2/3+d-h),0>e&&(e+=1),e>1&&(e-=1)}return e=360*e,i=100*i,c=100*c,[e,i,c]}function B(t){var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(n,r,o),s=Math.max(n,r,o),l=s-a,c=(s+a)/2;if(0===l)e=0,i=0;else{i=.5>c?l/(s+a):l/(2-s-a);var h=((s-n)/6+l/2)/l,d=((s-r)/6+l/2)/l,u=((s-o)/6+l/2)/l;n===s?e=u-d:r===s?e=1/3+h-u:o===s&&(e=2/3+d-h),0>e&&(e+=1),e>1&&(e-=1)}return e=360*e,i=100*i,c=100*c,[e,i,c]}var H,N=i(100),W=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],q=W,U="rgba(255,255,0,0.5)",V=U,Y=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,X={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:e,resetPalette:n,getColor:r,getHighlightColor:s,customHighlight:o,resetHighlight:a,getRadialGradient:l,getLinearGradient:c,getGradientColors:d,getStepColors:h,reverse:S,mix:D,lift:E,trim:P,random:I,toRGB:g,toRGBA:v,toHex:m,toHSL:k,toHSLA:x,toHSB:w,toHSBA:b,toHSV:_,toHSVA:y,toName:C,toColor:u,toArray:p,alpha:A,getData:$}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){var e=i(115),n=function(t){e.call(this,t)};return n.prototype={type:"rectangle",_buildRadiusPath:function(t,e){var i,n,r,o,a=e.x,s=e.y,l=e.width,c=e.height,h=e.radius;"number"==typeof h?i=n=r=o=h:h instanceof Array?1===h.length?i=n=r=o=h[0]:2===h.length?(i=r=h[0],n=o=h[1]):3===h.length?(i=h[0],n=o=h[1],r=h[2]):(i=h[0],n=h[1],r=h[2],o=h[3]):i=n=r=o=0;var d;i+n>l&&(d=i+n,i*=l/d,n*=l/d),r+o>l&&(d=r+o,r*=l/d,o*=l/d),n+r>c&&(d=n+r,n*=c/d,r*=c/d),i+o>c&&(d=i+o,i*=c/d,o*=c/d),t.moveTo(a+i,s),t.lineTo(a+l-n,s),0!==n&&t.quadraticCurveTo(a+l,s,a+l,s+n),t.lineTo(a+l,s+c-r),0!==r&&t.quadraticCurveTo(a+l,s+c,a+l-r,s+c),t.lineTo(a+o,s+c),0!==o&&t.quadraticCurveTo(a,s+c,a,s+c-o),t.lineTo(a,s+i),0!==i&&t.quadraticCurveTo(a,s,a+i,s)},buildPath:function(t,e){e.radius?this._buildRadiusPath(t,e):(t.moveTo(e.x,e.y),t.lineTo(e.x+e.width,e.y),t.lineTo(e.x+e.width,e.y+e.height),t.lineTo(e.x,e.y+e.height),t.lineTo(e.x,e.y)),t.closePath()},getRect:function(t){if(t.__rect)return t.__rect;var e;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-e/2),y:Math.round(t.y-e/2),width:t.width+e,height:t.height+e},t.__rect}},i(100).inherits(n,e),n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){function e(){return!1}function n(t,e,i){var n=document.createElement(e),r=i.getWidth(),o=i.getHeight();return n.style.position="absolute",n.style.left=0,n.style.top=0,n.style.width=r+"px",n.style.height=o+"px",n.width=r*s.devicePixelRatio,n.height=o*s.devicePixelRatio,n.setAttribute("data-zr-dom-id",t),n}var r=i(116),o=i(100),a=window.G_vmlCanvasManager,s=i(102),l=function(t,i){this.id=t,this.dom=n(t,"canvas",i),this.dom.onselectstart=e,this.dom.style["-webkit-user-select"]="none",this.dom.style["user-select"]="none",this.dom.style["-webkit-touch-callout"]="none",this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",this.dom.className=s.elementClassName,a&&a.initElement(this.dom),this.domBack=null,this.ctxBack=null,this.painter=i,this.unusedCount=0,this.config=null,this.dirty=!0,this.elCount=0,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.zoomable=!1,this.panable=!1,this.maxZoom=1/0,this.minZoom=0,r.call(this)};return l.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var t=s.devicePixelRatio;1!=t&&this.ctx.scale(t,t)},l.prototype.createBackBuffer=function(){if(!a){this.domBack=n("back-"+this.id,"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d");var t=s.devicePixelRatio;1!=t&&this.ctxBack.scale(t,t)}},l.prototype.resize=function(t,e){var i=s.devicePixelRatio;this.dom.style.width=t+"px",this.dom.style.height=e+"px",
this.dom.setAttribute("width",t*i),this.dom.setAttribute("height",e*i),1!=i&&this.ctx.scale(i,i),this.domBack&&(this.domBack.setAttribute("width",t*i),this.domBack.setAttribute("height",e*i),1!=i&&this.ctxBack.scale(i,i))},l.prototype.clear=function(){var t=this.dom,e=this.ctx,i=t.width,n=t.height,r=this.clearColor&&!a,o=this.motionBlur&&!a,l=this.lastFrameAlpha,c=s.devicePixelRatio;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,i/c,n/c)),e.clearRect(0,0,i/c,n/c),r&&(e.save(),e.fillStyle=this.clearColor,e.fillRect(0,0,i/c,n/c),e.restore()),o){var h=this.domBack;e.save(),e.globalAlpha=l,e.drawImage(h,0,0,i/c,n/c),e.restore()}},o.merge(l.prototype,r.prototype),l}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){var e=i(115),n=function(t){e.call(this,t)};return n.prototype={type:"image",brush:function(t,e,i){var n=this.style||{};e&&(n=this.getHighlightStyle(n,this.highlightStyle||{}));var r=n.image,o=this;if(this._imageCache||(this._imageCache={}),"string"==typeof r){var a=r;this._imageCache[a]?r=this._imageCache[a]:(r=new Image,r.onload=function(){r.onload=null,o.modSelf(),i()},r.src=a,this._imageCache[a]=r)}if(r){if("IMG"==r.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=r.readyState)return}else if(!r.complete)return;var s=n.width||r.width,l=n.height||r.height,c=n.x,h=n.y;if(!r.width||!r.height)return;if(t.save(),this.doClip(t),this.setContext(t,n),this.setTransform(t),n.sWidth&&n.sHeight){var d=n.sx||0,u=n.sy||0;t.drawImage(r,d,u,n.sWidth,n.sHeight,c,h,s,l)}else if(n.sx&&n.sy){var d=n.sx,u=n.sy,p=s-d,f=l-u;t.drawImage(r,d,u,p,f,c,h,s,l)}else t.drawImage(r,c,h,s,l);n.width||(n.width=s),n.height||(n.height=l),this.style.width||(this.style.width=s),this.style.height||(this.style.height=l),this.drawText(t,n,this.style),t.restore()}},getRect:function(t){return{x:t.x,y:t.y,width:t.width,height:t.height}},clearCache:function(){this._imageCache={}}},i(100).inherits(n,e),n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){"use strict";function e(t,e){return t.zlevel==e.zlevel?t.z==e.z?t.__renderidx-e.__renderidx:t.z-e.z:t.zlevel-e.zlevel}var n=i(100),r=i(122),o={hover:!1,normal:"down",update:!1},a=function(){this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0};return a.prototype.iterShape=function(t,e){if(e||(e=o),e.hover)for(var i=0,n=this._hoverElements.length;n>i;i++){var r=this._hoverElements[i];if(r.updateTransform(),t(r))return this}switch(e.update&&this.updateShapeList(),e.normal){case"down":for(var n=this._shapeList.length;n--;)if(t(this._shapeList[n]))return this;break;default:for(var i=0,n=this._shapeList.length;n>i;i++)if(t(this._shapeList[i]))return this}return this},a.prototype.getHoverShapes=function(t){for(var i=[],n=0,r=this._hoverElements.length;r>n;n++){i.push(this._hoverElements[n]);var o=this._hoverElements[n].hoverConnect;if(o){var a;o=o instanceof Array?o:[o];for(var s=0,l=o.length;l>s;s++)a=o[s].id?o[s]:this.get(o[s]),a&&i.push(a)}}if(i.sort(e),t)for(var n=0,r=i.length;r>n;n++)i[n].updateTransform();return i},a.prototype.getShapeList=function(t){return t&&this.updateShapeList(),this._shapeList},a.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var t=0,i=this._roots.length;i>t;t++){var n=this._roots[t];this._updateAndAddShape(n)}this._shapeList.length=this._shapeListOffset;for(var t=0,i=this._shapeList.length;i>t;t++)this._shapeList[t].__renderidx=t;this._shapeList.sort(e)},a.prototype._updateAndAddShape=function(t,e){if(!t.ignore)if(t.updateTransform(),t.clipShape&&(t.clipShape.parent=t,t.clipShape.updateTransform(),e?(e=e.slice(),e.push(t.clipShape)):e=[t.clipShape]),"group"==t.type){for(var i=0;i<t._children.length;i++){var n=t._children[i];n.__dirty=t.__dirty||n.__dirty,this._updateAndAddShape(n,e)}t.__dirty=!1}else t.__clipShapes=e,this._shapeList[this._shapeListOffset++]=t},a.prototype.mod=function(t,e){if("string"==typeof t&&(t=this._elements[t]),t&&(t.modSelf(),e))if(e.parent||e._storage||e.__clipShapes){var i={};for(var r in e)"parent"!==r&&"_storage"!==r&&"__clipShapes"!==r&&e.hasOwnProperty(r)&&(i[r]=e[r]);n.merge(t,i,!0)}else n.merge(t,e,!0);return this},a.prototype.drift=function(t,e,i){var n=this._elements[t];return n&&(n.needTransform=!0,"horizontal"===n.draggable?i=0:"vertical"===n.draggable&&(e=0),(!n.ondrift||n.ondrift&&!n.ondrift(e,i))&&n.drift(e,i)),this},a.prototype.addHover=function(t){return t.updateNeedTransform(),this._hoverElements.push(t),this},a.prototype.delHover=function(){return this._hoverElements=[],this},a.prototype.hasHoverShape=function(){return this._hoverElements.length>0},a.prototype.addRoot=function(t){this._elements[t.id]||(t instanceof r&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},a.prototype.delRoot=function(t){if("undefined"==typeof t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof r&&i.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],void(this._shapeListOffset=0)}if(t instanceof Array)for(var e=0,o=t.length;o>e;e++)this.delRoot(t[e]);else{var a;a="string"==typeof t?this._elements[t]:t;var s=n.indexOf(this._roots,a);s>=0&&(this.delFromMap(a.id),this._roots.splice(s,1),a instanceof r&&a.delChildrenFromStorage(this))}},a.prototype.addToMap=function(t){return t instanceof r&&(t._storage=this),t.modSelf(),this._elements[t.id]=t,this},a.prototype.get=function(t){return this._elements[t]},a.prototype.delFromMap=function(t){var e=this._elements[t];return e&&(delete this._elements[t],e instanceof r&&(e._storage=null)),this},a.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},a}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){var e=i(103),n=i(100),r=i(116),o=i(107),a=function(t){t=t||{},this.id=t.id||e();for(var i in t)this[i]=t[i];this.type="group",this.clipShape=null,this._children=[],this._storage=null,this.__dirty=!0,r.call(this),o.call(this)};return a.prototype.ignore=!1,a.prototype.children=function(){return this._children.slice()},a.prototype.childAt=function(t){return this._children[t]},a.prototype.addChild=function(t){t!=this&&t.parent!=this&&(t.parent&&t.parent.removeChild(t),this._children.push(t),t.parent=this,this._storage&&this._storage!==t._storage&&(this._storage.addToMap(t),t instanceof a&&t.addChildrenToStorage(this._storage)))},a.prototype.removeChild=function(t){var e=n.indexOf(this._children,t);e>=0&&this._children.splice(e,1),t.parent=null,this._storage&&(this._storage.delFromMap(t.id),t instanceof a&&t.delChildrenFromStorage(this._storage))},a.prototype.clearChildren=function(){for(var t=0;t<this._children.length;t++){var e=this._children[t];this._storage&&(this._storage.delFromMap(e.id),e instanceof a&&e.delChildrenFromStorage(this._storage))}this._children.length=0},a.prototype.eachChild=function(t,e){for(var i=!!e,n=0;n<this._children.length;n++){var r=this._children[n];i?t.call(e,r):t(r)}},a.prototype.traverse=function(t,e){for(var i=!!e,n=0;n<this._children.length;n++){var r=this._children[n];i?t.call(e,r):t(r),"group"===r.type&&r.traverse(t,e)}},a.prototype.addChildrenToStorage=function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToMap(i),i instanceof a&&i.addChildrenToStorage(t)}},a.prototype.delChildrenFromStorage=function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromMap(i.id),i instanceof a&&i.delChildrenFromStorage(t)}},a.prototype.modSelf=function(){this.__dirty=!0},n.merge(a.prototype,r.prototype,!0),n.merge(a.prototype,o.prototype,!0),a}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){"use strict";function e(t,e){return t[e]}function n(t,e,i){t[e]=i}function r(t,e,i){return(e-t)*i+t}function o(t,e,i,n,o){var a=t.length;if(1==o)for(var s=0;a>s;s++)n[s]=r(t[s],e[s],i);else for(var l=t[0].length,s=0;a>s;s++)for(var c=0;l>c;c++)n[s][c]=r(t[s][c],e[s][c],i)}function a(t){switch(typeof t){case"undefined":case"string":return!1}return"undefined"!=typeof t.length}function s(t,e,i,n,r,o,a,s,c){var h=t.length;if(1==c)for(var d=0;h>d;d++)s[d]=l(t[d],e[d],i[d],n[d],r,o,a);else for(var u=t[0].length,d=0;h>d;d++)for(var p=0;u>p;p++)s[d][p]=l(t[d][p],e[d][p],i[d][p],n[d][p],r,o,a)}function l(t,e,i,n,r,o,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*r+e}function c(t){if(a(t)){var e=t.length;if(a(t[0])){for(var i=[],n=0;e>n;n++)i.push(g.call(t[n]));return i}return g.call(t)}return t}function h(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var d=i(124),u=i(117),p=i(100),f=i(106).Dispatcher,v=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},g=Array.prototype.slice,m=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time=0,f.call(this)};m.prototype={add:function(t){this._clips.push(t)},remove:function(t){if(t.__inStep)t.__needsRemove=!0;else{var e=p.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)}},_update:function(){for(var t=(new Date).getTime(),e=t-this._time,i=this._clips,n=i.length,r=[],o=[],a=0;n>a;a++){var s=i[a];s.__inStep=!0;var l=s.step(t);s.__inStep=!1,l&&(r.push(l),o.push(s))}for(var a=0;n>a;)i[a].__needsRemove?(i[a]=i[n-1],i.pop(),n--):a++;n=r.length;for(var a=0;n>a;a++)o[a].fire(r[a]);this._time=t,this.onframe(e),this.dispatch("frame",e),this.stage.update&&this.stage.update()},start:function(){function t(){e._running&&(v(t),e._update())}var e=this;this._running=!0,this._time=(new Date).getTime(),v(t)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var i=new y(t,e.loop,e.getter,e.setter);return i.animation=this,i},constructor:m},p.merge(m.prototype,f.prototype,!0);var y=function(t,i,r,o){this._tracks={},this._target=t,this._loop=i||!1,this._getter=r||e,this._setter=o||n,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return y.prototype={when:function(t,e){for(var i in e)this._tracks[i]||(this._tracks[i]=[],0!==t&&this._tracks[i].push({time:0,value:c(this._getter(this._target,i))})),this._tracks[i].push({time:parseInt(t,10),value:e[i]});return this},during:function(t){return this._onframeList.push(t),this},start:function(t){var e=this,i=this._setter,n=this._getter,c="spline"===t,p=function(){if(e._clipCount--,0===e._clipCount){e._tracks={};for(var t=e._doneList.length,i=0;t>i;i++)e._doneList[i].call(e)}},f=function(f,v){var g=f.length;if(g){var m=f[0].value,y=a(m),_=!1,b=y&&a(m[0])?2:1;f.sort(function(t,e){return t.time-e.time});var w;if(g){w=f[g-1].time;for(var x=[],k=[],C=0;g>C;C++){x.push(f[C].time/w);var P=f[C].value;"string"==typeof P&&(P=u.toArray(P),0===P.length&&(P[0]=P[1]=P[2]=0,P[3]=1),_=!0),k.push(P)}var T,C,E,S,D,I,$,A=0,F=0;if(_)var L=[0,0,0,0];var j=function(t,a){if(F>a){for(T=Math.min(A+1,g-1),C=T;C>=0&&!(x[C]<=a);C--);C=Math.min(C,g-2)}else{for(C=A;g>C&&!(x[C]>a);C++);C=Math.min(C-1,g-2)}A=C,F=a;var d=x[C+1]-x[C];if(0!==d){if(E=(a-x[C])/d,c)if(D=k[C],S=k[0===C?C:C-1],I=k[C>g-2?g-1:C+1],$=k[C>g-3?g-1:C+2],y)s(S,D,I,$,E,E*E,E*E*E,n(t,v),b);else{var u;_?(u=s(S,D,I,$,E,E*E,E*E*E,L,1),u=h(L)):u=l(S,D,I,$,E,E*E,E*E*E),i(t,v,u)}else if(y)o(k[C],k[C+1],E,n(t,v),b);else{var u;_?(o(k[C],k[C+1],E,L,1),u=h(L)):u=r(k[C],k[C+1],E),i(t,v,u)}for(C=0;C<e._onframeList.length;C++)e._onframeList[C](t,a)}},M=new d({target:e._target,life:w,loop:e._loop,delay:e._delay,onframe:j,ondestroy:p});t&&"spline"!==t&&(M.easing=t),e._clipList.push(M),e._clipCount++,e.animation.add(M)}}};for(var v in this._tracks)f(this._tracks[v],v);return this},stop:function(){for(var t=0;t<this._clipList.length;t++){var e=this._clipList[t];this.animation.remove(e)}this._clipList=[]},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this}},m}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){function e(t){this._targetPool=t.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=t.life||1e3,this._delay=t.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop="undefined"==typeof t.loop?!1:t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var n=i(125);return e.prototype={step:function(t){var e=(t-this._startTime)/this._life;if(!(0>e)){e=Math.min(e,1);var i="string"==typeof this.easing?n[this.easing]:this.easing,r="function"==typeof i?i(e):e;return this.fire("frame",r),1==e?this.loop?(this.restart(),"restart"):(this.__needsRemove=!0,"destroy"):null}},restart:function(){var t=(new Date).getTime(),e=(t-this._startTime)%this._life;this._startTime=(new Date).getTime()-e+this.gap,this.__needsRemove=!1},fire:function(t,e){for(var i=0,n=this._targetPool.length;n>i;i++)this["on"+t]&&this["on"+t](this._targetPool[i],e)},constructor:e},e}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t={Linear:function(t){return t},QuadraticIn:function(t){return t*t},QuadraticOut:function(t){return t*(2-t)},QuadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},CubicIn:function(t){return t*t*t},CubicOut:function(t){return--t*t*t+1},CubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},QuarticIn:function(t){return t*t*t*t},QuarticOut:function(t){return 1- --t*t*t*t},QuarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},QuinticIn:function(t){return t*t*t*t*t},QuinticOut:function(t){return--t*t*t*t*t+1},QuinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},SinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},SinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},SinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},ExponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},ExponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},CircularIn:function(t){return 1-Math.sqrt(1-t*t)},CircularOut:function(t){return Math.sqrt(1- --t*t)},CircularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},ElasticIn:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},ElasticOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},ElasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},BackIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},BackOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},BackInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},BounceIn:function(e){return 1-t.BounceOut(1-e)},BounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},BounceInOut:function(e){return.5>e?.5*t.BounceIn(2*e):.5*t.BounceOut(2*e-1)+.5}};return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(133),i(178),i(161),i(165),i(166),i(85),i(169),i(170),i(172),i(173),i(177),i(127),i(179),i(180),i(181),i(182),i(91),i(183),i(1),i(184),i(4)],r=function(t,e,i,n,r,o,a,s,l,c,h,d,u,p,f,v,g,m,y,_,b){return _(b),function(_){var w,x,k=_.$ivaWrap.find("canvas.zr-element");k.on("mousedown",function(t){return 3==t.which?void _.player.play():(w=t.clientX,void(x=t.clientY))}),k.on("click",function(k){if(k.clientX==w&&k.clientY==x){if(o.userId&&k.stopPropagation(),!k.offsetX){var C=y.getOffset(k);k.offsetX=C.offsetX,k.offsetY=C.offsetY}k.currentTarget;_.options.live||_.player.pause(),_.$ivaWrap.find(".wheel-button").remove(),_.$ivaWrap.find(".wheel").remove();var P=b(ejs.render(m,{live:!!_.options.live}));_.$ivaWrap.append(P),y.docCookies.getItem("trackNotice")||(g({type:"success",msg:"虚线圆框为跟踪区域"}),y.docCookies.setItem("trackNotice",!0),_.$ivaWrap.find(".wheel").addClass("iva-first"));var T,E=k.offsetX,S=k.offsetY,D=_.$ivaWrap.width(),I=_.$ivaWrap.height();T=E>0&&80>E?S>0&&80>S?"SE":S>=80&&I-80>=S?"E":"NE":E>=80&&D-80>=E?S>0&&80>S?"S":S>=80&&I-80>=S?"all":"N":S>0&&80>S?"SW":S>=80&&I-80>=S?"W":"NW",_.$ivaWrap.find(".wheel-button").wheelmenu({animation:"fly",animationSpeed:"medium",angle:T});var $={offsetX:k.offsetX,offsetY:k.offsetY,tagTrack:_.options.tagTrack,tagShow:_.options.tagShow};_.$ivaWrap.on("click",".wheel",function(t){t.stopPropagation()}),_.$ivaWrap.off("click",".iva-wiki"),_.$ivaWrap.on("click",".iva-wiki",function(t){t.stopPropagation(),_.$ivaWrap.find(".wheel-button").trigger("click"),new i(_,$,e),_.zr.clear(),_.player.hide_the_player_bar(),console.log("click wiki")}),_.$ivaWrap.off("click",".iva-shopping"),_.$ivaWrap.on("click",".iva-shopping",function(t){t.stopPropagation(),_.$ivaWrap.find(".wheel-button").trigger("click"),new s(_,$,a),_.zr.clear(),_.player.hide_the_player_bar(),console.log("click shopping")}),_.$ivaWrap.off("click",".iva-img"),_.$ivaWrap.on("click",".iva-img",function(t){t.stopPropagation(),_.$ivaWrap.find(".wheel-button").trigger("click"),new r(_,$,n),_.zr.clear(),_.player.hide_the_player_bar(),console.log("click img")}),_.$ivaWrap.off("click",".iva-card"),_.$ivaWrap.on("click",".iva-card",function(t){t.stopPropagation(),_.$ivaWrap.find(".wheel-button").trigger("click"),new c(_,$,l),_.zr.clear(),_.player.hide_the_player_bar(),console.log("click card")}),_.$ivaWrap.off("click",".iva-vote"),_.$ivaWrap.on("click",".iva-vote",function(t){t.stopPropagation(),_.$ivaWrap.find(".wheel-button").trigger("click"),new d(_,$,h),_.zr.clear(),_.player.hide_the_player_bar(),console.log("click vote")}),_.$ivaWrap.off("click",".iva-person"),_.$ivaWrap.on("click",".iva-person",function(t){t.stopPropagation(),_.$ivaWrap.find(".wheel-button").trigger("click"),new p(_,$,u),_.zr.clear(),_.player.hide_the_player_bar(),console.log("click person")}),_.$ivaWrap.off("click",".iva-location"),_.$ivaWrap.on("click",".iva-location",function(t){t.stopPropagation(),_.$ivaWrap.find(".wheel-button").trigger("click"),new v(_,$,f),_.zr.clear(),_.player.hide_the_player_bar(),console.log("click location")}),_.circleInstance&&(_.zr.delShape(_.circleInstance.id),delete _.circleInstance),_.circleInstance=new t({position:[k.offsetX,k.offsetY],style:{brushType:"both",lineWidth:1,x:0,y:0,r:4,strokeColor:"#fff",color:"#fff",shadowBlur:8,shadowColor:"#fff"}}),_.zr.addShape(_.circleInstance),_.$ivaWrap.find(".wheel-button").css("top",k.offsetY-20+"px").css("left",k.offsetX-20+"px").trigger("click")}})}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(128),i(82),i(129),i(159),i(135),i(91),i(160),i(85),i(4)],r=function(t,e,i,n,r,o,a,s,l){function c(t,e,i){r.apply(this,arguments),this.iva=t,this.data=e,this.list=[],this._initEvent(),this._getList(0,11)}return c.prototype=new r,c.prototype._initEvent=function(){this.$body.on("click",".iva-listwrap button",this._getMore.bind(this)),this.$body.on("click",".iva-list li",this._quote.bind(this)),this.$body.on("click",".iva-refresh",this._refresh.bind(this)),a(this.$body.find(".iva-head .iva-title").get(0),36),this.$body.on("click",".iva-search",this._refresh.bind(this)),this.$body.on("keypress",".iva-searchArea input",function(){13==event.keyCode&&this._refresh()}.bind(this)),this.$body.on("click",".iva-nextStep",this._nextStep.bind(this)),this.$body.on("click",".iva-listhead h2",function(t){this.$body.find(".iva-listhead .iva-crt").removeClass("iva-crt");var e=t.target;l(e).addClass("iva-crt"),this.$body.find(".iva-list [data-index]").remove(),"0"==l(e).data("pub")?(this.$body.find(".iva-list li:eq(0)").show(),this.list=[],this._getList(0,11)):(this.$body.find(".iva-list li:eq(0)").hide(),this.list=[],this._getList(0,12))}.bind(this));var t=this.$body.find(".iva-sub-listhead .iva-btn");t.on("click",function(e){t.removeClass("active"),l(e.target).addClass("active"),this._refresh()}.bind(this))},c.prototype._getList=function(i,n,r){e("/api/dgs/searchUserDg","GET",{cat:5,offset:i,ps:n,kw:this.$body.find(".iva-searchArea input").val(),pub:this.$body.find(".iva-listhead .iva-crt").data().pub,voteStatus:this.$body.find(".iva-sub-listhead .iva-btn.active").data().status},function(e){e.msg.forEach(function(t){return Date.now()<Date.parse(t.vote.validDate.startDate)?t.voteStatusClass="iva-vote-status-pre":Date.now()>Date.parse(t.vote.validDate.endDate)?t.voteStatusClass="iva-vote-status-end":t.voteStatusClass="iva-vote-status-on"});var i=l(ejs.render(t,e));this.list=this.list.concat(e.msg),this.$body.find(".iva-list").append(i),this.$body.find(".iva-listwrap").animate({scrollTop:this.$body.find(".iva-list").height()},500),e.length<12||this.list.length==e.total?this.$body.find(".iva-listwrap button").hide():this.$body.find(".iva-listwrap button").show()}.bind(this))},c.prototype._quote=function(t){t.stopPropagation();var e=t.currentTarget;e.dataset.index&&(this.$body.find(".iva-list .iva-crt").removeClass("iva-crt"),l(e).addClass("iva-crt"))},c.prototype._nextStep=function(t){t.stopPropagation();var e=this.$body.find(".iva-list .iva-crt").get(0);if(!e)return void o({type:"error",msg:"请选择一个投票"});var r=parseInt(e.dataset.index);if("number"==typeof r){var a=this.list[r];a.coordinate=this.data,a.type=this.$body.find(".iva-trackingCheckbox").hasClass("iva-checked")?1:0,a.auto_hidden=this.$body.find(".iva-hiddenCheckbox").hasClass("iva-checked")?1:0,a.tagDuration=this.iva.options.tagDuration,this._hide(),new i(this.iva,a,n,this)}},c.prototype._getMore=function(t){t.stopPropagation(),this._getList(parseInt(this.list.length),12)},c.prototype._refresh=function(t){this.$body.find(".iva-list [data-index]").remove(),this.list=[],this._getList(0,11)},c}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[],r=function(){var t='<% for (var i=0; i<msg.length; i++) { %>	              <li data-index=<%= offset+i %>>	                <div class="iva-imgwrap <%= msg[i].voteStatusClass %>">	                  <img src="<%= msg[i].pic[0].url %>">	                  <div class="iva-title">	                    <div class="iva-h3"><%= msg[i].title %></div>	                    <div class="iva-txt"><%= msg[i].desc %></div>	                  </div>	                </div>	                <i class="iva-iconfont">&#xe604;</i>	              </li>	              <% } %>';return t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(82),i(91),i(85),i(131),i(4),i(153),i(130),i(154),i(155),i(156),i(157),i(158)],r=function(t,e,i,n,r,o,a,s,l,c,h,d){function u(t,e,i,n){this.iva=t,this.data=e,this.createImg=n,this.$body=r(ejs.render(i,e)),this._init()}return o(r),a(r),s(r),l(r),c(r),u.prototype._init=function(){this.$body.appendTo(this.iva.$ivaWrap),this._initEvent()},u.prototype._initEvent=function(){var t,i=this.$body.find(".iva-vote-style-preview"),n=i.find(".iva-vote");i.hover(function(){clearTimeout(t),this.isOptionsShow=!0,this.isOptionsShowed=!0,n.addClass("show-options")}.bind(this),function(){t=setTimeout(function(){this.isOptionsShow=!1,n.removeClass("show-options")}.bind(this),3e3)}.bind(this)),this.$body.on("click",function(t){t.stopPropagation()}),this.$body.on("keydown",function(t){t.stopPropagation()}),this.$body.on("keyup",function(t){t.stopPropagation()}),this.$body.on("keypress",function(t){t.stopPropagation()}),this.$body.on("mouseenter",function(t){t.stopPropagation()}),this.$body.on("mousedown",function(t){3==t.which&&t.stopPropagation()}),this.$body.find(".iva-vote-style-preview").resizable({containment:"parent",handles:"all",aspectRatio:!0,minWidth:50,maxWidth:250}).draggable({containment:"parent",stop:function(t,e){var i=this.iva.$ivaWrap.height(),n=t.target.clientHeight;i-e.position.top-n<25?this.$body.find(".iva-imgDesc").addClass("iva-imgDesc-up"):this.$body.find(".iva-imgDesc").removeClass("iva-imgDesc-up")}.bind(this)}),this.$body.find(".iva-imgParams").draggable({containment:"parent"}),this.$body.on("click",".iva-back",this._back.bind(this)),this.$body.on("click",".iva-submit",this._submit.bind(this)),this.$body.on("change",'.iva-fill input[type="number"]',function(t){var i=parseInt(r(t.target).val());"number"!=typeof i&&(r(t.target).val(10),e({type:"error",msg:"展示时间格式不正确"})),1>i&&(r(t.target).val(1),e({type:"error",msg:"展示时间不能少于1秒"})),i>3600&&(r(t.target).val(3600),e({type:"error",msg:"展示时间不能大于3600秒"}))}.bind(this)),this.$body.on("change",'[name="showImgDesc"]',function(t){var e=t.target,i=parseInt(r(e).val());i?this.$body.find(".iva-imgDesc").show():this.$body.find(".iva-imgDesc").hide()}.bind(this))},u.prototype._back=function(){event.stopPropagation(),this.$body.remove(),this.createImg._show()},u.prototype._submit=function(){event.stopPropagation();var o=i.power.charAt(5);if("1"==o){var a={};a.title="vote",a.cat=2,a.dg=this.data._id,a.dgCat=5,a.v=i.videoId,a.auto_hidden=this.data.auto_hidden;var s=this.iva.$ivaWrap.width(),l=this.iva.$ivaWrap.height();if(a.x=parseInt(this.$body.find(".iva-vote-style-preview").css("left").split("px")[0])/s,a.y=parseInt(this.$body.find(".iva-vote-style-preview").css("top").split("px")[0])/l,a.width=parseInt(this.$body.find(".iva-vote-style-preview").css("width").split("px")[0])/s,a.height=parseInt(this.$body.find(".iva-vote-style-preview").css("height").split("px")[0])/l,a.time=parseInt(1e3*this.iva.player.get_time()),a.duration=1e3*parseInt(this.$body.find('.iva-imgParams input[type="number"]').val()),a.islive=!!this.iva.options.live,!a.duration)return r(event.target).val(10),void e({type:"error",msg:"展示时间格式不正确"});if(a.duration<1e3)return r(event.target).val(1),void e({type:"error",msg:"展示时间不能小于1秒"});if(a.duration>36e5)return r(event.target).val(3600),void e({type:"error",msg:"展示时间不能大于3600秒"});t("/api/tags","POST",a,function(t){this.createImg._close(),this._close(),this.iva.options.live||new n(this.iva,{_id:t.msg._id,dg:this.data,dot_user:{x:a.x,y:a.y,width:a.width,height:a.height,duration:a.duration}}),e({type:"success",msg:"成功添加投票"});try{this.iva.player.insert_dots([{id:t.msg._id,time:this.iva.player.get_time(),title:this.data.title}])}catch(i){console.error(i)}}.bind(this))}else this.$body.remove(),this.createImg.$body.remove(),new h(this.iva,{},d)},u.prototype._hide=function(t){this.$body.hide()},u.prototype._close=function(t){this.$body.remove(),this.iva.player.play()},u}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){return function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,a,s,l={},c=e.split(".")[0];return e=e.split(".")[1],r=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[c]=t[c]||{},o=t[c][e],a=t[c][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),s=new i,s.options=t.widget.extend({},s.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},r=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(l[e]=n)}),a.prototype=t.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||e:e},l,{constructor:a,namespace:c,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),a=0,s=o.length;s>a;a++)for(n in o[a])r=o[a][n],o[a].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,s=i.call(arguments,1),l=this;return a?this.each(function(){var i,n=t.data(this,r);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,s),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=t.widget.extend.apply(null,[o].concat(s))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},n=e.split("."),e=n.shift(),n.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,a){function s(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,h=l[2];h?r.delegate(h,c,s):i.bind(c,s)})},_off:function(e,i){
i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),a&&t.effects&&t.effects.effect[s]?n[e](r):s!==e&&n[s]?n[s](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}}),t.widget}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(133),i(141),i(120),i(123),i(85),i(82),i(134),i(136),i(137),i(138),i(139),i(140),i(132),i(143),i(144),i(145),i(148),i(150),i(91),i(152),i(1),i(3),i(4)],r=function(t,e,i,n,r,o,a,s,l,c,h,d,u,p,f,v,g,m,y,_,b,w,x){function k(t,e,i){this.iva=t,this.options=e,this.isTrack=!!i,this.isOptionsShow=!1;var n,f=this.iva.$ivaWrap.width(),v=this.iva.$ivaWrap.height()+40,g=Math.round(f*this.options.dot_user.x),m=Math.round(v*this.options.dot_user.y);n=parseInt(r.power.charAt(1))||parseInt(r.power.charAt(4))?!0:!1;var k={tagId:e._id,dgId:e.dg._id,dgCat:e.dg.cat,title:e.title,close:n,tagFontSize:this.iva.options.tagFontSize||16,hidden:e.auto_hidden,coorX:f-g>240?g:g-240,coorY:m,icon:e.icon?e.icon.icon:"",color:e.color,effect:e.effect,direction:f-g>240?"left":"right"};switch(e.dg.cat){case 1:case 6:case 7:k.code="&#xe60f;",k.type="iva-dg-cat-1",this.tip=x(ejs.render(_,k)),this._init();break;case 2:k.code="&#xe60e;",k.type="iva-dg-cat-2",this.tip=x(ejs.render(_,k)),this._init();break;case 3:if(k=x.extend(k,{x:e.dot_user.x*f,y:e.dot_user.y*v,showTitle:e.dot_user.showTitle,width:e.dot_user.width*f,height:e.dot_user.height*v,url:e.dg.pic[0].url,link:e.dg.link.length&&e.dg.link[0].url?e.dg.link[0].url:""}),console.log("showTitle:"+e.dot_user.showTitle),k.up=!!(this.iva.$ivaWrap.height()-k.y-k.height<25),this.tip=x(ejs.render(h,k)),this.tip.appendTo(this.iva.$ivaWrap).fadeIn(),1==this.options.type&&this.options.dot.length){var C=this.options.dot,P=0,T=this.tip;this.isTrack&&function H(){C[P+1]?T.animate({left:C[P+1].x*f,top:C[P+1].y*v,width:C[P+1].width*f,height:C[P+1].height*v},C[P+1].time-C[P].time,function(){P++,C[P]&&H()}):T.fadeOut(function(){T.remove()})}.bind(this)()}else t.options.live&&setTimeout(function(){this.tip.fadeOut(function(){this.tip.remove()}.bind(this))}.bind(this),e.dot_user.duration);this.tip.on("click touchstart",function(t){if(t.stopPropagation(),t.preventDefault(),this.iva.options.live||this.iva.player.pause(),!this.options.auto_hidden)try{this.iva.player.check_dot(k.tagId)}catch(e){console.log(e)}var i=x(t.currentTarget),n=i.data("link");i.data("dgid");n&&(w.isMongoId(n)?o("/api/dgs/"+n,"GET",{},function(e){var i=x.extend(e.msg,{tagName:this.options.title,icon:this.options.icon?this.options.icon.icon:"",videoId:r.videoId,tagId:this.options._id,event:t});switch(e.msg.cat){case 1:new a(this.iva,i,s);break;case 2:new l(this.iva,i,c);break;case 3:}}.bind(this)):window.open(n),o("/api/tracks/clickTag","POST",{tag:k.tagId},function(){console.log("tag clicked track")}))}.bind(this)),this.tip.on("click",".iva-close",function(t){this.tip.remove()}.bind(this)),this.tip.on("click",".iva-delete",function(e){e.stopPropagation();var i=this.tip.data("tagid"),n=[i];confirm("确认删除？")&&(this.tip.remove(),o("/api/tags","DELETE",{tags:JSON.stringify(n)},function(){y({type:"success",msg:"云链删除成功"})}.bind(this)),t.options.live&&o("/api/tags/emitHideTag","POST",{video:r.videoId,tag:i}))}.bind(this));break;case 4:k=x.extend(k,{x:e.dot_user.x*f,y:e.dot_user.y*v,showTitle:e.dot_user.showTitle,width:e.dot_user.width*f,height:e.dot_user.height*v,url:e.cardPic.url,link:"",cardIndex:e.cardIndex}),console.log("showTitle:"+e.dot_user.showTitle),k.up=!!(this.iva.$ivaWrap.height()-k.y-k.height<25),this.tip=x(ejs.render(h,k)),this.tip.appendTo(this.iva.$ivaWrap).fadeIn(),t.options.live&&setTimeout(function(){this.tip.fadeOut(function(){this.tip.remove()}.bind(this))}.bind(this),e.dot_user.duration),this.tip.on("click touchstart",function(t){if(t.stopPropagation(),this.tip.remove(),this.iva.options.live||this.iva._pause(),o("/api/dgs/"+e.dg._id,"GET",{},function(t){t.msg.cardIndex=e.cardIndex,b.docCookies.setItem("$"+r.videoId+"$"+t.msg.cards.pics[e.cardIndex]._id+"$cardClicked","true"),new p(this.iva,t.msg,d)}.bind(this)),!this.options.auto_hidden)try{this.iva.player.check_dot(k.tagId)}catch(i){console.log(i)}o("/api/tracks/clickTag","POST",{tag:k.tagId},function(){console.log("tag clicked track")})}.bind(this)),this.tip.on("click",".iva-close",function(t){this.tip.remove()}.bind(this)),this.tip.on("click",".iva-delete",function(e){e.stopPropagation();var i=this.tip.data("tagid"),n=[i];confirm("确认删除？")&&(this.tip.remove(),o("/api/tags","DELETE",{tags:JSON.stringify(n)},function(){y({type:"success",msg:"云链删除成功"})}.bind(this)),t.options.live&&o("/api/tags/emitHideTag","POST",{video:r.videoId,tag:i}),b.docCookies.removeItem("$"+r.videoId+"$"+this.options.cardPic._id+"$cardChosen"))}.bind(this));break;case 5:k=x.extend(k,{x:e.dot_user.x*f,y:e.dot_user.y*v,showTitle:e.dot_user.showTitle,width:e.dot_user.width*f,height:e.dot_user.height*v,url:e.dg.pic[0].url,vote:e.dg.vote,title:e.dg.title,style:e.dg.vote.style}),k.up=!!(this.iva.$ivaWrap.height()-k.y-k.height<25),this.tip=x(ejs.render(u,k)),this.tip.appendTo(this.iva.$ivaWrap).fadeIn();var E,S,D=this.tip.find(".iva-vote"),I=!1,$=function(){}.bind(this);this.tip.hover(function(){clearTimeout(S),I&&$(),this.isOptionsShow=!0,this.isOptionsShowed=!0,D.addClass("show-options")}.bind(this),function(){S=setTimeout(function(){this.isOptionsShow=!1,D.removeClass("show-options"),clearInterval(E)}.bind(this),200)}.bind(this));var A=this.tip.find(".iva-btn"),F=this.tip.find(".iva-voted-pre"),L=F.find("span"),j=Date.now(),M=Date.parse(e.dg.vote.validDate.startDate),z=Date.parse(e.dg.vote.validDate.endDate),O=function(t){var e=this.tip.find(".iva-option-count"),i=this.tip.find(".iva-option-num");this.tip.find(".iva-options").addClass("iva-options-submitted");var n=0,r=0;t.options.forEach(function(t){r+=t.count}),t.options.forEach(function(t,e){i.eq(e).text((t.count/r*100).toFixed(2)+"%"),t.count>n&&(n=t.count)}),e.each(function(e){var i=t.options[e].count/n*170;i>x(this).innerWidth()&&x(this).animate({width:i},1)})}.bind(this),R=function(t){I=!0,this.isOptionsShow&&$(),O(t)}.bind(this);if(M>j){F.show();var B=setInterval(function(){var t=Math.ceil((Date.parse(e.dg.vote.validDate.startDate)-Date.now())/1e3);-1>=t&&(clearInterval(B),F.hide(),A.show());var i=parseInt(t/86400);t-=86400*i;var n=parseInt(t/3600);t-=3600*n;var r=parseInt(t/60);t-=60*r;var o;o=0!=i?i+"天"+n+"时"+r+"分"+t+"秒":0!=n?n+"时"+r+"分"+t+"秒":0!=r?r+"分"+t+"秒":t+"秒",L.text(o)},1e3)}else j>z?(this.tip.find(".iva-voted-end").show(),R(e.dg.vote)):A.show();b.docCookies.hasItem("vote_id:"+e.dg._id)&&(A.hide(),this.tip.find(".iva-voted").show(),R(e.dg.vote)),this.tip.on("click touchstart",function(t){if(t.stopPropagation(),"BUTTON"==t.target.tagName){var i=this.tip.find('input[name="iva-vote-option"]:checked').val();if("undefined"==typeof i)return y({type:"error",msg:"请选择一个选项"});var n={dgId:e.dg._id,optionId:e.dg.vote.options[i]._id,tagId:e._id,videoId:r.videoId};return void o("/api/dgs/vote","POST",n,function(t){A.hide(),this.tip.find(".iva-voted").show(),R(t.vote),b.docCookies.setItem("vote_id:"+e.dg._id,!0)}.bind(this))}try{this.iva.player.check_dot(k.tagId)}catch(a){console.log(a)}}.bind(this)),this.tip.on("click",".iva-close",function(t){this.close()}.bind(this)),this.tip.on("click",".iva-delete",function(e){e.stopPropagation();var i=this.tip.data("tagid"),n=[i];confirm("确认删除？")&&(this.close(),o("/api/tags","DELETE",{tags:JSON.stringify(n)},function(){y({type:"success",msg:"投票删除成功"})}.bind(this)),t.options.live&&o("/api/tags/emitHideTag","POST",{video:r.videoId,tag:i}))}.bind(this)),t.options.live&&setTimeout(function(){this.tip.fadeOut(function(){this.tip.remove()}.bind(this))}.bind(this),e.dot_user.duration)}}return k.prototype._init=function(){var t=this.iva.$ivaWrap.width(),e=this.iva.$ivaWrap.height()+40,i=this.options.dot_user.duration?this.options.dot_user.duration:1e3*this.iva.options.tagDuration;if(this.tip.on("click touchstart",function(t){if(t.stopPropagation(),!this.iva.isMobile||"click"!=t.type){this.iva.$ivaWrap.find(".iva-trackBox").remove(),this.iva.options.live||this.iva._pause();var e=t.currentTarget,i=x(e).find(".iva-txt").text(),n=e.dataset.tagid,l=e.dataset.dgid;if(!this.options.auto_hidden)try{this.iva.player.check_dot(n)}catch(c){console.error(c)}o("/api/tracks/clickTag","POST",{tag:n},function(){console.log("tag clicked track")}),l&&o("/api/dgs/"+l,"GET",{},function(e){var n=x.extend(e.msg,{tagName:i,icon:this.options.icon?this.options.icon.icon:"",videoId:r.videoId,tagId:this.options._id,event:t});switch(e.msg.cat){case 1:new a(this.iva,n,s);break;case 2:n.logo=n.logo?n.logo:"",new m(this.iva,n);break;case 3:console.log("show tag 3");break;case 6:new v(this.iva,n);break;case 7:new g(this.iva,n)}}.bind(this))}}.bind(this)),this.tip.on("click",".iva-delete",function(t){t.stopPropagation();var e=this.tip.data("tagid"),i=[e];confirm("确认删除？")&&(this.tip.remove(),o("/api/tags","DELETE",{tags:JSON.stringify(i)},function(){y({type:"success",msg:"云链删除成功"})}.bind(this)),this.iva.options.live&&o("/api/tags/emitHideTag","POST",{video:r.videoId,tag:e}))}.bind(this)),this.options.dot&&this.options.dot.length&&!this.iva.player.is_pause()&&this.isTrack){coorX=Math.round(t*this.options.dot[0].x),coorY=Math.round(e*this.options.dot[0].y);var n,h,d;if(h=this.options.dot[0].length,d=h/2,1==this.options.auto_hidden)this.tip.css("left",this.options.dot[0].x*t).css("top",this.options.dot[0].y*e),function(){function i(){n=this.options.dot[r].time-this.options.dot[r-1].time,this.tip.animate({left:this.options.dot[r].x*t,top:this.options.dot[r].y*e},{duration:this.options.dot[r].time-this.options.dot[r-1].time,done:function(){r++,this.options.dot[r]?i.call(this):this.tip.remove()}.bind(this)})}var r=1;i.call(this)}.bind(this)();else{var u=x(ejs.render(f,{tagName:this.options.title,tagId:this.options._id,dgId:this.options.dg._id})).css("left",this.options.dot[0].x*t).css("top",this.options.dot[0].y*e).css("width",h*t).css("height",h*t).appendTo(this.iva.$ivaWrap).on("click touchstart",function(t){t.stopPropagation();var e=t.currentTarget;this.iva.options.live||this.iva._pause();var e=t.currentTarget,i=(e.dataset.tagName,e.dataset.tagid),n=e.dataset.dgid;if(!this.options.auto_hidden)try{this.iva.player.check_dot(i)}catch(h){console.log(h)}this.tip.remove(),x(e).remove(),o("/api/tracks/clickTag","POST",{tag:i},function(){console.log("tag clicked track")}),n&&o("/api/dgs/"+n,"GET",{},function(e){var i=x.extend(e.msg,{tagName:this.options.title,icon:this.options.icon?this.options.icon.icon:"",videoId:r.videoId,tagId:this.options._id,event:t});switch(e.msg.cat){case 1:new a(this.iva,i,s);break;case 2:new l(this.iva,i,c);break;case 3:}}.bind(this))}.bind(this));(function(){function i(){n=this.options.dot[r].time-this.options.dot[r-1].time,h=this.options.dot[r].length,d=h/2,u.animate({left:this.options.dot[r].x*t,top:this.options.dot[r].y*e,width:h*t,height:h*t},{duration:this.options.dot[r].time-this.options.dot[r-1].time,done:function(){r++,this.options.dot[r]?i.call(this):u.remove()}.bind(this)})}var r=1;i.call(this)}).bind(this)()}}this.tip.appendTo(this.iva.$ivaWrap),this.iva.options.live&&setTimeout(function(){this.tip.hasClass("hover")||this.tip.fadeOut(500,function(){x(this).remove()})}.bind(this),i)},k.prototype.close=function(){this.tip.remove()},k}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div data-tagid="<%= tagId %>" data-dgid="<%= dgId %>" class="iva-vote-style-preview style-<%= style %>" style="left:<%= x %>px;top:<%= y %>px;display:none;width:<%= width %>px;height:<%= height %>px">	                <% if (!!close) { %>	                <i class="iva-iconfont iva-delete">&#xe60d;</i>	                <% } %>	                <img src="<%= url %>" />	                <i class="iva-iconfont iva-close">&#xe60a;</i>	                <div class="iva-vote">	                  <div class="iva-question"> <%= title %> </div>	                  <div class="iva-options">	                  <% for (var i=0; i<vote.options.length; i++) { %> 	                    <div class="iva-option">	                      <span class="iva-option-count-wrap">	                        <span class="iva-option-count"></span>	                        <span class="iva-option-num"></span>	                      </span>	                      <label class="iva-radio-inline">	                        <input type="radio" name="iva-vote-option" value="<%= i %>">	                        <span class="iva-option-title"> <%= vote.options[i].title %></span>	                      </label>	                    </div>	                  <% }%>	                  </div>	                  <div class="iva-vote-submit">	                    <button class="iva-btn" style="display:none">投票</button>	                    <span class="iva-voted" style="display:none">投票成功</span>	                    <span class="iva-voted-end" style="display:none">投票已结束</span>	                    <span class="iva-voted-pre" style="display:none">距投票开始还有<span></span></span>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){"use strict";var e=i(115),n=function(t){e.call(this,t)};return n.prototype={type:"circle",buildPath:function(t,e){t.moveTo(e.x+e.r,e.y),t.arc(e.x,e.y,e.r,0,2*Math.PI,!0)},getRect:function(t){if(t.__rect)return t.__rect;var e;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-t.r-e/2),y:Math.round(t.y-t.r-e/2),width:2*t.r+e,height:2*t.r+e},t.__rect}},i(100).inherits(n,e),n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(135),i(85),i(91),i(82),i(4)],r=function(t,e,i,n,r){function o(e,i,n){t.apply(this,arguments),this.iva=e,this.data=i,this._initEvent(),this.iva.$ivaWrap.addClass("iva-windowOpen"),this.timestamp=(new Date).getTime()}return o.prototype=new t,o.prototype._initEvent=function(){if(this.$body.find(".iva-picwrap").on("mouseenter",this._preview.bind(this)),this.$body.find(".iva-left").on("click",this._sliderLeft.bind(this)),this.$body.find(".iva-right").on("click",this._sliderRight.bind(this)),this.$body.find(".iva-link").on("click",this._linkTrack.bind(this)),this.iva.isMobile){var t=0,e=!1;this.$body.on("touchstart touchmove",".iva-display",function(i){i.preventDefault(),i.stopPropagation();var n=i.originalEvent.touches[0];switch(i.type){case"touchstart":t=n.pageY,e=!0;break;case"touchmove":if(e){if(n.pageY-t>0)return this._sliderRight.bind(this)(),e=!1;if(n.pageY-t<0)return this._sliderLeft.bind(this)(),e=!1}}}.bind(this))}this.iva.options.live?this.$body.addClass(this.iva.options.live+"-live __show"):this._display(),this.$body.on("click",function(t){r(t.target).hasClass("iva-windowwrap")&&this.$body.find(".iva-close").trigger("click")}.bind(this))},o.prototype._display=function(){this.$body.off("click touchstart",".iva-close, .iva-bar__live");var t=r(this.data.event.currentTarget),e=this.$body.find(".iva-window"),i=t.offset(),n=this.$body.offset(),o=i.top-n.top,a=i.left-n.left,s="";s=a>=this.$body.width()/2?"iva-mgtv-window-noanimate right":"iva-mgtv-window-noanimate left",o>=this.$body.height()/2&&(s="iva-mgtv-window-noanimate bottom"),e.css({top:o,left:a}).addClass("iva-mgtv-alert-window-open").addClass(s).animate({top:"50%",left:"50%",opacity:"1"},100,function(){e.removeClass(s).addClass("iva-mgtv-window-animated"),this.$body.find(".iva-close").off("click touchstart").on("click touchstart",function(){r(".iva-mgtv-alert-window").removeClass("iva-mgtv-window-animated").addClass(s).animate({top:o,left:a,opacity:0},50,function(){var e=t;setTimeout(function(){e.removeClass(s+"  iva-mgtv-alert-window-open"),this._close(),this._timestamp()}.bind(this),300)}.bind(this))}.bind(this))}.bind(this))},o.prototype._preview=function(t){var e=t.currentTarget,i=r(e).find("img").attr("src");this.$body.find(".iva-thumbnails .iva-crt").removeClass("iva-crt"),r(e).addClass("iva-crt"),this.$body.find(".iva-preview").css("backgroundImage","url("+i+")")},o.prototype._sliderLeft=function(){var t=this.$body.find(".iva-thumbnails .iva-crt"),e=t.prev();e.length||(e=r(t.parent().children()[t.parent().children().length-1])),t.removeClass("iva-crt"),e.addClass("iva-crt");var i=e.find("img").attr("src");this.$body.find(".iva-preview").css("backgroundImage","url("+i+")")},o.prototype._sliderRight=function(){var t=this.$body.find(".iva-thumbnails .iva-crt"),e=t.next();e.length||(e=r(t.parent().children()[0])),t.removeClass("iva-crt"),e.addClass("iva-crt");var i=e.find("img").attr("src");this.$body.find(".iva-preview").css("backgroundImage","url("+i+")")},o.prototype._linkTrack=function(t){var e=t.currentTarget;n("/api/tracks/clickLink","POST",{dg:r(e).data("dgid"),video:r(e).data("videoid"),tag:r(e).data("tagid")},function(t){console.log("link clicked track")})},o.prototype._timestamp=function(){n("/api/tracks/showDgTime","POST",{video:e.videoId,time:(new Date).getTime()-this.timestamp,tag:this.data.tagId,dg:this.data._id},function(t){console.log("dg showed track")})},o}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(4)],r=function(t){function e(e,i,n){e&&n&&(this.iva=e,this.$body=t(ejs.render(n,i)),this._init())}return e.prototype._init=function(){if(this.$body){this.$body.appendTo(this.iva.$ivaWrap),this.$body.attr("tabindex",0),this.$body.on("click",function(t){t.stopPropagation()}),this.$body.on("keyup",function(t){t.stopPropagation()}),this.$body.on("keypress",function(t){t.stopPropagation()}),this.$body.on("mousemove",function(t){t.stopPropagation()}),this.$body.on("mouseenter",function(t){t.stopPropagation()}),this.$body.on("mousedown",function(t){3==t.which&&t.stopPropagation()}),this.$body.on("keydown","input",function(t){32==t.keyCode&&t.stopPropagation()}),this.$body.on("click",".iva-checkbox",function(e){t(this).hasClass("iva-checked")?t(this).removeClass("iva-checked"):t(this).addClass("iva-checked")}),this.$body.on("click touchstart",".iva-close, .iva-bar__live",this._close.bind(this)),this.iva.isMobile&&this.$body.on("touchstart touchend touchmove",function(t){t.stopPropagation(),"touchmove"==t.type&&t.preventDefault()});this.iva.$ivaWrap.width(),this.iva.$ivaWrap.height();try{var e=this.iva.player.get_current_video();this.iva.options.live||t(e).addClass("iva-blur")}catch(i){console.error(i)}}},e.prototype._close=function(e){if(this.iva.options.live)this.$body.removeClass("__show").delay(500).queue(function(){t(this).remove()});else{this.$body.remove(),this.iva._play();try{var i=this.iva.player.get_current_video();t(i).removeClass("iva-blur")}catch(n){console.error(n)}}this.iva.$ivaWrap.removeClass("iva-windowOpen"),t(window).off("resize")},e.prototype._show=function(){this.$body.show()},e.prototype._hide=function(){this.iva.options.live&&this.$body.removeClass("__show"),this.$body.hide();try{var e=this.iva.player.get_current_video();t(e).removeClass("iva-blur")}catch(i){console.error(i)}},e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-window iva-mgtv-alert-window">	                  <div class="iva-wrap">	                    <div class="iva-bar__live">	                      <i class="iva-iconfont iva-close__live">&#xe617;</i>	                    </div>	                    <div class="iva-brand" <% if (!!icon) { %>style="background-image:url(<%= icon %>)"<% } %>></div>	                    <div class="iva-head">	                      <!--div class="iva-title"><%= tagName %></div-->	                      <i class="iva-iconfont iva-close">&#xe60d;</i>	                    </div>	                    <div class="iva-body">	                      <div class="iva-display">	                        <div class="iva-preview" style="background-image:url(<%= pic[0].url %>);"></div>	                        <div class="iva-thumbnails">	                          <% for (var i=0; i<pic.length; i++) { %>	                            <div class="iva-picwrap<% if (i==0) { %> iva-crt<% } %>">	                              <img src="<%= pic[i].url %>">	                            </div>	                          <% } %>	                        </div>	                        <!--i class="iva-iconfont iva-left">&#xe618;</i-->	                        <!--i class="iva-iconfont iva-right">&#xe617;</i-->	                      </div>	                      <div class="iva-details">	                        <div class="iva-corner"><i class="iva-iconfont">&#xe60f;</i></div>	                        <section class="iva-description">	                          <!--a class="iva-watermark" href="http://videojj.com" target="_black"></a-->	                          <h2><%= title %></h2>	                          <p><%= desc %></p>	                        </section>	                        <div class="iva-link" data-dgid="<%= _id %>" data-videoid="<%= videoId %>" data-tagid="<%= tagId %>">	                          <i class="iva-iconfont">&#xe60f;</i>	                          <a href="<%= link[0].url %>" target="_blank"><%= link[0].name %></a>	                        </div>	                      </div>	                    </div>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(135),i(85),i(138),i(82),i(4)],r=function(t,e,i,n,r){function o(e,i,n){t.apply(this,arguments),this.iva=e,this.data=i,this._initEvent(),this.iva.$ivaWrap.addClass("iva-windowOpen"),this.timestamp=(new Date).getTime()}return o.prototype=new t,o.prototype._initEvent=function(){if(this.$body.on("mouseenter",".iva-picwrap",this._preview.bind(this)),this.$body.on("click",".iva-left",this._sliderLeft.bind(this)),this.$body.on("click",".iva-right",this._sliderRight.bind(this)),this.$body.on("click",".iva-link",this._linkTrack.bind(this)),this.iva.isMobile){var t=0,e=!1;this.$body.on("touchstart touchmove",".iva-display",function(i){i.preventDefault(),i.stopPropagation();var n=i.originalEvent.touches[0];switch(i.type){case"touchstart":t=n.pageY,e=!0;break;case"touchmove":if(e){if(n.pageY-t>0)return this._sliderRight.bind(this)(),e=!1;if(n.pageY-t<0)return this._sliderLeft.bind(this)(),e=!1}}}.bind(this))}this._display(),this.$body.on("click",function(t){r(t.target).hasClass("iva-windowwrap")&&this.$body.find(".iva-close").trigger("click")}.bind(this))},o.prototype._display=function(){this.$body.off("click touchstart",".iva-close, .iva-bar__live");var t=r(this.data.event.currentTarget),e=this.$body.find(".iva-window"),i=t.offset(),n=this.$body.offset(),o=i.top-n.top,a=i.left-n.left,s="";s=a>=this.$body.width()/2?"iva-mgtv-window-noanimate right":"iva-mgtv-window-noanimate left",o>=this.$body.height()/2&&(s="iva-mgtv-window-noanimate bottom"),e.css({top:o,left:a}).addClass("iva-mgtv-alert-window-open").addClass(s).animate({top:"50%",left:"50%",opacity:"1"},100,function(){e.removeClass(s).addClass("iva-mgtv-window-animated"),r(".iva-close").off("click touchstart").on("click touchstart",function(){r(".iva-mgtv-alert-window").removeClass("iva-mgtv-window-animated").addClass(s).animate({top:o,left:a,opacity:0},50,function(){var e=t;setTimeout(function(){e.removeClass(s+"  iva-mgtv-alert-window-open"),this._close(),this._timestamp()}.bind(this),300)}.bind(this))}.bind(this))}.bind(this))},o.prototype._preview=function(t){var e=t.currentTarget,i=r(e).find("img").attr("src");this.$body.find(".iva-thumbnails .iva-crt").removeClass("iva-crt"),r(e).addClass("iva-crt"),this.$body.find(".iva-preview").css("backgroundImage","url("+i+")")},o.prototype._sliderLeft=function(){var t=this.$body.find(".iva-thumbnails .iva-crt"),e=t.prev();e.length||(e=r(t.parent().children()[t.parent().children().length-1])),t.removeClass("iva-crt"),e.addClass("iva-crt");var i=e.find("img").attr("src");this.$body.find(".iva-preview").css("backgroundImage","url("+i+")")},o.prototype._sliderRight=function(){var t=this.$body.find(".iva-thumbnails .iva-crt"),e=t.next();e.length||(e=r(t.parent().children()[0])),t.removeClass("iva-crt"),e.addClass("iva-crt");var i=e.find("img").attr("src");this.$body.find(".iva-preview").css("backgroundImage","url("+i+")")},o.prototype._linkTrack=function(t){var e=t.currentTarget;n("/api/tracks/clickLink","POST",{dg:r(e).data("dgid"),video:r(e).data("videoid"),tag:r(e).data("tagid")},function(t){console.log("link clicked track")})},o.prototype._timestamp=function(){n("/api/tracks/showDgTime","POST",{video:e.videoId,time:(new Date).getTime()-this.timestamp,tag:this.data.tagId,dg:this.data._id},function(t){console.log("dg showed track")})},o}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-window iva-window-goods iva-mgtv-alert-window">	                  <div class="iva-wrap">	                    <div class="iva-brand" <% if (!!icon) { %>style="background-image:url(<%= icon %>)"<% } %>></div>	                    <div class="iva-head">	                      <!--div class="iva-title"><%= tagName %></div-->	                      <i class="iva-iconfont iva-close">&#xe60d;</i>	                    </div>	                    <div class="iva-body">	                      <div class="iva-display">	                        <div class="iva-preview" style="background-image:url(<%= pic[0].url %>);"></div>	                        <div class="iva-thumbnails">	                          <% for (var i=0; i<pic.length; i++) { %>	                          <div class="iva-picwrap<% if (i==0) { %> iva-crt<% } %>">	                            <img src="<%= pic[i].url %>">	                          </div>	                          <% } %>	                        </div>	                        <!--i class="iva-iconfont iva-left">&#xe618;</i-->	                        <!--i class="iva-iconfont iva-right">&#xe617;</i-->	                      </div>	                      <div class="iva-details">	                        <div class="iva-corner"><i class="iva-iconfont">&#xe60e;</i></div>	                        <section class="iva-description">	                          <!--a class="iva-watermark" href="http://videojj.com" target="_black"></a-->	                          <h2 title="<%= title %>"><%= title %></h2>	                          <em><%= goods.price %></em>	                          <p><%= desc %></p>	                        </section>	                        <div class="iva-link" data-dgid="<%= _id %>" data-videoid="<%= videoId %>" data-tagid="<%= tagId %>">	                          <i class="iva-iconfont">&#xe60e;</i>	                          <a href="<%= goods.parsedUrl %>" target="_blank">立即购买</a>	                        </div>	                      </div>	                    </div>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div data-tagid="<%= tagId %>" data-dgid="<%= dgId %>" <% if (!!link) { %>data-link="<%= link %>"<% } %> class="iva-tagImgWrap" style="left:<%= x %>px;top:<%= y %>px;display:none;width:<%= width %>px;height:<%= height %>px">	                <% if (!!close) { %>	                <i class="iva-iconfont iva-delete">&#xe60d;</i>	                <% } %>	                <img src="<%= url %>"/>	                <i class="iva-iconfont iva-close">&#xe60a;</i>	                <div class="iva-imgDesc<% if (up) { %> iva-imgDesc-up<% } %>" <% if (!showTitle) { %>style="display:none;"<% } %>><%= title %></div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-window iva-window-cards">	                  <div class="iva-wrap">	                    <div class="iva-head">	                      <i class="iva-iconfont iva-close">&#xe60d;</i>	                    </div>	                    <div class="iva-body">	                      <div class="iva-display">	                        <div class="iva-preview" style="background-image:url(<%= pic[0].url %>);"></div>	                      </div>	                      <div class="iva-details">	                        <div class="iva-cardsTitle"><%= title %></div>	                        <div class="iva-cardsWrap">	                          <% for (var i=0; i<cards.pics.length; i++) { %>	                          <div data-cardid="<%= cards.pics[i]._id %>" class="iva-preview" style="background-image:url(<%= cards.pics[i].url %>);"></div>	                          <% } %>	                        </div>	                        <div class="iva-comment">	                          <p><%= cards.desc %></p>	                        </div>	                        <div class="iva-btn">	                          <a href="<%= cards.btnUrl %>" target="_black" class="iva-disable"><%= cards.btnTitle %></a>	                        </div>	                      </div>	                    </div>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){var e=i(115),n=i(142),r=function(t){this.brushTypeOnly="stroke",this.textPosition="end",e.call(this,t)};return r.prototype={type:"line",buildPath:function(t,e){if(e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType){var i=(e.lineWidth||1)*("dashed"==e.lineType?5:1);n(t,e.xStart,e.yStart,e.xEnd,e.yEnd,i)}}else t.moveTo(e.xStart,e.yStart),t.lineTo(e.xEnd,e.yEnd)},getRect:function(t){if(t.__rect)return t.__rect;var e=t.lineWidth||1;return t.__rect={x:Math.min(t.xStart,t.xEnd)-e,y:Math.min(t.yStart,t.yEnd)-e,width:Math.abs(t.xStart-t.xEnd)+e,height:Math.abs(t.yStart-t.yEnd)+e},t.__rect}},i(100).inherits(r,e),r}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t=[5,5];return function(e,i,n,r,o,a){if(e.setLineDash)return t[0]=t[1]=a,e.setLineDash(t),e.moveTo(i,n),void e.lineTo(r,o);a="number"!=typeof a?5:a;var s=r-i,l=o-n,c=Math.floor(Math.sqrt(s*s+l*l)/a);s/=c,l/=c;for(var h=!0,d=0;c>d;++d)h?e.moveTo(i,n):e.lineTo(i,n),h=!h,i+=s,n+=l;e.lineTo(r,o)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(135),i(140),i(1),i(85),i(4)],r=function(t,e,i,n,r){function o(e,i,n){t.apply(this,arguments),this.iva=e,this.data=i,this._initEvent(),this.iva.$ivaWrap.addClass("iva-windowOpen")}return o.prototype=new t,o.prototype._initEvent=function(){this.$body.on("click",function(t){r(t.target).hasClass("iva-windowwrap")&&this._close()}.bind(this)),this._initCardStatus(),this.$body.on("click",".iva-btn a",function(t){
r(this).hasClass("iva-disable")&&t.preventDefault()})},o.prototype._initCardStatus=function(){this.$body.find(".iva-cardsWrap .iva-preview").each(function(t,e){i.docCookies.getItem("$"+n.videoId+"$"+e.dataset.cardid+"$cardClicked")&&r(e).addClass("iva-crt")}),3==this.$body.find(".iva-cardsWrap .iva-crt").length&&(this.$body.find(".iva-btn .iva-disable").removeClass("iva-disable"),this.$body.find(".iva-cardsWrap .iva-preview").each(function(t,e){i.docCookies.removeItem("$"+n.videoId+"$"+e.dataset.cardid+"$cardClicked")}),window.addEventListener("beforeunload",function(){this.$body.find(".iva-cardsWrap .iva-preview").each(function(t,e){i.docCookies.removeItem("$"+n.videoId+"$"+e.dataset.cardid+"$cardClicked")})}.bind(this)))},o}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-trackBox" data-tagName="<%= tagName %>" data-tagId="<%= tagId %>" data-dgId="<%= dgId %>">	                <div class="iva-tl"></div>	                <div class="iva-tr"></div>	                <div class="iva-bl"></div>	                <div class="iva-br"></div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(135),i(85),i(91),i(82),i(4),i(146),i(147)],r=function(t,e,i,n,r,o,a){function s(e,i){[].push.call(arguments,o),t.apply(this,arguments),this.iva=e,this.data=i,this._initEvent(),this.iva.$ivaWrap.addClass("iva-windowOpen"),this.timestamp=Date.now()}return s.prototype=new t,s.prototype._initEvent=function(){if(this.$body.find(".iva-link").on("click",this._handleLink.bind(this)),e.dgs[this.data._id]){var t=e.dgs[this.data._id],i=this.data.qoptions[t];this.$body.find(".iva-action-wrap").addClass("__complete").find(".iva-action-complete").text(i.count+"人"+i.title).fadeIn().end().next().addClass("__complete")}var n={"水瓶座":"&#xe609;","双鱼座":"&#xe60a;","处女座":"&#xe60b;","巨蟹座":"&#xe60c;","天秤座":"&#xe60d;","摩羯座":"&#xe60e;","狮子座":"&#xe60f;","天蝎座":"&#xe610;","射手座":"&#xe611;","双子座":"&#xe612;","金牛座":"&#xe613;","牡羊座":"&#xe614;"};this.$body.find(".iva-xz").html(n[this.data.figure.sign]||""),this._display(),this.$body.on("click",function(t){r(t.target).hasClass("iva-windowwrap")&&this.$body.find(".iva-close").trigger("click")}.bind(this)),this.$body.find(".iva-action-wrap").on("click",this._handleAction.bind(this)),this.$body.find(".iva-action-eclipse").on("click","li",this._handleVote.bind(this))},s.prototype._handleLink=function(t){var e=(r(t.currentTarget),this.$body.find(".iva-window"));this.isBlock||(this.isBlock=!0,e.hasClass("__open")?(this.$body.find(".iva-relation-wrap").fadeOut(500).delay(500).queue(function(){r(this).remove()}),e.removeClass("__open").css("left","50%").one("transitionend",function(){this.isBlock=!1}.bind(this)).find(".iva-link a").contents().last().replaceWith("关系")):r.get("http://videojj.com/api/spider/who/v2/?keyword="+encodeURI(this.data.title)).done(function(t){var n=parseInt(e.css("left"));if(0==t.status&&t.msg.relation.length>=1){e.addClass("__open").css("left",n-200).find(".iva-link a").contents().last().replaceWith("返回");var o=r(ejs.render(a,{header:this.data.pic[0].url,relation:t.msg.relation.slice(0,4)})).css("left",n+200).appendTo(this.$body).one("transitionend",function(){this.isBlock=!1}.bind(this));o.find(".iva-relation-me").addClass("__show"),o.find(".iva-relation").each(function(){r(this).delay(~~(500*Math.random())).queue(function(){r(this).addClass("__show")})}),r(window).one("resize",function(t){this.$body.find(".iva-link").trigger("click")}.bind(this))}else i({type:"error",msg:"服务不可用"}),this.isBlock=!1}.bind(this)))},s.prototype._handleVote=function(t){var i=r(t.currentTarget);if(!i.parent().hasClass("__complete")){var o=this.$body.find(".iva-action-complete"),a=i.data().index,s=this.data.qoptions[a].count,l=this.data.qoptions[a].title,c={dgId:this.data._id,optionId:this.data.qoptions[a]._id,tagId:this.data.tagId,videoId:this.data.videoId};n("/api/dgs/vote","POST",c,function(t){s++;var n=s+"人"+l;i.find("small").text(s+"人"),o.text(n).parent().addClass("__complete").end().fadeIn().parent().next().removeClass("__show").addClass("__complete"),e.dgs[c.dgId]=a}.bind(this))}},s.prototype._handleAction=function(t){var e=r(t.currentTarget),i=e.next();i[i.hasClass("__show")?"removeClass":"addClass"]("__show")},s.prototype._display=function(){this.$body.off("click touchstart",".iva-close, .iva-bar__live");var t=r(this.data.event.currentTarget),e=this.$body.find(".iva-window"),i=t.offset(),n=this.$body.offset(),o=i.top-n.top,a=i.left-n.left,s="";s=a>=this.$body.width()/2?"iva-mgtv-window-noanimate right":"iva-mgtv-window-noanimate left",o>=this.$body.height()/2&&(s="iva-mgtv-window-noanimate bottom"),e.css({top:o,left:a}).addClass("iva-mgtv-alert-window-open").addClass(s).animate({top:"50%",left:"50%",opacity:"1"},100,function(){e.removeClass(s).addClass("iva-mgtv-window-animated"),this.$body.find(".iva-close").off("click touchstart").on("click touchstart",function(){r(".iva-mgtv-alert-window").removeClass("iva-mgtv-window-animated").addClass(s).animate({top:o,left:a,opacity:0},50,function(){var e=t;setTimeout(function(){e.removeClass(s+"  iva-mgtv-alert-window-open"),this._close(),this._timestamp()}.bind(this),300)}.bind(this))}.bind(this))}.bind(this))},s.prototype._timestamp=function(){n("/api/tracks/showDgTime","POST",{video:e.videoId,time:Date.now()-this.timestamp,tag:this.data.tagId,dg:this.data._id},function(t){console.log("dg showed track")})},s}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-window iva-mgtv-alert-window __yue __person" style="width:240px;">	                  <div class="iva-wrap">	                    <div class="iva-head">	                      <i class="iva-iconfont iva-close">&#xe60d;</i>	                    </div>	                    <div class="iva-body">	                      <div class="iva-display">	                        <div class="iva-preview" style="background-image:url(<%= pic[0].url %>);"></div>	                      </div>	                      <div class="iva-details">	                        <section class="iva-description">	                          <h2><%= title %><small class="subheader"><i class="iva-iconfont __yue iva-xz"></i><%= figure.sign %></small></h2>	                          <p><%= desc %></p>	                        </section>	                        <footer class="iva-link" data-dgid="<%= _id %>" data-videoid="<%= videoId %>" data-tagid="<%= tagId %>">	                          <a href="javascript:void(0)"><i class="iva-iconfont __yue">&#xe608;</i>关系</a>	                        </footer>	                      </div>	                    </div>	                    <div class="iva-action-wrap">	                      <div class="iva-action">	                        <i class="iva-iconfont __yue">&#xe603;</i>	                      </div>	                      <div class="iva-action-complete"></div>	                    </div>	                    <ul class="iva-action-eclipse">	                      <li data-index="0"><span class="iva-action-eclipse-info"><small><%= qoptions[0].count %>人</small><%= qoptions[0].title %></span></li>	                      <li data-index="1"><span class="iva-action-eclipse-info"><small><%= qoptions[1].count %>人</small><%= qoptions[1].title %></span></li>	                      <li data-index="2"><span class="iva-action-eclipse-info"><small><%= qoptions[2].count %>人</small><%= qoptions[2].title %></span></li>	                    </ul>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="iva-relation-wrap">	                <section class="iva-relation-me"><figure style="background-image:url(<%= header %>);"></figure></section>	                <div class="iva-relation-other">	                  <% for (var i=0;i<relation.length;i++) { %>	                    <section class="iva-relation">	                      <div class="iva-relation-thumbnail">	                          <header><%= relation[i].relation_ship %></header>	                          <figure style="background-image:url(<%= relation[i].header %>);"></figure>	                          <footer><%= relation[i].relation_name %></footer>	                      </div>	                    </section>	                  <% } %>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(135),i(85),i(91),i(82),i(4),i(149)],r=function(t,e,i,n,r,o){function a(e,i){[].push.call(arguments,o),t.apply(this,arguments),this.iva=e,this.data=i,this._initEvent(),this.iva.$ivaWrap.addClass("iva-windowOpen"),this.timestamp=Date.now()}return a.prototype=new t,a.prototype._initEvent=function(){if(e.dgs[this.data._id]){var t=e.dgs[this.data._id],i=this.data.qoptions[t];this.$body.find(".iva-action-wrap").addClass("__complete").find(".iva-action-complete").text(i.count+"人"+i.title).fadeIn().end().next().addClass("__complete")}this.$body.find(".iva-link").on("click",this._handleLink.bind(this)),this._display(),this.$body.on("click",function(t){r(t.target).hasClass("iva-windowwrap")&&this.$body.find(".iva-close").trigger("click")}.bind(this)),this.$body.find(".iva-action-wrap").on("click",this._handleAction.bind(this)),this.$body.find(".iva-action-eclipse").on("click","li",this._handleVote.bind(this))},a.prototype._handleLink=function(t){r(t.currentTarget)},a.prototype._handleVote=function(t){var i=r(t.currentTarget);if(!i.parent().hasClass("__complete")){var o=this.$body.find(".iva-action-complete"),a=i.data().index,s=this.data.qoptions[a].count,l=this.data.qoptions[a].title,c={dgId:this.data._id,optionId:this.data.qoptions[a]._id,tagId:this.data.tagId,videoId:this.data.videoId};n("/api/dgs/vote","POST",c,function(t){s++;var n=s+"人"+l;i.find("small").text(s+"人"),o.text(n).parent().addClass("__complete").end().fadeIn().parent().next().removeClass("__show").addClass("__complete"),e.dgs[c.dgId]=a}.bind(this))}},a.prototype._handleAction=function(t){var e=r(t.currentTarget),i=e.next();i[i.hasClass("__show")?"removeClass":"addClass"]("__show")},a.prototype._display=function(){this.$body.off("click touchstart",".iva-close, .iva-bar__live");var t=r(this.data.event.currentTarget),e=this.$body.find(".iva-window"),i=t.offset(),n=this.$body.offset(),o=i.top-n.top,a=i.left-n.left,s="";s=a>=this.$body.width()/2?"iva-mgtv-window-noanimate right":"iva-mgtv-window-noanimate left",o>=this.$body.height()/2&&(s="iva-mgtv-window-noanimate bottom"),e.css({top:o,left:a}).addClass("iva-mgtv-alert-window-open").addClass(s).animate({top:"50%",left:"50%",opacity:"1"},100,function(){e.removeClass(s).addClass("iva-mgtv-window-animated"),this.$body.find(".iva-close").off("click touchstart").on("click touchstart",function(){r(".iva-mgtv-alert-window").removeClass("iva-mgtv-window-animated").addClass(s).animate({top:o,left:a,opacity:0},50,function(){var e=t;setTimeout(function(){e.removeClass(s+"  iva-mgtv-alert-window-open"),this._close(),this._timestamp()}.bind(this),300)}.bind(this))}.bind(this))}.bind(this))},a.prototype._timestamp=function(){n("/api/tracks/showDgTime","POST",{video:e.videoId,time:Date.now()-this.timestamp,tag:this.data.tagId,dg:this.data._id},function(t){console.log("dg showed track")})},a}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-window iva-mgtv-alert-window __yue __location" style="width:390px;"">	                  <div class="iva-wrap">	                    <div class="iva-brand" style="background-image:url(<%= logo %>)"></div>	                    <div class="iva-head">	                      <i class="iva-iconfont iva-close">&#xe60d;</i>	                    </div>	                    <div class="iva-body">	                      <div class="iva-display">	                        <div class="iva-preview" style="background-image:url(<%= pic[0].url %>);"></div>	                      </div>	                      <div class="iva-details">	                        <section class="iva-description">	                          <h2><%= title %></h2>	                          <p><%= desc %></p>	                        </section>	                        <footer class="iva-link" data-dgid="<%= _id %>" data-videoid="<%= videoId %>" data-tagid="<%= tagId %>">	                          <div class="iva-btn">	                            <a href="<%= place.meishi %>" target="_blank">	                              <i class="iva-iconfont __yue">&#xe601;</i>	                            美食</a>	                          </div>	                          <div class="iva-btn">	                            <a href="<%= place.youji %>" target="_blank">	                              <i class="iva-iconfont __yue">&#xe602;</i>	                            游记</a>	                          </div>	                          <div class="iva-btn">	                            <a href="<%= place.zhusu %>" target="_blank">	                              <i class="iva-iconfont __yue">&#xe604;</i>	                            住宿</a>	                          </div>	                        </footer>	                      </div>	                    </div>	                    <div class="iva-action-wrap">	                      <div class="iva-action">	                        <i class="iva-iconfont __yue">&#xe603;</i>	                      </div>	                      <div class="iva-action-complete"></div>	                    </div>	                    <ul class="iva-action-eclipse">	                      <li data-index="0"><span class="iva-action-eclipse-info"><small><%= qoptions[0].count %>人</small><%= qoptions[0].title %></span></li>	                      <li data-index="1"><span class="iva-action-eclipse-info"><small><%= qoptions[1].count %>人</small><%= qoptions[1].title %></span></li>	                      <li data-index="2"><span class="iva-action-eclipse-info"><small><%= qoptions[2].count %>人</small><%= qoptions[2].title %></span></li>	                    </ul>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(135),i(85),i(91),i(82),i(4),i(151)],r=function(t,e,i,n,r,o){function a(e,i){[].push.call(arguments,o),console.debug(i),t.apply(this,arguments),this.iva=e,this.data=i,this._initEvent(),this.iva.$ivaWrap.addClass("iva-windowOpen"),this.timestamp=Date.now()}return a.prototype=new t,a.prototype._initEvent=function(){this.$body.find(".iva-link").on("click",this._handleLink.bind(this)),this._display(),this.$body.on("click",function(t){r(t.target).hasClass("iva-windowwrap")&&this.$body.find(".iva-close").trigger("click")}.bind(this))},a.prototype._handleLink=function(t){var e=r(t.currentTarget);n("/api/tracks/clickLink","POST",{dg:e.data("dgid"),video:e.data("videoid"),tag:e.data("tagid")},function(t){console.log("link clicked track")})},a.prototype._display=function(){this.$body.off("click touchstart",".iva-close, .iva-bar__live");var t=r(this.data.event.currentTarget),e=this.$body.find(".iva-window"),i=t.offset(),n=this.$body.offset(),o=i.top-n.top,a=i.left-n.left,s="";s=a>=this.$body.width()/2?"iva-mgtv-window-noanimate right":"iva-mgtv-window-noanimate left",o>=this.$body.height()/2&&(s="iva-mgtv-window-noanimate bottom"),e.css({top:o,left:a}).addClass("iva-mgtv-alert-window-open").addClass(s).animate({top:"50%",left:"50%",opacity:"1"},100,function(){e.removeClass(s).addClass("iva-mgtv-window-animated"),this.$body.find(".iva-close").off("click touchstart").on("click touchstart",function(){r(".iva-mgtv-alert-window").removeClass("iva-mgtv-window-animated").addClass(s).animate({top:o,left:a,opacity:0},50,function(){var e=t;setTimeout(function(){e.removeClass(s+"  iva-mgtv-alert-window-open"),this._close(),this._timestamp()}.bind(this),300)}.bind(this))}.bind(this))}.bind(this))},a.prototype._timestamp=function(){n("/api/tracks/showDgTime","POST",{video:e.videoId,time:Date.now()-this.timestamp,tag:this.data.tagId,dg:this.data._id},function(t){console.log("dg showed track")})},a}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-window iva-mgtv-alert-window __yue __brand" style="width:240px;">	                  <div class="iva-wrap">	                    <% if (!!logo) { %>	                    <div class="iva-brand" style="background-image:url(<%= logo %>)"></div>	                    <% } %>	                    <div class="iva-head">	                      <i class="iva-iconfont iva-close">&#xe60d;</i>	                    </div>	                    <div class="iva-body">	                      <div class="iva-display">	                        <div class="iva-preview" style="background-image:url(<%= pic[0].url %>);"></div>	                      </div>	                      <div class="iva-details">	                        <section class="iva-description">	                          <figure style="background-image:url(<%= pic[1].url %>);"></figure>	                          <div class="__right">	                            <div class="iva-price"><%= goods.price %></div>	                            <div class="iva-desc"><%= desc %></div>	                          </div>	                        </section>	                        <footer class="iva-link" data-dgid="<%= _id %>" data-videoid="<%= videoId %>" data-tagid="<%= tagId %>">	                          <a href="<%= goods.parsedUrl %>" target="_blank"><i class="iva-iconfont">&#xe61e;</i>已有<%= clickNum + 1000 %>人抢！</a>	                        </footer>	                      </div>	                    </div>	                    <div class="iva-action-wrap">	                      <div class="iva-action">	                        <i class="iva-iconfont __yue">&#xe603;</i>	                      </div>	                      <div class="iva-action-complete"></div>	                    </div>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="iva-tip iva-tip-<%= direction %> <%= effect %> <% if (!!hidden) { %>iva-tip-hidden<% } %> f-cb" style="left:<%= coorX %>px;top:<%= coorY %>px;" data-dgid="<%= dgId %>" data-tagid="<%= tagId %>">	                <div class="iva-tagIcon iva-tagIcon-<%= dgCat %>" style="<% if (!!icon) { %>background-image:url(<%= icon %>);<% } %>"></div>	                <p class="iva-txt" style="font-size:<%= tagFontSize %>px;background-color:<%= color %>;"><%= title %></p>	                <% if (close) { %>	                <i class="iva-iconfont iva-delete" style="font-size:<%= tagFontSize %>px;">&#xe60d;</i>	                <% } %>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return function(t){function e(e,n){var r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']")[0],!!a&&i(a)):!1):(/^(input|select|textarea|button|object)$/.test(s)?!e.disabled:"a"===s?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return n&&"static"===e.css("position")?!1:r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&e(i,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,o){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,n(this,e)+"px")})},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,r=t(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,i)}}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return function(t){var e=!1;return t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&t.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),e=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(n){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),
left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],void(n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",e),n.dropped=o.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,o=!1,a=n.scrollParentNotHidden[0],s=n.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var r,o,a,s,l,c,h,d,u,p,f=n.options,v=f.snapTolerance,g=i.offset.left,m=g+n.helperProportions.width,y=i.offset.top,_=y+n.helperProportions.height;for(u=n.snapElements.length-1;u>=0;u--)l=n.snapElements[u].left-n.margins.left,c=l+n.snapElements[u].width,h=n.snapElements[u].top-n.margins.top,d=h+n.snapElements[u].height,l-v>m||g>c+v||h-v>_||y>d+v||!t.contains(n.snapElements[u].item.ownerDocument,n.snapElements[u].item)?(n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(h-_)<=v,o=Math.abs(d-y)<=v,a=Math.abs(l-m)<=v,s=Math.abs(c-g)<=v,r&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=r||o||a||s,"outer"!==f.snapMode&&(r=Math.abs(h-y)<=v,o=Math.abs(d-_)<=v,a=Math.abs(l-g)<=v,s=Math.abs(c-m)<=v,r&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[u].snapping&&(r||o||a||s||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=r||o||a||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,o=n.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}}),t.ui.draggable}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0?!0:(e[n]=1,r=e[n]>0,e[n]=0,r)},_create:function(){var e,i,n,r,o,a=this,s=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),o="ui-resizable-"+n,r=t("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:s.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(e){var i,n,r,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){s.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),a.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,s=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),l?(i=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,r,o,a,s,l,c=this.options,h=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:h.sizeDiff.height,o=n?0:h.sizeDiff.width,a={width:h.helper.width()-o,height:h.helper.height()-r},s=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:l,left:s})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=s-e.minWidth),n&&c&&(t.left=s-e.maxWidth),a&&h&&(t.top=l-e.minHeight),r&&h&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(r[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,h&&c?{top:h,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,o,a,s,l=t(this).resizable("instance"),c=l.options,h=l.element,d=c.containment,u=d instanceof t?d.get(0):/parent/.test(d)?h.parent().get(0):d;u&&(l.containerElement=t(u),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(u),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(u,"left")?u.scrollWidth:o,s=l._hasScroll(u)?u.scrollHeight:r,l.parentData={element:u,left:n.left,top:n.top,width:a,height:s}))},resize:function(e){var i,n,r,o,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,h=a._aspectRatio||e.shiftKey,d={top:0,left:0},u=a.containerElement,p=!0;u[0]!==document&&/static/.test(u.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),h&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),h&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),n=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,h&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,h&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,o=n.originalSize,a=n.originalPosition,s={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0};t(r.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(s[e]||0);i&&i>=0&&(r[e]=i||null)}),e.css(r)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,a=i.originalPosition,s=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,h=l[1]||1,d=Math.round((r.width-o.width)/c)*c,u=Math.round((r.height-o.height)/h)*h,p=o.width+d,f=o.height+u,v=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,m=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,m&&(p+=c),y&&(f+=h),v&&(p-=c),g&&(f-=h),/^(se|s|e)$/.test(s)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.top=a.top-u):/^(sw)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.left=a.left-d):((0>=f-h||0>=p-c)&&(e=i._getPaddingPlusBorderDimensions(this)),f-h>0?(i.size.height=f,i.position.top=a.top-u):(f=h-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-c>0?(i.size.width=p,i.position.left=a.left-d):(p=c-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(135),i(91),i(82)],r=function(t,e,i){function n(e,i,n){t.apply(this,arguments),this._initEvent()}return n.prototype=new t,n.prototype._initEvent=function(){this.$body.on("click","button",function(t){t.stopPropagation(),i("/api/apps/requireRight","POST",{reason:this.$body.find("textarea").val()},function(t){e({type:"success",msg:"已经提交申请，请等待审核"}),this._close()}.bind(this))}.bind(this))},n}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-apply">	                  <i class="iva-iconfont iva-close">&#xe60d;</i>	                  <h2>权限申请</h2>	                  <textarea placeholder="申请理由"></textarea>	                  <button>提交</button>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-imgEditor">	                  <div class="iva-vote-style-preview style-<%=vote.style%>" style="left:<%= coordinate.offsetX %>px;top:<%= coordinate.offsetY %>px;">	                    <img src="<%= pic[0].url %>" />	                    <div class="iva-vote">	                      <div class="iva-question"> <%= title %> </div>	                      <div class="iva-options">	                      <% for (var i=0; i<vote.options.length; i++) { %> 	                        <div class="iva-option">	                          <label class="iva-radio-inline">	                            <input type="radio" name="option">	                            <span class="iva-option-title"> <%= vote.options[i].title %></span>	                          </label>	                        </div>	                      <% }%>	                      </div>	                      <div class="iva-vote-submit">	                        <button class="iva-btn">投票</button>	                      </div>	                    </div>	                  </div>	                  <div class="iva-imgParams">	                    <div class="iva-fill">banner展示时间为<input type="number" value="<%= tagDuration %>" min="1" max="3600"/>秒</div>	                    <div class="iva-btnWrap">	                      <button class="iva-btn iva-back">返回上一步</button>	                      <button class="iva-btn iva-submit">确认</button>	                    </div>	                  </div>	                </div>	              </div>';
return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(1),i(4)],r=function(t,e){return function(i,n){e(i).on("input",function(e){for(var i=e.target;t.lengthInUtf8Bytes(i.value)>n;)i.value=i.value.slice(0,-1)})}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(128),i(82),i(162),i(135),i(91),i(160),i(85),i(4)],r=function(t,e,i,n,r,o,a,s){function l(t,e,i){n.apply(this,arguments),this.iva=t,this.data=e,this.list=[],this._initEvent(),this._getList(0,11)}return l.prototype=new n,l.prototype._initEvent=function(){this.$body.on("click",".iva-listwrap button",this._getMore.bind(this)),this.$body.on("click",".iva-list li",this._quote.bind(this)),this.$body.on("click",".iva-refresh",this._refresh.bind(this)),o(this.$body.find(".iva-head .iva-title").get(0),36),this.$body.on("click",".iva-search",this._refresh.bind(this)),this.$body.on("keypress",".iva-searchArea input",function(){13==event.keyCode&&this._refresh()}.bind(this)),this.$body.on("click",".iva-nextStep",this._nextStep.bind(this)),this.$body.on("click",".iva-listhead h2",function(t){this.$body.find(".iva-listhead .iva-crt").removeClass("iva-crt");var e=t.target;s(e).addClass("iva-crt"),this.$body.find(".iva-list [data-index]").remove(),"0"==s(e).data("pub")?(this.$body.find(".iva-list li:eq(0)").show(),this.list=[],this._getList(0,11)):(this.$body.find(".iva-list li:eq(0)").hide(),this.list=[],this._getList(0,12))}.bind(this))},l.prototype._getList=function(i,n){e("/api/dgs/searchUserDg","GET",{cat:1,offset:i,ps:n,kw:this.$body.find(".iva-searchArea input").val(),pub:this.$body.find(".iva-listhead .iva-crt").data().pub},function(e){var i=s(ejs.render(t,e));this.list=this.list.concat(e.msg),this.$body.find(".iva-list").append(i),this.$body.find(".iva-listwrap").animate({scrollTop:this.$body.find(".iva-list").height()},500),e.length<12||this.list.length==e.total?this.$body.find(".iva-listwrap button").hide():this.$body.find(".iva-listwrap button").show()}.bind(this))},l.prototype._quote=function(t){t.stopPropagation();var e=t.currentTarget;e.dataset.index&&(this.$body.find(".iva-list .iva-crt").removeClass("iva-crt"),s(e).addClass("iva-crt"))},l.prototype._nextStep=function(t){t.stopPropagation();var e=this.$body.find(".iva-list .iva-crt").get(0);if(!e)return void r({type:"error",msg:"请选择一个百科"});var n=parseInt(e.dataset.index);if("number"==typeof n){var o=this.list[n];o.tagData=this.data,o.dgCat=1,this._hide(),new i(this.iva,o,this)}},l.prototype._getMore=function(t){t.stopPropagation(),this._getList(parseInt(this.list.length),12)},l.prototype._refresh=function(t){this.$body.find(".iva-list [data-index]").remove(),this.list=[],this._getList(0,11)},l}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(82),i(160),i(91),i(85),i(131),i(153),i(130),i(154),i(155),i(156),i(157),i(163),i(164),i(158),i(4)],r=function(t,e,i,n,r,o,a,s,l,c,h,d,u,p,f){function v(t,e,i){this.iva=t,this.data=e,this.firstStep=i,e.tagData.left=this.iva.$ivaWrap.width()-e.tagData.offsetX<240?!1:!0,e.direction=e.tagData.left?"left":"right",this.$body=f(ejs.render(d,e)),this._init()}return o(f),a(f),s(f),l(f),c(f),v.prototype._init=function(){this.$body.appendTo(this.iva.$ivaWrap),this.$body.find('.iva-imgParams input[type="number"]').val(this.iva.options.tagDuration),this._initEvent(),this._getIconList()},v.prototype._initEvent=function(){this.$body.on("click",function(t){t.stopPropagation()}),this.$body.on("keydown",function(t){t.stopPropagation()}),this.$body.on("keyup",function(t){t.stopPropagation()}),this.$body.on("keypress",function(t){t.stopPropagation()}),this.$body.on("mouseenter",function(t){t.stopPropagation()}),this.$body.on("mousedown",function(t){3==t.which&&t.stopPropagation()}),e(f(".iva-tip-preview input").get(0),36),f(".iva-tip-preview input").focus(),f(".iva-tip-preview .iva-goback").on("click",this._back.bind(this)),f(".iva-tip-preview .iva-submit").on("click",this._submit.bind(this)),this.$body.find(".iva-imgParams").draggable({stop:function(t,e){f(t.target).css("height","auto")}.bind(this)}),this.$body.on("click",".iva-setting",function(){var t=this.$body.find(".iva-imgParams");t.hasClass("iva-imgParams-custom")?t.removeClass("iva-imgParams-custom"):t.addClass("iva-imgParams-custom")}.bind(this)),this.$body.on("click",".iva-checkbox",function(){f(this).hasClass("iva-checked")?f(this).removeClass("iva-checked"):f(this).addClass("iva-checked")}),this.$body.on("click",".iva-iconList li",function(t){var e=f(t.target);e.data("icon")&&(e.hasClass("iva-crt")?(e.removeClass("iva-crt"),f(".iva-tip .iva-tagIcon").css("backgroundImage","")):(this.$body.find(".iva-iconList .iva-crt").removeClass("iva-crt"),e.addClass("iva-crt"),f(".iva-tip .iva-tagIcon").css("backgroundImage","url("+e.data("icon")+")")))}.bind(this)),this.$body.on("click",".iva-colorList li",function(t){var e=f(t.target);e.hasClass("iva-crt")?(e.removeClass("iva-crt"),f(".iva-tip .iva-txt").css("backgroundColor","")):(this.$body.find(".iva-colorList .iva-crt").removeClass("iva-crt"),e.addClass("iva-crt"),f(".iva-tip .iva-txt").css("backgroundColor",e.data("color")))}.bind(this)),this.$body.on("click",".iva-effectList li",function(t){var e=f(t.target),i=f(".iva-tip");e.hasClass("iva-crt")?(e.removeClass("iva-crt"),i.removeClass(e.data("class"))):(this.$body.find(".iva-effectList .iva-crt").removeClass("iva-crt"),e.addClass("iva-crt"),i.removeClass("iva-tip-rollover"),i.removeClass("iva-tip-breathe"),i.removeClass("iva-tip-blade"),i.removeClass("iva-tip-swing"),i.addClass(f(t.target).data("class")))}.bind(this))},v.prototype._getIconList=function(){t("/api/tagIcons/searchUserTagIcon","GET",{ps:99,offset:0},function(t){var e=f(ejs.render(u,{list:t.msg}));e.appendTo(this.$body.find(".iva-iconListWrap"))}.bind(this))},v.prototype._back=function(t){t.stopPropagation(),this.$body.remove(),this.firstStep._show()},v.prototype._submit=function(e){e.stopPropagation();var o=n.power.charAt(5);if("1"==o){var a={},s=f(".iva-tip-preview input").val().trim();if(!s)return void i({type:"error",msg:"云链标题不能为空"});a.title=s,a.cat=2,a.dg=this.data._id,a.dgCat=this.data.dgCat,a.v=n.videoId,a.x=this.data.tagData.offsetX/this.iva.$ivaWrap.width(),a.y=this.data.tagData.offsetY/this.iva.$ivaWrap.height(),a.time=parseInt(1e3*this.iva.player.get_time()),a.type=this.$body.find(".iva-trackingCheckbox.iva-checked").length,a.auto_hidden=this.$body.find(".iva-hiddenCheckbox.iva-checked").length;var l=this.$body.find('.iva-imgParams input[type="number"]'),c=parseInt(l.val());if(!c)return l.val(this.iva.options.tagDuration),void i({type:"error",msg:"展示时间格式不正确"});if(1>c)return l.val(1),void i({type:"error",msg:"展示时间不能小于1秒"});if(c>3600)return l.val(3600),void i({type:"error",msg:"展示时间不能大于3600秒"});a.duration=1e3*c,a.islive=!!this.iva.options.live;var d=this.$body.find(".iva-iconList .iva-crt");d.length&&(a.icon=d.data("iconid"));var u=this.$body.find(".iva-colorList .iva-crt");u.length&&(a.color=u.data("color"));var v=this.$body.find(".iva-effectList .iva-crt");v.length&&(a.effect=v.data("class")),t("/api/tags","POST",a,function(t){if(this.firstStep._close(),this._close(),this.iva.options.live||new r(this.iva,{title:a.title,type:0,auto_hidden:a.auto_hidden,_id:t.msg._id,dg:{_id:t.msg.dg||a.dg,cat:a.dgCat},dot_user:{x:a.x,y:a.y},icon:{icon:this.$body.find(".iva-iconList li.iva-crt").data("icon")?this.$body.find(".iva-iconList li.iva-crt").data("icon"):""},color:this.$body.find(".iva-colorList li.iva-crt").data("color"),effect:this.$body.find(".iva-effectList li.iva-crt").data("class")}),i({type:"success",msg:"成功添加云链"+(a.type?"，正在为你光速计算轨迹":"")}),!a.auto_hidden)try{this.iva.player.insert_dots([{id:t.msg._id,time:this.iva.player.get_time(),title:a.title}])}catch(e){console.error(e)}}.bind(this))}else this.$body.remove(),this.firstStep.$body.remove(),new h(this.iva,{},p)},v.prototype._close=function(){this.$body.remove(),this.iva.player.play()},v}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-tip iva-tip-<%= direction %> iva-tip-preview f-cb" style="top:<%= tagData.offsetY %>px;left:<%= tagData.offsetX-(tagData.left?0:240) %>px;">	                <div class="iva-tagIcon iva-tagIcon-<%= dgCat %>"></div>	                <p class="iva-txt" style="font-size:16px;"><input type="text" placeholder="云链标题"/></p>	                <div  class="iva-tagOperator">	                  <i class="iva-iconfont iva-submit">&#xe624;</i>	                  <!--i class="iva-iconfont iva-preview">预览</i-->	                  <i class="iva-iconfont iva-goback">&#xe622;</i>	                </div>	              </div>	              <div class="iva-windowwrap">	                <div class="iva-imgEditor">	                  <div class="iva-imgParams">	                    <div class="iva-customWrap">	                      <div class="iva-fill iva-iconListWrap">	                        <h3>图标</h3>	                      </div>	                      <div class="iva-fill">	                        <h3>配色</h3>	                        <ul class="iva-colorList">	                          <li data-color="rgba(255,196,82,0.6)" style="background-color:#ffc452;">字</li>	                          <li data-color="rgba(41,171,226,0.6)" style="background-color:#29abe2;">字</li>	                          <li data-color="rgba(237,28,36,0.6)" style="background-color:#ed1c24;">字</li>	                          <li data-color="rgba(57,181,74,0.6)" style="background-color:#39b54a;">字</li>	                          <li data-color="rgba(0,0,0,0)" style="background-color:transparent;">字</li>	                        </ul>	                      </div>	                      <div class="iva-fill">	                        <h3>展示特效</h3>	                        <ul class="iva-effectList">	                          <li data-class="iva-tip-rollover">翻牌</li>	                          <li data-class="iva-tip-breathe">呼吸</li>	                          <li data-class="iva-tip-blade">刀光</li>	                          <li data-class="iva-tip-swing">摆动</li>	                        </ul>	                      </div>	                    </div>	                    <div class="iva-fill">云链展示时间为<input type="number" min="1" max="3600"/>秒</div>	                    <div class="iva-fill">	                      <span class="iva-checkbox iva-trackingCheckbox <% if (tagData.tagTrack) { %>iva-checked<% } %>"></span>	                      <label for="showImgDescTrue">选择目标追踪（Beta）</label>	                      <!--p class="iva-comment">跟踪框会随目标物体移动，轨迹计算大概需要3~5分钟</p-->	                    </div>	                    <div class="iva-fill">	                      <span class="iva-checkbox iva-hiddenCheckbox <% if (!tagData.tagShow) { %>iva-checked<% } %>"></span>	                      <label for="showImgDescTrue">默认隐藏 鼠标移动时显示</label>	                      <!--p class="iva-comment">默认隐藏，鼠标移动后的3秒内显示</p-->	                    </div>	                    <div class="iva-btnWrap">	                      <a class="iva-setting iva-customSetting">自定义设置></a>	                      <a class="iva-setting iva-defaultSetting">默认设置></a>	                    </div>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(83)],r=function(t){var e='<ul class="iva-iconList">	                <% for (var i=0; i<list.length; i++) { %>	                <li data-icon="<%= list[i].icon %>" data-iconid="<%= list[i]._id %>" style="background-image:url(<%= list[i].icon %>);"></li>	                <% } %>	                <li><a href="'+t+'/console/resource/tagIcons#new" target="_blank"><i class="iva-iconfont iva-add">&#xe60c;</i></a></li>	              </ul>';return e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(83)],r=function(t){var e='<div class="iva-windowwrap">	                <div class="iva-editer iva-editer-img">	                  <div class="iva-body">	                    <div class="iva-reuse">	                      <div class="iva-listhead">	                        <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">1</i></span>	                        <span class="iva-searchArea"><input type="text" placeholder="搜索百科库"/><i class="iva-iconfont iva-search">&#xe613;</i></span>	                        <h2 class="iva-crt" data-pub="0">我的云图</h2>	                        <h2 data-pub="2">项目云图</h2>	                        <h2 data-pub="1">V荐云图</h2>	                        <i class="iva-iconfont iva-close">&#xe60d;</i>	                        <i class="iva-iconfont iva-refresh">&#xe614;</i>	                      </div>	                      <div class="iva-listwrap">	                        <ul class="iva-list">	                          <li>	                            <a href="'+t+'/console/resource/pictures#new" target="_blank" class="iva-imgwrap iva-imgwrap-upload" title="去资源库创建">	                              <i class="iva-iconfont">&#xe60c;</i>	                              <i class="iva-createResource">新建</i>	                            </a>	                          </li>	                        </ul>	                        <div class="iva-btn">	                          <button>加载更多</button>	                        </div>	                      </div>	                    </div>	                  </div>	                  <div class="iva-head">	                    <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">2</i></span>	                    <input placeholder="云链标题" class="iva-title"/>	                    <button class="iva-preview">预览</button>	                  </div>	                </div>	              </div>';return e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(82),i(135),i(91),i(85),i(167),i(168),i(128),i(160),i(4)],r=function(t,e,i,n,r,o,a,s,l){function c(t,i,n){e.apply(this,arguments),this.iva=t,this.data=i,this.wikiList=[],this._initEvent(),this._getList(0,11)}return c.prototype=new e,c.prototype._initEvent=function(){this.$body.on("click",".iva-listwrap button",this._getMore.bind(this)),this.$body.on("click",".iva-list li",this._quote.bind(this)),this.$body.on("click",".iva-refresh",this._refresh.bind(this)),s(this.$body.find(".iva-head .iva-title").get(0),36),this.$body.on("click",".iva-search",this._refresh.bind(this)),this.$body.on("keypress",".iva-searchArea input",function(){13==event.keyCode&&this._refresh()}.bind(this)),this.$body.on("click",".iva-preview",this._preview.bind(this)),this.$body.on("click",".iva-listhead h2",function(t){this.$body.find(".iva-listhead .iva-crt").removeClass("iva-crt");var e=t.target;l(e).addClass("iva-crt"),this.$body.find(".iva-list [data-index]").remove(),"0"==l(e).data("pub")?(this.$body.find(".iva-list li:eq(0)").show(),this.wikiList=[],this._getList(0,11)):(this.$body.find(".iva-list li:eq(0)").hide(),this.wikiList=[],this._getList(0,12))}.bind(this))},c.prototype._getList=function(e,i){t("/api/dgs/searchUserDg","GET",{cat:3,offset:e,ps:i,kw:this.$body.find(".iva-searchArea input").val(),pub:this.$body.find(".iva-listhead .iva-crt").data().pub},function(t){var e=l(ejs.render(a,t));this.wikiList=this.wikiList.concat(t.msg),this.$body.find(".iva-list").append(e),this.$body.find(".iva-listwrap").animate({scrollTop:this.$body.find(".iva-list").height()},500),t.msg.length<9||this.wikiList.length==t.total?this.$body.find(".iva-listwrap button").hide():this.$body.find(".iva-listwrap button").show()}.bind(this))},c.prototype._quote=function(t){t.stopPropagation();var e=t.currentTarget;e.dataset.index&&(e.dataset.index,this.$body.find(".iva-list .iva-crt").removeClass("iva-crt"),l(e).addClass("iva-crt"))},c.prototype._preview=function(t){t.stopPropagation();var e=this.$body.find(".iva-list .iva-crt").get(0);if(!e)return void i({type:"error",msg:"请选择一个云图"});var n=parseInt(e.dataset.index);if("number"==typeof n){var a=this.$body.find(".iva-head .iva-title").val().trim();if(!a)return this.$body.find(".iva-head input").focus(),void i({type:"error",msg:"云链标题不能为空"});var n=parseInt(e.dataset.index),s=this.wikiList[n];s.tagName=a,s.tagData=this.data,s.tagDuration=this.iva.options.tagDuration,this._hide(),new o(this.iva,s,r,this)}},c.prototype._getMore=function(t){t.stopPropagation(),this._getList(parseInt(this.wikiList.length),12)},c.prototype._refresh=function(t){this.$body.find(".iva-list [data-index]").remove(),this.wikiList=[],this._getList(0,11)},c}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-imgEditor">	                  <div class="iva-tagImgWrap" style="left:<%= tagData.offsetX %>px;top:<%= tagData.offsetY %>px;">	                    <img src="<%= pic[0].url %>" />	                    <div class="iva-imgDesc" style="display:none;"><%= tagName %></div>	                  </div>	                  <div class="iva-imgParams">	                    <div class="iva-fill">显示图片描述<input type="radio" name="showImgDesc" id="showImgDescTrue" value="1"/><label for="showImgDescTrue">是</label><input type="radio" name="showImgDesc" id="showImgDescFalse" value="0" checked/><label for="showImgDescFalse">否</label></div>	                    <div class="iva-fill">图片展示时间为<input type="number" value="<%= tagDuration %>" min="1" max="3600"/>秒</div>	                    <div class="iva-fill">	                      <span class="iva-checkbox iva-trackingCheckbox <% if (tagData.tagTrack) { %>iva-checked<% } %>"></span>	                      <label for="showImgDescTrue">选择目标追踪（Beta）</label>	                    </div>	                    <div class="iva-fill">	                      <span class="iva-checkbox iva-hiddenCheckbox <% if (!tagData.tagShow) { %>iva-checked<% } %>"></span>	                      <label for="showImgDescTrue">默认隐藏 鼠标移动时显示</label>	                    </div>	                    <div class="iva-btnWrap">	                      <button class="iva-btn iva-back">返回上一步</button>	                      <button class="iva-btn iva-submit">确认</button>	                    </div>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(82),i(91),i(85),i(131),i(4),i(153),i(130),i(154),i(155),i(156),i(157),i(158)],r=function(t,e,i,n,r,o,a,s,l,c,h,d){function u(t,e,i,n){this.iva=t,this.data=e,this.createImg=n,this.$body=r(ejs.render(i,e)),this._init()}return o(r),a(r),s(r),l(r),c(r),u.prototype._init=function(){this.$body.appendTo(this.iva.$ivaWrap),this._initEvent()},u.prototype._initEvent=function(){this.$body.on("click",function(t){t.stopPropagation()}),this.$body.on("keyup",function(t){t.stopPropagation()}),this.$body.on("keypress",function(t){t.stopPropagation()}),this.$body.on("mouseenter",function(t){t.stopPropagation()}),this.$body.on("mousedown",function(t){3==t.which&&t.stopPropagation()}),this.$body.on("keydown","input",function(t){32!=t.keyCode&&t.stopPropagation()}),this.$body.on("click",".iva-checkbox",function(t){r(this).hasClass("iva-checked")?r(this).removeClass("iva-checked"):r(this).addClass("iva-checked")}),this.$body.find(".iva-tagImgWrap").resizable({containment:"parent",handles:"all",aspectRatio:!0,minWidth:50,maxWidth:250}).draggable({containment:"parent",stop:function(t,e){var i=this.iva.$ivaWrap.height(),n=t.target.clientHeight;i-e.position.top-n<25?this.$body.find(".iva-imgDesc").addClass("iva-imgDesc-up"):this.$body.find(".iva-imgDesc").removeClass("iva-imgDesc-up")}.bind(this)}),this.$body.find(".iva-imgParams").draggable({containment:"parent"}),this.$body.on("click",".iva-back",this._back.bind(this)),this.$body.on("click",".iva-submit",this._submit.bind(this)),this.$body.on("change",'.iva-fill input[type="number"]',function(t){var i=parseInt(r(t.target).val());"number"!=typeof i&&(r(t.target).val(10),e({type:"error",msg:"展示时间格式不正确"})),1>i&&(r(t.target).val(1),e({type:"error",msg:"展示时间不能少于1秒"})),i>3600&&(r(t.target).val(3600),e({type:"error",msg:"展示时间不能大于3600秒"}))}.bind(this)),this.$body.on("change",'[name="showImgDesc"]',function(t){var e=t.target,i=parseInt(r(e).val());i?this.$body.find(".iva-imgDesc").show():this.$body.find(".iva-imgDesc").hide()}.bind(this))},u.prototype._back=function(){event.stopPropagation(),this.$body.remove(),this.createImg._show()},u.prototype._submit=function(){event.stopPropagation();var o=i.power.charAt(5);if("1"==o){var a={};a.title=this.data.tagName,a.type=this.$body.find(".iva-trackingCheckbox").hasClass("iva-checked")?1:0,a.cat=2,a.dg=this.data._id,a.dgCat=3,a.v=i.videoId,a.auto_hidden=this.$body.find(".iva-hiddenCheckbox").hasClass("iva-checked")?1:0;var s=this.iva.$ivaWrap.width(),l=this.iva.$ivaWrap.height();if(a.x=parseInt(this.$body.find(".iva-tagImgWrap").css("left").split("px")[0])/s,a.y=parseInt(this.$body.find(".iva-tagImgWrap").css("top").split("px")[0])/l,a.width=parseInt(this.$body.find(".iva-tagImgWrap").css("width").split("px")[0])/s,a.height=parseInt(this.$body.find(".iva-tagImgWrap").css("height").split("px")[0])/l,a.time=parseInt(1e3*this.iva.player.get_time()),a.duration=1e3*parseInt(this.$body.find('.iva-imgParams input[type="number"]').val()),!a.duration)return r(event.target).val(10),void e({type:"error",msg:"展示时间格式不正确"});if(a.duration<1e3)return r(event.target).val(1),void e({type:"error",msg:"展示时间不能小于1秒"});if(a.duration>36e5)return r(event.target).val(3600),void e({type:"error",msg:"展示时间不能大于3600秒"});a.pic=[{url:this.data.pic}],this.data.link&&(a.link=[{name:"link",url:this.data.link}]),a.dg_title=this.data.desc,a.showTitle=parseInt(this.$body.find('[name="showImgDesc"]:checked').val()),a.islive=!!this.iva.options.live,t("/api/tags","POST",a,function(t){this.createImg._close(),this._close(),this.iva.options.live||new n(this.iva,{_id:t.msg._id,title:a.title,dg:{_id:a.dg,cat:3,pic:a.pic[0].url,link:a.link[0].url},dot_user:{x:a.x,y:a.y,width:a.width,height:a.height,duration:a.duration,showTitle:a.showTitle}}),e({type:"success",msg:"成功添加云图"+(a.type?"，正在为你光速计算轨迹":"")});try{this.iva.player.insert_dots([{id:t.msg._id,time:this.iva.player.get_time(),title:a.title}])}catch(i){console.error(i)}}.bind(this))}else this.$body.remove(),this.createImg.$body.remove(),new h(this.iva,{},d)},u.prototype._hide=function(t){this.$body.hide()},u.prototype._close=function(t){this.$body.remove(),this.iva.player.play()},u}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(83)],r=function(t){var e='<div class="iva-windowwrap">	                <div class="iva-editer iva-editer-goods">	                  <div class="iva-body">	                    <div class="iva-reuse">	                      <div class="iva-listhead">	                        <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">1</i></span>	                        <span class="iva-searchArea"><input type="text" placeholder="搜索百科库"/><i class="iva-iconfont iva-search">&#xe613;</i></span>	                        <h2 class="iva-crt" data-pub="0">我的商品</h2>	                        <h2 data-pub="2">项目商品</h2>	                        <h2 data-pub="1">V荐商品</h2>	                        <i class="iva-iconfont iva-close">&#xe60d;</i>	                        <i class="iva-iconfont iva-refresh">&#xe614;</i>	                      </div>	                      <div class="iva-listwrap">	                        <ul class="iva-list">	                          <li>	                            <a href="'+t+'/console/resource/#new" target="_blank" class="iva-imgwrap iva-imgwrap-upload" title="去资源库创建">	                              <i class="iva-iconfont">&#xe60c;</i>	                              <i class="iva-createResource">新建</i>	                            </a>	                          </li>	                        </ul>	                        <div class="iva-btn">	                          <button>加载更多</button>	                        </div>	                      </div>	                    </div>	                  </div>	                  <div class="iva-head">	                    <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">2</i></span>	                    <!--input placeholder="云链标题" class="iva-title"/>	                    <span class="iva-checkbox iva-trackingCheckbox <% if (tagTrack) { %>iva-checked<% } %>"></span>	                    <label for="iva-tracking">跟踪</label>	                    <span class="iva-checkbox iva-hiddenCheckbox <% if (!tagShow) { %>iva-checked<% } %>"></span>	                    <label for="iva-hidden">隐藏</label-->	                    <button class="iva-nextStep">下一步</button>	                  </div>	                </div>	              </div>';return e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(135),i(82),i(162),i(171),i(91),i(160),i(4)],r=function(t,e,i,n,r,o,a){function s(e,i,n){t.apply(this,arguments),this.iva=e,this.data=i,this.list=[],this._initEvent(),this._getList(0,11)}return s.prototype=new t,s.prototype._initEvent=function(){this.$body.on("click",".iva-listwrap button",this._getMore.bind(this)),this.$body.on("click",".iva-list li",this._quote.bind(this)),this.$body.on("click",".iva-refresh",this._refresh.bind(this)),o(this.$body.find(".iva-head .iva-title").get(0),36),this.$body.on("click",".iva-search",this._refresh.bind(this)),this.$body.on("keypress",".iva-searchArea input",function(){13==event.keyCode&&this._refresh()}.bind(this)),this.$body.on("click",".iva-nextStep",this._nextStep.bind(this)),this.$body.on("click",".iva-listhead h2",function(t){this.$body.find(".iva-listhead .iva-crt").removeClass("iva-crt");var e=t.target;a(e).addClass("iva-crt"),this.$body.find(".iva-list [data-index]").remove(),"0"==a(e).data("pub")?(this.$body.find(".iva-list li:eq(0)").show(),this.list=[],this._getList(0,11)):(this.$body.find(".iva-list li:eq(0)").hide(),this.list=[],this._getList(0,12))}.bind(this))},s.prototype._getList=function(t,i){e("/api/dgs/searchUserDg","GET",{cat:2,offset:t,ps:i,kw:this.$body.find(".iva-searchArea input").val(),pub:this.$body.find(".iva-listhead .iva-crt").data().pub},function(t){var e=a(ejs.render(n,t));this.list=this.list.concat(t.msg),this.$body.find(".iva-list").append(e),this.$body.find(".iva-listwrap").animate({scrollTop:this.$body.find(".iva-list").height()},500),t.length<12||this.list.length==t.total?this.$body.find(".iva-listwrap button").hide():this.$body.find(".iva-listwrap button").show()}.bind(this))},s.prototype._quote=function(t){t.stopPropagation();var e=t.currentTarget;e.dataset.index&&(this.$body.find(".iva-list .iva-crt").removeClass("iva-crt"),a(e).addClass("iva-crt"))},s.prototype._nextStep=function(t){t.stopPropagation();var e=this.$body.find(".iva-list .iva-crt").get(0);if(!e)return void r({type:"error",msg:"请选择一个商品"});var n=parseInt(e.dataset.index);if("number"==typeof n){var o=this.list[n];o.tagData=this.data,o.dgCat=2,this._hide(),new i(this.iva,o,this)}},s.prototype._getMore=function(t){t.stopPropagation(),this._getList(parseInt(this.list.length),12)},s.prototype._refresh=function(t){event.stopPropagation(),this.$body.find(".iva-list [data-index]").remove(),this.list=[],this._getList(0,11)},s}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[],r=function(){var t='<% for (var i=0; i<msg.length; i++) { %>	              <li data-index=<%= offset+i %>>	                <div class="iva-imgwrap">	                  <img src="<%= msg[i].pic[0].url %>">	                  <div class="iva-title">	                    <div class="iva-h3"><%= msg[i].title %></div>	                    <div class="iva-txt"><%= msg[i].desc %></div>	                  </div>	                </div>	                <i class="iva-iconfont">&#xe604;</i>	              </li>	              <% } %>';return t}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(83)],r=function(t){var e='<div class="iva-windowwrap">	                <div class="iva-editer iva-editer-card iva-step1">	                  <div class="iva-body iva-body-1">	                    <div class="iva-reuse">	                      <div class="iva-listhead iva-listhead-1">	                        <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">1</i></span>	                        <span class="iva-searchArea"><input type="text" placeholder="搜索卡牌库"/><i class="iva-iconfont iva-search">&#xe613;</i></span>	                        <h2 class="iva-crt" data-pub="0">我的卡牌</h2>	                        <h2 data-pub="2">项目卡牌</h2>	                        <h2 data-pub="1">V荐卡牌</h2>	                        <i class="iva-iconfont iva-close">&#xe60d;</i>	                        <i class="iva-iconfont iva-refresh">&#xe614;</i>	                      </div>	                      <div class="iva-listhead iva-listhead-2">	                        <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">1</i></span>	                        <h2 data-pub="0">我的卡牌</h2>	                        <i class="iva-iconfont iva-close">&#xe60d;</i>	                      </div>	                      <div class="iva-listwrap">	                        <ul class="iva-list">	                          <li>	                            <a href="'+t+'/console/resource/cards#new" target="_blank" class="iva-imgwrap iva-imgwrap-upload" title="去资源库创建">	                              <i class="iva-iconfont">&#xe60c;</i>	                              <i class="iva-createResource">新建</i>	                            </a>	                          </li>	                        </ul>	                        <div class="iva-btn">	                          <button>加载更多</button>	                        </div>	                      </div>	                    </div>	                  </div>	                  <div class="iva-body iva-body-2"></div>	                </div>	              </div>';return e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(135),i(86),i(82),i(1),i(85),i(175),i(174),i(128),i(176),i(91),i(160),i(4)],r=function(t,e,i,n,r,o,a,s,l,c,h,d){function u(e,i,n){t.apply(this,arguments),this.iva=e,this.data=i,this.list=[],this._initEvent(),this._getList(0,11)}return u.prototype=new t,u.prototype._initEvent=function(){this.$body.on("click",".iva-listwrap button",this._getMore.bind(this)),this.$body.on("click",".iva-list li",this._quote.bind(this)),this.$body.on("click",".iva-refresh",this._refresh.bind(this)),h(this.$body.find(".iva-head .iva-title").get(0),36),this.$body.on("click",".iva-search",this._refresh.bind(this)),this.$body.on("keypress",".iva-searchArea input",function(){13==event.keyCode&&this._refresh()}.bind(this)),this.$body.on("click",".iva-body-1 .iva-listhead h2",function(t){this.$body.find(".iva-listhead .iva-crt").removeClass("iva-crt");var e=t.target;d(e).addClass("iva-crt"),this.$body.find(".iva-list [data-index]").remove(),"0"==d(e).data("pub")?(this.$body.find(".iva-list li:eq(0)").show(),this.list=[],this._getList(0,11)):(this.$body.find(".iva-list li:eq(0)").hide(),this.list=[],this._getList(0,12))}.bind(this)),this.$body.on("click",".iva-listhead-2",function(t){t.stopPropagation(),this.$body.find(".iva-editer").removeClass("iva-step2").addClass("iva-step1")}.bind(this)),this.$body2=this.$body.find(".iva-body-2"),this.$body2.on("click",".iva-cardsPre",function(t){d(t.target).hasClass("iva-checked")||(this.$body2.find(".iva-cardWrap .iva-check").removeClass("iva-check"),d(t.target).addClass("iva-check"))}.bind(this)),this.$body2.on("click",".iva-preview",this._preview.bind(this))},u.prototype._getList=function(t,e){i("/api/dgs/searchUserDg","GET",{cat:4,offset:t,ps:e,kw:this.$body.find(".iva-searchArea input").val(),pub:this.$body.find(".iva-listhead .iva-crt").data().pub},function(t){var e=d(ejs.render(s,t));this.list=this.list.concat(t.msg),this.$body.find(".iva-list").append(e),this.$body.find(".iva-listwrap").animate({scrollTop:this.$body.find(".iva-list").height()},500),t.length<12||this.list.length==t.total?this.$body.find(".iva-listwrap button").hide():this.$body.find(".iva-listwrap button").show();
}.bind(this))},u.prototype._quote=function(t){t.stopPropagation();var e=t.currentTarget;if(e.dataset.index){this.$body.find(".iva-list .iva-crt").removeClass("iva-crt"),d(e).addClass("iva-crt"),this.$body.find(".iva-editer").removeClass("iva-step1").addClass("iva-step2");var i=parseInt(e.dataset.index);this.$body.find(".iva-body-2").empty(),this.currentCard=this.list[i],this.$cardList=d(ejs.render(l,this.currentCard)).appendTo(this.$body2),this.$body2.find(".iva-cardWrap .iva-cardsPre").each(function(t,e){n.docCookies.getItem("$"+r.videoId+"$"+e.dataset.cardid+"$cardChosen")&&d(this).addClass("iva-checked")})}},u.prototype._preview=function(t){if(t.stopPropagation(),!this.$body2.find(".iva-cardWrap .iva-check").length)return void c({type:"error",msg:"请选择一张卡牌"});var e=this.$body2.find(".iva-submitWrap .iva-title").val().trim();if(!e)return void c({type:"error",msg:"云链标题不能为空"});var i=this.currentCard;i.tagName=e,i.tagData=this.data,i.tagDuration=this.iva.options.tagDuration,i.cardIndex=parseInt(this.$body2.find(".iva-cardWrap .iva-check").data("cardindex")),this._hide(),new a(this.iva,i,o,this)},u.prototype._getMore=function(t){t.stopPropagation(),this._getList(parseInt(this.list.length),12)},u.prototype._refresh=function(t){event.stopPropagation(),this.$body.find(".iva-list [data-index]").remove(),this.list=[],this._getList(0,11)},u}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(82),i(91),i(85),i(1),i(131),i(4),i(153),i(130),i(154),i(155),i(156),i(157),i(158)],r=function(t,e,i,n,r,o,a,s,l,c,h,d,u){function p(t,e,i,n){this.iva=t,this.data=e,this.createImg=n,this.$body=o(ejs.render(i,e)),this._init()}return a(o),s(o),l(o),c(o),h(o),p.prototype._init=function(){this.$body.appendTo(this.iva.$ivaWrap),this._initEvent()},p.prototype._initEvent=function(){this.$body.on("click",function(t){t.stopPropagation()}),this.$body.on("keyup",function(t){t.stopPropagation()}),this.$body.on("keypress",function(t){t.stopPropagation()}),this.$body.on("mouseenter",function(t){t.stopPropagation()}),this.$body.on("mousedown",function(t){3==t.which&&t.stopPropagation()}),this.$body.on("keydown","input",function(t){32!=t.keyCode&&t.stopPropagation()}),this.$body.on("click",".iva-checkbox",function(t){o(this).hasClass("iva-checked")?o(this).removeClass("iva-checked"):o(this).addClass("iva-checked")}),this.$body.find(".iva-tagImgWrap").resizable({containment:"parent",handles:"all",aspectRatio:!0,minWidth:50,maxWidth:250}).draggable({containment:"parent",stop:function(t,e){var i=this.iva.$ivaWrap.height(),n=t.target.clientHeight;i-e.position.top-n<25?this.$body.find(".iva-imgDesc").addClass("iva-imgDesc-up"):this.$body.find(".iva-imgDesc").removeClass("iva-imgDesc-up")}.bind(this)}),this.$body.find(".iva-imgParams").draggable({containment:"parent"}),this.$body.on("click",".iva-back",this._back.bind(this)),this.$body.on("click",".iva-submit",this._submit.bind(this)),this.$body.on("change",'.iva-fill input[type="number"]',function(t){var i=parseInt(o(t.target).val());"number"!=typeof i&&(o(t.target).val(10),e({type:"error",msg:"展示时间格式不正确"})),1>i&&(o(t.target).val(1),e({type:"error",msg:"展示时间不能少于1秒"})),i>3600&&(o(t.target).val(3600),e({type:"error",msg:"展示时间不能大于3600秒"}))}.bind(this)),this.$body.on("change",'[name="showImgDesc"]',function(t){var e=t.target,i=parseInt(o(e).val());i?this.$body.find(".iva-imgDesc").show():this.$body.find(".iva-imgDesc").hide()}.bind(this))},p.prototype._back=function(){event.stopPropagation(),this.$body.remove(),this.createImg._show()},p.prototype._submit=function(){event.stopPropagation();var a=i.power.charAt(5);if("1"==a){var s={};s.title=this.data.tagName,s.type=this.$body.find(".iva-trackingCheckbox").hasClass("iva-checked")?1:0,s.cat=2,s.dg=this.data._id,s.dgCat=4,s.v=i.videoId,s.auto_hidden=this.$body.find(".iva-hiddenCheckbox").hasClass("iva-checked")?1:0;var l=this.iva.$ivaWrap.width(),c=this.iva.$ivaWrap.height();if(s.x=parseInt(this.$body.find(".iva-tagImgWrap").css("left").split("px")[0])/l,s.y=parseInt(this.$body.find(".iva-tagImgWrap").css("top").split("px")[0])/c,s.width=parseInt(this.$body.find(".iva-tagImgWrap").css("width").split("px")[0])/l,s.height=parseInt(this.$body.find(".iva-tagImgWrap").css("height").split("px")[0])/c,s.time=parseInt(1e3*this.iva.player.get_time()),s.duration=1e3*parseInt(this.$body.find('.iva-imgParams input[type="number"]').val()),s.cardIndex=this.data.cardIndex,!s.duration)return o(event.target).val(10),void e({type:"error",msg:"展示时间格式不正确"});if(s.duration<1e3)return o(event.target).val(1),void e({type:"error",msg:"展示时间不能小于1秒"});if(s.duration>36e5)return o(event.target).val(3600),void e({type:"error",msg:"展示时间不能大于3600秒"});s.pic=[{url:this.data.pic}],this.data.link&&(s.link=[{name:"link",url:this.data.link}]),s.dg_title=this.data.desc,s.showTitle=parseInt(this.$body.find('[name="showImgDesc"]:checked').val()),t("/api/tags","POST",s,function(t){this.createImg._close(),this._close(),new r(this.iva,{_id:t.msg._id,title:s.title,dg:{_id:s.dg,cat:4},dot_user:{x:s.x,y:s.y,width:s.width,height:s.height,duration:s.duration,showTitle:s.showTitle},cardPic:{url:this.data.cards.pics[this.data.cardIndex].url}}),e({type:"success",msg:"添加卡牌成功"});try{this.iva.player.insert_dots([{id:t.msg._id,time:this.iva.player.get_time(),title:s.title}])}catch(o){console.error(o)}n.docCookies.setItem("$"+i.videoId+"$"+this.data.cards.pics[this.data.cardIndex]._id+"$cardChosen","true")}.bind(this))}else this.$body.remove(),this.createImg.$body.remove(),new d(this.iva,{},u)},p.prototype._hide=function(t){this.$body.hide()},p.prototype._close=function(t){this.$body.remove(),this.iva.player.play()},p}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-windowwrap">	                <div class="iva-imgEditor">	                  <div class="iva-tagImgWrap" style="left:<%= tagData.offsetX %>px;top:<%= tagData.offsetY %>px;">	                    <img src="<%= cards.pics[cardIndex].url %>" />	                    <div class="iva-imgDesc" style="display:none;"><%= tagName %></div>	                  </div>	                  <div class="iva-imgParams">	                    <div class="iva-fill">显示图片描述<input type="radio" name="showImgDesc" id="showImgDescTrue" value="1"/><label for="showImgDescTrue">是</label><input type="radio" name="showImgDesc" id="showImgDescFalse" value="0" checked/><label for="showImgDescFalse">否</label></div>	                    <div class="iva-fill">图片展示时间为<input type="number" value="<%= tagDuration %>" min="1" max="3600"/>秒</div>	                    <div class="iva-fill">	                      <span class="iva-checkbox iva-trackingCheckbox <% if (tagData.tagTrack) { %>iva-checked<% } %>"></span>	                      <label for="showImgDescTrue">选择目标追踪（Beta）</label>	                    </div>	                    <div class="iva-fill">	                      <span class="iva-checkbox iva-hiddenCheckbox <% if (!tagData.tagShow) { %>iva-checked<% } %>"></span>	                      <label for="showImgDescTrue">默认隐藏 鼠标移动时显示</label>	                    </div>	                    <div class="iva-btnWrap">	                      <button class="iva-btn iva-back">返回上一步</button>	                      <button class="iva-btn iva-submit">确认</button>	                    </div>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="iva-reuse">	                <div class="iva-listhead">	                  <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">2</i></span>	                  <h2><%= title %></h2>	                </div>	                <div class="iva-cardWrap">	                <% for (var i=0; i<cards.pics.length; i++) { %>	                <div class="iva-cardsPre" style="background-image:url(<%= cards.pics[i].url %>)" data-cardid="<%= cards.pics[i]._id %>" data-cardindex="<%= i %>">	                  <i class="iva-iconfont">&#xe604;</i>	                  <i class="iva-mark">已选</i>	                </div>	                <% } %>	                </div>	                <div class="iva-submitWrap">	                  <input placeholder="云链标题" class="iva-title"/>	                  <button class="iva-preview">预览</button>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(83)],r=function(t,e){var i='<div class="iva-windowwrap">	                <div class="iva-editer iva-editer-vote">	                  <div class="iva-body">	                    <div class="iva-reuse">	                      <div class="iva-listhead">	                        <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">1</i></span>	                        <span class="iva-searchArea"><input type="text" placeholder="搜索投票库"/><i class="iva-iconfont iva-search">&#xe613;</i></span>	                        <h2 class="iva-crt" data-pub="0">我的投票</h2>	                        <h2 data-pub="2">项目投票</h2>	                        <h2 data-pub="1">V荐投票</h2>	                        <i class="iva-iconfont iva-close">&#xe60d;</i>	                        <i class="iva-iconfont iva-refresh">&#xe614;</i>	                      </div>	                      <div class="iva-sub-listhead">	                        <div data-status="all" class="iva-btn active">所有投票</div>	                        <div data-status="-1" class="iva-btn">未开启</div>	                        <div data-status="0" class="iva-btn">进行中</div>	                        <div data-status="1" class="iva-btn">已结束</div>	                      </div>	                      <div class="iva-listwrap">	                        <ul class="iva-list">	                          <li>	                            <a href="'+t+'/console/resource/votes#new" target="_blank" class="iva-imgwrap iva-imgwrap-upload" title="去资源库创建">	                              <i class="iva-iconfont">&#xe60c;</i>	                              <i class="iva-createResource">新建</i>	                            </a>	                          </li>	                        </ul>	                        <div class="iva-btn">	                          <button>加载更多</button>	                        </div>	                      </div>	                    </div>	                  </div>	                  <div class="iva-head">	                     <button class="iva-nextStep">下一步</button>	                  </div>	                </div>	              </div>';return i}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(83)],r=function(t,e){var i='<div class="iva-windowwrap">	                <div class="iva-editer">	                  <div class="iva-body">	                    <div class="iva-reuse">	                      <div class="iva-listhead">	                        <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">1</i></span>	                        <span class="iva-searchArea"><input type="text" placeholder="搜索百科库"/><i class="iva-iconfont iva-search">&#xe613;</i></span>	                        <h2 class="iva-crt" data-pub="0">我的百科</h2>	                        <h2 data-pub="2">项目百科</h2>	                        <h2 data-pub="1">V荐百科</h2>	                        <i class="iva-iconfont iva-close">&#xe60d;</i>	                        <i class="iva-iconfont iva-refresh">&#xe614;</i>	                      </div>	                      <div class="iva-listwrap">	                        <ul class="iva-list">	                          <li>	                            <a href="'+t+'/console/resource/wikis#new" target="_blank" class="iva-imgwrap iva-imgwrap-upload" title="去资源库创建">	                              <i class="iva-iconfont">&#xe60c;</i>	                              <i class="iva-createResource">新建</i>	                            </a>	                          </li>	                        </ul>	                        <div class="iva-btn">	                          <button>加载更多</button>	                        </div>	                      </div>	                    </div>	                  </div>	                  <div class="iva-head">	                    <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">2</i></span>	                    <!--input placeholder="云链标题" class="iva-title"/>	                    <span class="iva-checkbox iva-trackingCheckbox <% if (tagTrack) { %>iva-checked<% } %>"></span>	                    <label for="iva-tracking">跟踪</label>	                    <span class="iva-checkbox iva-hiddenCheckbox <% if (!tagShow) { %>iva-checked<% } %>"></span>	                    <label for="iva-hidden">隐藏</label-->	                    <button class="iva-nextStep">下一步</button>	                  </div>	                </div>	              </div>';return i}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(83)],r=function(t,e){var i='<div class="iva-windowwrap">	                <div class="iva-editer iva-editer-person">	                  <div class="iva-body">	                    <div class="iva-reuse">	                      <div class="iva-listhead">	                        <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">1</i></span>	                        <span class="iva-searchArea"><input type="text" placeholder="搜索人物库"/><i class="iva-iconfont iva-search">&#xe613;</i></span>	                        <h2 class="iva-crt" data-pub="0">我的人物</h2>	                        <h2 data-pub="2">项目人物</h2>	                        <h2 data-pub="1">V荐人物</h2>	                        <i class="iva-iconfont iva-close">&#xe60d;</i>	                        <i class="iva-iconfont iva-refresh">&#xe614;</i>	                      </div>	                      <div class="iva-listwrap">	                        <ul class="iva-list">	                          <li>	                            <a href="'+t+'/console/resource/figures#new" target="_blank" class="iva-imgwrap iva-imgwrap-upload" title="去资源库创建">	                              <i class="iva-iconfont">&#xe60c;</i>	                              <i class="iva-createResource">新建</i>	                            </a>	                          </li>	                        </ul>	                        <div class="iva-btn">	                          <button>加载更多</button>	                        </div>	                      </div>	                    </div>	                  </div>	                  <div class="iva-head">	                    <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">2</i></span>	                    <!--input placeholder="云链标题" class="iva-title"/>	                    <span class="iva-checkbox iva-trackingCheckbox <% if (tagTrack) { %>iva-checked<% } %>"></span>	                    <label for="iva-tracking">跟踪</label>	                    <span class="iva-checkbox iva-hiddenCheckbox <% if (!tagShow) { %>iva-checked<% } %>"></span>	                    <label for="iva-hidden">隐藏</label-->	                    <button class="iva-nextStep">下一步</button>	                  </div>	                </div>	              </div>';return i}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(128),i(82),i(162),i(135),i(91),i(160),i(85),i(4)],r=function(t,e,i,n,r,o,a,s){function l(t,e,i){n.apply(this,arguments),this.iva=t,this.data=e,this.list=[],this._initEvent(),this._getList(0,11)}return l.prototype=new n,l.prototype._initEvent=function(){this.$body.on("click",".iva-listwrap button",this._getMore.bind(this)),this.$body.on("click",".iva-list li",this._quote.bind(this)),this.$body.on("click",".iva-refresh",this._refresh.bind(this)),o(this.$body.find(".iva-head .iva-title").get(0),36),this.$body.on("click",".iva-search",this._refresh.bind(this)),this.$body.on("keypress",".iva-searchArea input",function(){13==event.keyCode&&this._refresh()}.bind(this)),this.$body.on("click",".iva-nextStep",this._nextStep.bind(this)),this.$body.on("click",".iva-listhead h2",function(t){this.$body.find(".iva-listhead .iva-crt").removeClass("iva-crt");var e=t.target;s(e).addClass("iva-crt"),this.$body.find(".iva-list [data-index]").remove(),"0"==s(e).data("pub")?(this.$body.find(".iva-list li:eq(0)").show(),this.list=[],this._getList(0,11)):(this.$body.find(".iva-list li:eq(0)").hide(),this.list=[],this._getList(0,12))}.bind(this))},l.prototype._getList=function(i,n){e("/api/dgs/searchUserDg","GET",{cat:6,offset:i,ps:n,kw:this.$body.find(".iva-searchArea input").val(),pub:this.$body.find(".iva-listhead .iva-crt").data().pub},function(e){var i=s(ejs.render(t,e));this.list=this.list.concat(e.msg),this.$body.find(".iva-list").append(i),this.$body.find(".iva-listwrap").animate({scrollTop:this.$body.find(".iva-list").height()},500),e.length<12||this.list.length==e.total?this.$body.find(".iva-listwrap button").hide():this.$body.find(".iva-listwrap button").show()}.bind(this))},l.prototype._quote=function(t){t.stopPropagation();var e=t.currentTarget;e.dataset.index&&(this.$body.find(".iva-list .iva-crt").removeClass("iva-crt"),s(e).addClass("iva-crt"))},l.prototype._nextStep=function(t){t.stopPropagation();var e=this.$body.find(".iva-list .iva-crt").get(0);if(!e)return void r({type:"error",msg:"请选择一个人物"});var n=parseInt(e.dataset.index);if("number"==typeof n){var o=this.list[n];o.tagData=this.data,o.dgCat=6,this._hide(),new i(this.iva,o,this)}},l.prototype._getMore=function(t){t.stopPropagation(),this._getList(parseInt(this.list.length),12)},l.prototype._refresh=function(t){this.$body.find(".iva-list [data-index]").remove(),this.list=[],this._getList(0,11)},l}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(83)],r=function(t,e){var i='<div class="iva-windowwrap">	                <div class="iva-editer iva-editer-location">	                  <div class="iva-body">	                    <div class="iva-reuse">	                      <div class="iva-listhead">	                        <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">1</i></span>	                        <span class="iva-searchArea"><input type="text" placeholder="搜索地点库"/><i class="iva-iconfont iva-search">&#xe613;</i></span>	                        <h2 class="iva-crt" data-pub="0">我的地点</h2>	                        <h2 data-pub="2">项目地点</h2>	                        <h2 data-pub="1">V荐地点</h2>	                        <i class="iva-iconfont iva-close">&#xe60d;</i>	                        <i class="iva-iconfont iva-refresh">&#xe614;</i>	                      </div>	                      <div class="iva-listwrap">	                        <ul class="iva-list">	                          <li>	                            <a href="'+t+'/console/resource/places#new" target="_blank" class="iva-imgwrap iva-imgwrap-upload" title="去资源库创建">	                              <i class="iva-iconfont">&#xe60c;</i>	                              <i class="iva-createResource">新建</i>	                            </a>	                          </li>	                        </ul>	                        <div class="iva-btn">	                          <button>加载更多</button>	                        </div>	                      </div>	                    </div>	                  </div>	                  <div class="iva-head">	                    <span class="iva-tag"><i class="iva-iconfont">&#xe615;</i><i class="iva-number">2</i></span>	                    <!--input placeholder="云链标题" class="iva-title"/>	                    <span class="iva-checkbox iva-trackingCheckbox <% if (tagTrack) { %>iva-checked<% } %>"></span>	                    <label for="iva-tracking">跟踪</label>	                    <span class="iva-checkbox iva-hiddenCheckbox <% if (!tagShow) { %>iva-checked<% } %>"></span>	                    <label for="iva-hidden">隐藏</label-->	                    <button class="iva-nextStep">下一步</button>	                  </div>	                </div>	              </div>';return i}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(128),i(82),i(162),i(135),i(91),i(160),i(85),i(4)],r=function(t,e,i,n,r,o,a,s){function l(t,e,i){n.apply(this,arguments),this.iva=t,this.data=e,this.list=[],this._initEvent(),this._getList(0,11)}return l.prototype=new n,l.prototype._initEvent=function(){this.$body.on("click",".iva-listwrap button",this._getMore.bind(this)),this.$body.on("click",".iva-list li",this._quote.bind(this)),this.$body.on("click",".iva-refresh",this._refresh.bind(this)),o(this.$body.find(".iva-head .iva-title").get(0),36),this.$body.on("click",".iva-search",this._refresh.bind(this)),this.$body.on("keypress",".iva-searchArea input",function(){13==event.keyCode&&this._refresh()}.bind(this)),this.$body.on("click",".iva-nextStep",this._nextStep.bind(this)),this.$body.on("click",".iva-listhead h2",function(t){this.$body.find(".iva-listhead .iva-crt").removeClass("iva-crt");var e=t.target;s(e).addClass("iva-crt"),this.$body.find(".iva-list [data-index]").remove(),"0"==s(e).data("pub")?(this.$body.find(".iva-list li:eq(0)").show(),this.list=[],this._getList(0,11)):(this.$body.find(".iva-list li:eq(0)").hide(),this.list=[],this._getList(0,12))}.bind(this))},l.prototype._getList=function(i,n){e("/api/dgs/searchUserDg","GET",{cat:7,offset:i,ps:n,kw:this.$body.find(".iva-searchArea input").val(),pub:this.$body.find(".iva-listhead .iva-crt").data().pub},function(e){var i=s(ejs.render(t,e));this.list=this.list.concat(e.msg),this.$body.find(".iva-list").append(i),this.$body.find(".iva-listwrap").animate({scrollTop:this.$body.find(".iva-list").height()},500),e.length<12||this.list.length==e.total?this.$body.find(".iva-listwrap button").hide():this.$body.find(".iva-listwrap button").show()}.bind(this))},l.prototype._quote=function(t){t.stopPropagation();var e=t.currentTarget;e.dataset.index&&(this.$body.find(".iva-list .iva-crt").removeClass("iva-crt"),s(e).addClass("iva-crt"))},l.prototype._nextStep=function(t){t.stopPropagation();var e=this.$body.find(".iva-list .iva-crt").get(0);if(!e)return void r({type:"error",msg:"请选择一个地点"});var n=parseInt(e.dataset.index);if("number"==typeof n){var o=this.list[n];o.tagData=this.data,o.dgCat=7,this._hide(),new i(this.iva,o,this)}},l.prototype._getMore=function(t){t.stopPropagation(),this._getList(parseInt(this.list.length),12)},l.prototype._refresh=function(t){this.$body.find(".iva-list [data-index]").remove(),this.list=[],this._getList(0,11)},l}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<a href="#wheel" class="wheel-button">	               <i class="customicon-plus"></i>	              </a>	              <ul class="wheel" id="wheel">	                <li class="item">	                  <a href="javascript:void(0);" class="iva-wiki"><i class="iva-iconfont">&#xe600;</i></a>	                  <div class="iva-hoverTip"><div class="iva-triangle"></div>百科</div>	                </li>	                <li class="item">	                  <a href="javascript:void(0);" class="iva-img"><i class="iva-iconfont">&#xe60b;</i></a>	                  <div class="iva-hoverTip"><div class="iva-triangle"></div>云图</div>	                </li>	                <li class="item">	                  <a href="javascript:void(0);" class="iva-vote"><i class="iva-iconfont">&#xe626;</i></a>	                  <div class="iva-hoverTip"><div class="iva-triangle"></div>投票</div>	                </li>	                <% if (!live) { %>	                <li class="item">	                  <a href="javascript:void(0);" class="iva-card"><i class="iva-iconfont">&#xe620;</i></a>	                  <div class="iva-hoverTip"><div class="iva-triangle"></div>卡牌</div>	                </li>	                <li class="item">	                  <a href="javascript:void(0);" class="iva-shopping"><i class="iva-iconfont">&#xe61e;</i></a>	                  <div class="iva-hoverTip"><div class="iva-triangle"></div>商品</div>	                </li>	                <li class="item">	                  <a href="javascript:void(0);" class="iva-person"><i class="iva-iconfont">&#xe616;</i></a>	                  <div class="iva-hoverTip"><div class="iva-triangle"></div>人物</div>	                </li>	                <li class="item">	                  <a href="javascript:void(0);" class="iva-location"><i class="iva-iconfont">&#xe605;</i></a>	                  <div class="iva-hoverTip"><div class="iva-triangle"></div>地点</div>	                </li>	                <% } %>	              </ul>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_RESULT__=function(){return function($){function predefineAngle(settings){var convert=!1;if("string"==$.type(settings.angle)){try{eval(settings.angle).length>1&&(convert=!0)}catch(err){convert=!1}if(1==convert)settings.angle=JSON.parse(settings.angle);else switch(settings.angle){case"N":settings.angle=[180,380];break;case"NE":settings.angle=[270,380];break;case"E":settings.angle=[270,470];break;case"SE":settings.angle=[360,470];break;case"S":settings.angle=[360,560];break;case"SW":settings.angle=[90,200];break;case"W":settings.angle=[90,290];break;case"NW":settings.angle=[180,290];break;case"all":settings.angle=[0,360]}}return settings}function predefineSpeed(t){if("string"==$.type(t.animationSpeed))switch(t.animationSpeed){case"slow":t.animationSpeed=[75,700];break;case"medium":t.animationSpeed=[50,500];break;case"fast":t.animationSpeed=[25,250];break;case"instant":t.animationSpeed=[0,0]}return t}var defaults={trigger:"click",animation:"fade",angle:[0,360],animationSpeed:"medium"};$.fn.centerAround=function(t){var e=t[0].offsetLeft,i=t[0].offsetTop,n=t.outerWidth(),r=t.outerHeight(),o=this[0].offsetWidth,a=this[0].offsetHeight;return this.css("position","absolute"),this.css("top",i+n/2-o/2+"px"),this.css("left",e+r/2-a/2+"px"),this},$.fn.flyIn=function(t,e,i,n,r,o,a,s){var l=0;this.stop(!0,!0),this.each(function(t){r=(s.angle[0]+o*t)*(Math.PI/180);var e=Math.round(i/2+a*Math.cos(r)-$(this).find("a").outerWidth()/2),c=Math.round(n/2+a*Math.sin(r)-$(this).find("a").outerHeight()/2);$(this).animateRotate(360).css({position:"absolute",opacity:0,left:"50%",top:"50%",marginLeft:"-"+$(this).outerWidth()/2,marginTop:"-"+$(this).outerHeight()/2}).delay(l).animate({opacity:1,left:e+"px",top:c+"px"},s.animationSpeed[1]),l+=s.animationSpeed[0]})},$.fn.flyOut=function(t,e){var i=0;this.stop(!0,!0),$(this.get().reverse()).each(function(){$(this).animateRotate(-360).delay(i).animate({opacity:0,left:t.outerWidth()/2+"px",top:t.outerHeight()/2+"px"},150),i+=15}).promise().done(function(){t.removeClass("active").css("visibility","hidden").hide(),e.removeClass("active")})},$.fn.fadeInIcon=function(t,e,i,n,r,o,a,s){var l=0;this.stop(!0,!0),this.each(function(t){r=(s.angle[0]+o*t)*(Math.PI/180);var e=Math.round(i/2+a*Math.cos(r)-$(this).find("a").outerWidth()/2),c=Math.round(n/2+a*Math.sin(r)-$(this).find("a").outerHeight()/2);$(this).css({position:"absolute",left:e+"px",top:c+"px",opacity:0}).delay(l).animate({opacity:1},s.animationSpeed[1]),l+=s.animationSpeed[0]})},$.fn.fadeOutIcon=function(t,e){var i=0;this.stop(!0,!0),$(this.get().reverse()).each(function(){$(this).delay(i).animate({opacity:0},150),i+=15}).promise().done(function(){t.removeClass("active").css("visibility","hidden").hide(),e.removeClass("active")})},$.fn.hideIcon=function(t,e){var i=this.find(".item"),n=this;switch(e.animation){case"fade":i.fadeOutIcon(n,t);break;case"fly":i.flyOut(n,t)}},$.fn.showIcon=function(t,e){var i=this,n="6";if("hover"==e.trigger)var n="3";t.addClass("active").css({"z-index":n}),i.show().css({position:"absolute","z-index":"105",padding:"30px"}).centerAround(t),i.addClass("wheel active").css("visibility","visible").show(),i.attr("data-angle")&&(e.angle=i.attr("data-angle")),e=predefineAngle(e);var r=i.width()/2,o=i.find(".item"),a=i,s=a.innerWidth(),l=a.innerHeight(),c=0,h=(e.angle[1]-e.angle[0])/o.length;switch(e.animation){case"fade":o.fadeInIcon(i,t,s,l,c,h,r,e);break;case"fly":o.flyIn(i,t,s,l,c,h,r,e)}},$.fn.animateRotate=function(t,e,i,n){return this.each(function(){var r=$(this);$({deg:0}).animate({deg:t},{duration:e,easing:i,step:function(t){r.css({transform:"rotate("+t+"deg)"})},complete:n||$.noop})})},$.fn.wheelmenu=function(t){var e=$.extend({},defaults,t);return e=predefineSpeed(e),this.each(function(){var t=$(this),i=$($(this).attr("href"));i.addClass("wheel"),t.css("opacity",0).animate({opacity:1}),"hover"==e.trigger?(t.bind({mouseenter:function(){i.showIcon(t,e)}}),i.bind({mouseleave:function(){i.hideIcon(t,e)}})):t.click(function(n){n.stopPropagation(),"visible"==i.css("visibility")?i.hideIcon(t,e):i.showIcon(t,e)})})}}}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(t,e,i){var n,r;n=[i(91)],r=function(t){return function(e){var i;if(/youku/.test(e.options.video)){var n=e.options.video.slice(e.options.video.indexOf("id_")+3,e.options.video.indexOf(".html"));i='<embed src="http://player.youku.com/player.php/sid/'+n+'/v.swf" allowFullScreen="true" quality="high" width="100%" height="100%" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash"></embed>'}else if(/tudou/.test(e.options.video)){if(/albumplay/.test(e.options.video))var r=e.options.video.slice(e.options.video.indexOf("albumplay")+10,e.options.video.indexOf(".html")).split("/"),o=r[0],a=r[1];else if(/listplay/.test(e.options.video))var r=e.options.video.slice(e.options.video.indexOf("listplay")+9,e.options.video.indexOf(".html")).split("/"),o=r[0],a=r[1];else if(/view/.test(e.options.video))var o="",a=e.options.video.slice(e.options.video.indexOf("view")+5).split("/")[0];i='<iframe src="http://www.tudou.com/programs/view/html5embed.action?code='+a+"&lcode="+o+'" allowtransparency="true" allowfullscreen="true" allowfullscreenInteractive="true" scrolling="no" border="0" frameborder="0" style="width:100%;height:100%;"></iframe>'}else if(/v\.qq/.test(e.options.video)){if(/vid/.test(e.options.video))var s=e.options.video.slice(e.options.video.indexOf("vid")+4);else var l=e.options.video.split("/"),s=l[l.length-1].split(".")[0];i='<embed src="http://static.video.qq.com/TPout.swf?vid='+s+'&auto=0" allowFullScreen="true" quality="high" width="100%" height="100%" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash"></embed>'}else if(/iqiyi/.test(e.options.video)){var n=e.options.video.slice(e.options.video.indexOf("v_")+2,e.options.video.indexOf(".html"));i='<embed src="http://player.video.qiyi.com/8eb40de17943403eb49ce7ba446258a3/0/0/v_'+n+'.swf-albumId=389152400-tvId=389152400-isPurchase=0-cnId=6" allowFullScreen="true" quality="high" width="100%" height="100%" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash"></embed>'}else/letv/.test(e.options.video)?t({type:"error",msg:"暂不支持切换乐视播放器"}):/hunantv/.test(e.options.video)?t({type:"error",msg:"暂不支持切换芒果tv播放器"}):/sohu/.test(e.options.video)?t({type:"error",msg:"暂不支持切换搜狐播放器"}):/pptv/.test(e.options.video)&&t({type:"error",msg:"暂不支持切换pptv播放器"});e.parent.innerHTML=i}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(187),i(188),i(160),i(82),i(85),i(4)],r=function(t,e,i,n,r,o){function a(e){this.iva=e,this.list=[],this.bubbleTimeSet={},this.$body=o(ejs.render(t,{})),this._init()}return a.prototype._init=function(){this.$body.appendTo(this.iva.$ivaWrap),this._initEvent()},a.prototype._initEvent=function(){this.$body.on("click",function(t){t.stopPropagation()}),this.$body.on("keydown",function(t){t.stopPropagation()}),this.$body.on("keyup",function(t){t.stopPropagation()}),this.$body.on("keypress",function(t){t.stopPropagation()}),this.$body.on("mouseenter",function(t){t.stopPropagation()}),o(this.$body[0]).on("click",this._switch.bind(this)),i(this.$body.find(".iva-bubbleEditer input").get(0),72),this.$body.find(".iva-bubbleEditer input").keypress(function(t){
if(13==t.keyCode){var e=o(t.target).val();e&&(o(t.target).val(""),n("/api/bubbles","POST",{title:e,time:Math.floor(1e3*this.iva.player.get_time()),v:r.videoId},function(t){this.pop(t.msg.title,this.iva.player.get_time()),console.log("bubble up")}.bind(this)))}}.bind(this))},a.prototype._switch=function(t){var e=t.currentTarget;o(e).hasClass("iva-bubbleSwitch-show")?(o(e).removeClass("iva-bubbleSwitch-show"),o(this.$body[2]).addClass("iva-bubbleWrap-hide")):(o(e).addClass("iva-bubbleSwitch-show"),o(this.$body[2]).removeClass("iva-bubbleWrap-hide"))},a.prototype.pop=function(t,i,n){var r=i-i%5,a=Math.ceil(12*Math.random()),n=n||"http://7xjfim.com2.z0.glb.qiniucdn.com/avatar"+a+".svg";if(this.bubbleTimeSet[r]&&this.bubbleTimeSet[r].length>=10){if(this.iva.player.is_pause())return;var s=o('<div class="bubble1">	                    <div class="glow"></div>	                  </div>'),l=10+162*Math.random();s.css("left",l).appendTo(this.iva.$ivaWrap).on("animationend webkitAnimationEnd mozAnimationEnd msAnimationEnd",function(){o(this).remove()})}else{this.bubbleTimeSet[r]||(this.bubbleTimeSet[r]=[]);var c=o(ejs.render(e,{msg:t,random:a,avatar:n}));c.appendTo(this.$body.find(".iva-bubbleDisplay")).toggle(200),c.on("animationend webkitAnimationEnd mozAnimationEnd msAnimationEnd",function(){o(this).remove()}),this.bubbleTimeSet[r].push(t)}},a.prototype._getList=function(){var t=0,e=10;return function(){var i=this.iva.player.get_time(),o=Math.floor(i);this.bubbleTimeSet[o]||(n("/api/bubbles/v2","GET",{pn:t,ps:e,v:r.videoId},function(t){this.list=t.msg.data,this.bubbleTimeSet[o]=[]}.bind(this)),t++)}}(),a.prototype.reset=function(){this.$body.find(".iva-bubbleDisplay").empty(),this.list=[],this.bubbleTimeSet={}},a}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-bubbleSwitch iva-bubbleSwitch-show">	                <i class="iva-iconfont iva-bubbleShow" title="显示云泡">&#xe617;</i>	                <i class="iva-iconfont iva-bubbleHide" title="隐藏云泡">&#xe618;</i>	              </div>	              <div class="iva-bubbleWrap">	                <div class="iva-bubbleDisplay"></div>	                <div class="iva-bubbleEditer">	                  <i class="iva-iconfont">&#xe619;</i>	                  <input type="text" placeholder="亲，打个云泡~"/>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="iva-bubbleItem" style="display:none;">	                <div class="iva-inline">	                  <div class="iva-avatar iva-bg<%= random%4 %>">	                    <img src="<%= avatar %>" alt="头像">	                  </div>	                  <div class="iva-msg">	                    <p><%- msg %></p>	                  </div>	                </div>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="iva-playerButton">	                <i class="iva-iconfont">&#xe601;</i>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(191),i(193),i(192),i(4),i(85),i(82),i(91)],r=function(t,e,i,n,r,o,a){function s(t){this.iva=t,this.defaultData={tag:"p",type:3,content:"移动鼠标，发现精彩！",timeout:4e3,clickHandler:null},this.setTimeoutId}return s.prototype.init=function(o){this.$wrap=n(ejs.render(e,o)).prependTo(".player_for_user"),r.userId&&this.$wrap.addClass("__editor").append('<i class="iva-iconfont iva-add">&#xe60c;</i>').find(".iva-add").on("click",function(e){e.stopPropagation(),this.iva.$ivaWrap.find(".wheel-button").trigger("click"),this.iva.zr.clear(),this.iva.player.pause(),this.iva.player.hide_the_player_bar(),this.createWM=new t(this.iva,{},i),this.createWM._show()}.bind(this)),this.$wrap.on("mousedown",function(t){t.stopPropagation()}),this.$wrap.on("mouseup",function(t){t.stopPropagation()}),this.$wrap.on("click",function(t){t.stopPropagation()}),this.$body=this.$wrap.find(".iva-windmill-text"),this._initEvent()},s.prototype._initEvent=function(){this.$wrap.on("click",".iva-windmill-logo",function(t){this.$wrap.hasClass("__design")?this.hide():this.show()}.bind(this)),this.$wrap.on("click",".iva-delete",function(t){t.stopPropagation();var e=n(t.currentTarget).data("tagid"),i=[e];confirm("确认删除？")&&o("/api/tags","DELETE",{tags:JSON.stringify(i)},function(){a({type:"success",msg:"风车信息删除成功"})}.bind(this))})},s.prototype.show=function(t){if(t&&"object"!=typeof t)throw new Error("windmill content type error");switch(void 0==t&&(t={}),t=n.extend(this.defaultData,t),this.defaultContent=t.content,t.tag){case"a":break;case"html":this.$body.html(t.content);break;case"p":default:this.$body.text(t.content)}this.$body.off("click"),t.clickHandler&&this.$body.one("click",t.clickHandler),this.$wrap.addClass("__design __design_"+t.type),this.setTimeoutId&&clearTimeout(this.setTimeoutId),this.setTimeoutId=setTimeout(function(){this.hide()}.bind(this),t.timeout)},s.prototype.hide=function(){this.$wrap.removeClass("__design __design_1 __design_2 __design_3 __design_4")},s}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(192),i(135),i(91),i(85),i(82),i(4)],r=function(t,e,i,n,r,o){function a(t,i,n){e.apply(this,arguments),this.iva=t,this._initEvent()}return a.prototype=new e,a.prototype._initEvent=function(){this.$body.on("click",".iva-wm-commit",this._commit.bind(this)),this.$body.on("click",".iva-wm-preview",this._preview.bind(this))},a.prototype._commit=function(){var t={},e=this.$body.find(".iva-wm-textarea").val();return e?(t.title=e,t.cat=2,t.v=n.videoId,t.time=parseInt(1e3*this.iva.player.get_time()),t.type=2,void r("/api/tags","POST",t,function(e){this.iva.windmill.show({tag:"p",type:3,content:t.title,timeout:4e3,clickHandler:null}),this._close()}.bind(this))):void i({type:"error",message:"提示信息不能为空"})},a.prototype._preview=function(){var t=this.$body.find(".iva-wm-textarea").val();return t?void this.iva.windmill.show({tag:"p",type:3,content:t,timeout:4e3,clickHandler:null}):void i({type:"error",message:"提示信息不能为空"})},a}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-wm-editor-container __editor" tabindex="0">	            <header class="iva-wm-title">创建风车提示</header>	            <input maxlength="20" name="wm-content" class="iva-wm-textarea" placeholder="提示信息"/>	            <div class="iva-wm-controller">	                <button class="iva-wm-btn iva-wm-preview">预览</button>	                <button class="iva-wm-btn iva-wm-commit">确认</button>	            </div>	            <i class="iva-iconfont iva-close">&#xe60d;</i>	        </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="iva-windmill-container">	            <div class="iva-windmill-logo">	                <img class="iva-windmill-img" src="<%= pic %>" alt="">	            </div>	            <div class="iva-windmill-hint">	                <div class="iva-windmill-text"></div>	            </div>	        </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(195),i(196),i(197),i(82),i(1),i(4)],r=function(t,e,i,n,r,o){function a(t){this.iva=t,this.wait=[],this.voteShowed=!1,this.contentShowed=!1,this._init()}return a.prototype._init=function(){this.$wrap=o(ejs.render(t)).prependTo(".player_for_user"),this.$title=this.$wrap.find(".iva-vote-title"),this.$body=this.$wrap.find(".iva-vote-content"),this._initEvent()},a.prototype._initEvent=function(){this.$wrap.on("click",function(t){t.stopPropagation()}),this.$title.find(".iva-vote-img.left").on("click",function(t){t.stopPropagation(),this.hideContent(),this.hide(),this.contentShowed=!1}.bind(this)),this.$title.find(".iva-vote-text").on("click",function(t){t.stopPropagation(),0==this.contentShowed?(this.showContent(),this.contentShowed=!0):(this.hideContent(),this.contentShowed=!1)}.bind(this))},a.prototype.show=function(t){t&&this.wait.push(t),1!=this.voteShowed&&(this.voteShowed=!0,this.d=this.wait.pop(),this.$wrap.addClass("show"),this.$wrap.find(".iva-vote-text").text(this.d.title),this.$body.html(ejs.render(i,{p:this.d})),this.$wrap.find(".iva-vote-submit").on("click",function(){this._submit()}.bind(this)),this.d.duration&&(this.timeout=setTimeout(function(){this.contentShowed=!1,this.hideContent(),this.hide()}.bind(this),this.d.duration)))},a.prototype.hide=function(){this.hideContent(),this.$wrap.removeClass("show"),this.voteShowed=!1,this.wait.length>0&&setTimeout(this.show.bind(this),1e3)},a.prototype.showContent=function(){this.$body.addClass("show"),r.docCookies.getItem("vote_tag_id_"+this.d.tag)?this._renderResult("GET",function(){}):this.$body.next().addClass("show")},a.prototype.hideContent=function(){this.$body.removeClass("show").next().removeClass("show")},a.prototype._submit=function(){this._renderResult("POST",function(t){r.docCookies.setItem("vote_tag_id_"+this.d.tag,!0)}.bind(this))},a.prototype._renderResult=function(t,i){n("/api/votes",t,{tag:this.d.tag,vote_opt_id:this.$body.find("input[name=vote_option]:checked").val()},function(t){this.$body.html(ejs.render(e,{p:t.msg})),this.$wrap.find(".iva-vote-submit").removeClass("show"),i(t)}.bind(this))},a}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='<div class="iva-vote-container">	                <div class="iva-vote-title">	                  <img src="http://test.videojj.com:18080/assets/vote-left.png" alt="" class="iva-vote-img left">	                  <div class="iva-vote-header">	                    <div class="iva-vote-text">点击投票</div>	                  </div>	                  <img src="http://test.videojj.com:18080/assets/vote-right.png" alt="" class="iva-vote-img right">	                </div>	                <div class="iva-vote-content"></div>	                <button class="iva-vote-submit">提交投票</button>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="sub-div">	              <% for (var i=0;i<p.options.length;i++) { %>	                <div class="radio">	                  <label><%= p.options[i].title %>( <%= p.options[i].total %>)</label>	                </div>	              <% }%>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='<div class="sub-div">	              <% for(var i=0;i<p.options.length;i++) {%>	                <div class="radio">	                    <label><input class="vote_options" id="vote-option-<%=p.options[i]._id %>" name="vote_option" type="radio" value="<%=p.options[i]._id%>"/><%= p.options[i].title %></label>	                </div>	              <% } %>	              </div>';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(195),i(196),i(197),i(82),i(1),i(4),i(82),i(199),i(204),i(205),i(83),i(189)],r=function(t,e,i,n,r,o,n,a,s,l,c,h){function d(t,e){for(var i=t[0],n=t[1],r=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],l=e[o][1],c=e[a][0],h=e[a][1],d=l>n!=h>n&&(c-s)*(n-l)/(h-l)+s>i;d&&(r=!r)}return r}function u(t,e){var i=c+"/api/vor/",t={url:t.imgurl,content:t.content};o.ajax({url:i,method:"POST",data:t,success:function(t){return e(null,t)}})}function p(t){return c+"/proxy?url="+escape(t)}function f(t,e,i){var n=c+"/api/spider/buy/v2";if(e)var r={url:e};else var r={image:t};o.ajax({url:n,method:e?"GET":"POST",data:r,success:function(t){return 0!=t.status?i(t.msg):i(null,t.msg)}})}function v(t,e,i){var n=c+"/api/spider/who";if(e)var r={url:e};else var r={image:t};o.ajax({url:n,method:e?"GET":"POST",data:r,success:function(t){return 500!=t.status?i(null,[t.msg]):i(t.msg)}})}function g(t,e){this.canvas=t,this.ctx=e,this.x=0,this.y=0,this.width=0,this.height=0,this.dragbox_width=15,this.canDragArea=[[0,0],[0,0],[0,0],[0,0]],this.canMoveArea=[[0,0],[0,0],[0,0],[0,0]]}function m(t){var e="http://123.59.79.178:10086/media/crop",i=this.iva.player.get_current_video().src,n=(this.shape.x-this.pp[1])/this.pp[0],r=(this.shape.y-this.pp[2])/this.pp[0],a=this.shape.width/this.pp[0],s=this.shape.height/this.pp[0],l=this.iva.player.get_current_video().currentTime,c={url:i,time:l,x:n,y:r,w:a,h:s};o.ajax({url:e,method:"POST",data:c,success:function(e){return t(null,e.url)},error:function(e){return t(e)}})}function y(t){this.iva=t,this.shape=void 0,this.j={}}function _(t,e,i,n,r){t&&e?this.iva.windmill.show({tag:"html",type:1,content:'<img style="height:20px;width:20px;" src="'+i+'"><span style="float:right;">灵悟不到 来打我呀</span>',timeout:5e3}):this.iva.windmill.show({tag:"html",type:1,content:'<img style="height:20px;width:20px;" src="'+i+'"><span style="float:right;">灵悟成功 点击查看</span>',timeout:1e4,clickHandler:function(t){this.resultmanager.clean();var e={is_acter:!1,is_product:!1,main:n||[],product:r||[],imgurl:i};this.resultmanager.init(e),t.stopPropagation(),n&&n.length>0?(e.is_acter=!0,this.resultmanager.acter()):(e.is_product=!0,this.resultmanager.product()),this.iva.player.pause()}.bind(this)})}function b(t){this.preview.j.img.on("load",function(){setTimeout(function(){this.iva.player.play(),this.preview.play(function(){this.preview.clean(),this.iva.windmill.show({tag:"html",type:1,content:'<img style="height:20px;width:20px;" src="'+t+'"><span style="float:right;">灵悟一出 即将现形</span>',timeout:1e3})}.bind(this)),this.clean()}.bind(this),300)}.bind(this))}function w(){if(x||P)m.call(this,function(t,e){return t?console.log(t):(this.preview.show(e),this.controlBtn.clean(),this.shape.toZero(),v(void 0,e,function(t,i){f(void 0,e,function(n,r){_.apply(this,[t,n,e,i,r])}.bind(this))}.bind(this)),void b.apply(this,[e]))}.bind(this));else{var t=(this.shape.x-this.pp[1])/this.pp[0],e=(this.shape.y-this.pp[2])/this.pp[0],i=this.shape.width/this.pp[0],n=this.shape.height/this.pp[0],r=this.j.canvas.get(0).getContext("2d");r.drawImage(this.j.video.get(0),t,e,i,n,0,0,this.shape.width,this.shape.height);var o=this.j.canvas.get(0).toDataURL();this.j.video.remove(),this.j.canvas.remove(),this.preview.show(o),this.controlBtn.clean(),this.shape.toZero(),v(o,void 0,function(t,e){f(o,void 0,function(i,n){_.apply(this,[t,i,o,e,n])}.bind(this))}.bind(this)),b.apply(this,[o])}}var x=navigator.userAgent.match(/Safari/),k=navigator.userAgent.match(/Firefox/),C=navigator.userAgent.match(/Chrome/)&&parseInt(navigator.userAgent.match(/Chrome\/(\d+)/)[1])<47;navigator.userAgent.match(/Chrome/)&&(x=null);var P=navigator.userAgent.match(/SE/)&&navigator.userAgent.match(/MetaSr/),T={start:{x:0,y:0},movecenter:{x:0,y:0}};return g.prototype={toZero:function(){this.x=0,this.y=0,this.width=0,this.height=0,this.dragbox_width=15,this.canDragArea=[[0,0],[0,0],[0,0],[0,0]],this.canMoveArea=[[0,0],[0,0],[0,0],[0,0]]},fixMoveBox:function(t){return[[t[0],t[1]],[t[0]+t[2],t[1]],[t[0]+t[2],t[1]+t[3]],[t[0],t[1]+t[3]]]},fixRightBox:function(t){return[[t[0],t[1]],[t[0]+this.dragbox_width,t[1]],[t[0]+this.dragbox_width,t[1]+this.dragbox_width],[t[0],t[1]+this.dragbox_width]]},clean:function(){this.ctx.globalAlpha=1,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},update:function(){this.clean(),this.mask(this.x,this.y,this.width,this.height),this.draw(this.x,this.y,this.width,this.height),this.corn(this.x,this.y,this.width,this.height)},corn:function(t,e,i,n){for(var r=this,o=[[[r.x+15,r.y],[r.x,r.y],[r.x,r.y+15]],[[r.x+r.width-15,r.y],[r.x+r.width,r.y],[r.x+r.width,r.y+15]],[[r.x+15,r.height+r.y],[r.x,r.height+r.y],[r.x,r.height+r.y-15]],[[r.x+r.width-15,r.y+r.height],[r.x+r.width,r.y+r.height],[r.x+r.width,r.y+r.height-15]]],a=0;4>a;a++)this.ctx.beginPath(),this.ctx.strokeStyle="#fff",this.ctx.globalAlpha=1,this.ctx.lineWidth=3,this.ctx.moveTo(o[a][0][0],o[a][0][1]),this.ctx.lineTo(o[a][1][0],o[a][1][1]),this.ctx.lineTo(o[a][2][0],o[a][2][1]),this.ctx.stroke()},mask:function(t,e,i,n){this.ctx.fillStyle="black",this.ctx.globalAlpha=.6,this.ctx.beginPath(),this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)},draw:function(t,e,i,n){this.ctx.globalAlpha=1,this.x=t,this.y=e,this.width=i,this.height=n,this.ctx.strokeStyle="#39B54A",this.ctx.beginPath(),this.ctx.rect(t,e,i,n),this.ctx.stroke(),this.ctx.clearRect(t,e,i,n)},drag:function(){this.ctx.globalAlpha=1;var t=[this.x+this.width-this.dragbox_width,this.y+this.height-this.dragbox_width,this.dragbox_width,this.dragbox_width];this.canDragArea=this.fixRightBox(t.slice(0,2)),this.ctx.beginPath(),this.ctx.rect(t[0],t[1],t[2],t[3]),this.ctx.strokeStyle="#fff",this.ctx.stroke(),this.canMoveArea=this.fixMoveBox([this.x,this.y,this.width,this.height])}},y.prototype.init=function(t){this.canvas=o(".zr-element"),this.ctx=this.canvas.get(1).getContext("2d"),this.shape=new g(this.canvas.get(1),this.ctx),this.controlBtn=new s(this.iva,{submit:this.submit.bind(this),cancel:this.cancel.bind(this)}),this.resultmanager=new a(this.iva,{playbtn_callback:function(){this.iva.player.play()}.bind(this),feedbackbbtn_callback:function(t){this.feedback(t)}.bind(this)}),this.preview,this.pp=this.__get_real_rect(),this.__init_event()},y.prototype.__init_event=function(){var t=!1,e=!1,i=!1,n=!1;this.canvas.on("click",function(t){t.stopPropagation()}.bind(this)),this.canvas.on("mousedown",function(t,r){t.stopPropagation(),n=!0;var o=r?r.left:t.offsetX,a=r?r.top:t.offsetY;i=!1,this.iva.player.is_pause()||(this.iva.player.hide_the_player_bar(),this.iva.player.pause(),i=!0),d([o,a],this.shape.canDragArea)?(T.start.x=this.shape.x,T.start.y=this.shape.y):d([o,a],this.shape.canMoveArea)?(e=!0,T.start.x=this.shape.x,T.start.y=this.shape.y,T.movecenter.x=o,T.movecenter.y=a):(T.start.x=o,T.start.y=a)}.bind(this)),this.canvas.on("mousemove",function(i,r){i.stopPropagation();var a=r?r.left:i.offsetX,s=r?r.top:i.offsetY;(C||x||P||1==i.buttons)&&1==i.which&&n?(e?(this.shape.x=a-(T.movecenter.x-T.start.x),this.shape.y=s-(T.movecenter.y-T.start.y)):(this.shape.x=T.start.x<a?T.start.x:a,this.shape.y=T.start.y<s?T.start.y:s,this.shape.width=Math.abs(T.start.x-a),this.shape.height=Math.abs(T.start.y-s)),this.shape.update(),t=!0):o(".player_for_user").trigger("mousemove")}.bind(this)),this.canvas.on("mouseup",function(r,o){r.stopPropagation(),n=!1,0!=this.shape.width||0!=this.shape.height||i||this.iva.player.play(),t&&(t=!1,e=!1,this.shape.drag(),this.controlBtn.clean(),this.controlBtn.init(),this.controlBtn.render(this.shape)),this.iva.player.show_the_player_bar()}.bind(this))},y.prototype.cancel=function(){this.controlBtn.clean(),this.shape.clean(),this.shape.toZero(),this.iva.player.play(),this.preview&&this.preview.clean()},y.prototype.submit=function(){return this.controlBtn.clean(),this.preview&&this.preview.clean(),this.preview=new l(this.iva),this.preview.init(),x||P?w.apply(this):(this.j.video=o(document.createElement("video")),this.j.canvas=o(document.createElement("canvas")),this.j.canvas.get(0).width=this.shape.width,this.j.canvas.get(0).height=this.shape.height,this.j.video.addClass("venvy_videos"),this.j.video.get(0).crossOrigin="anonymous",this.j.video.attr("src",p(this.iva.player.get_current_video().src)),k?this.j.video.attr("autoplay",!0):this.j.video.get(0).load(),k||(this.j.video.get(0).currentTime=this.iva.player.getNow()),void this.j.video.on("canplay",function(){k?(this.j.video.get(0).currentTime=this.iva.player.getNow(),this.j.video.one("timeupdate",function(){w.apply(this)}.bind(this))):w.apply(this)}.bind(this)))},y.prototype.__get_real_rect=function(){var t,e=0,i=0,n=this.iva.player.get_current_video().videoWidth,r=this.iva.player.get_current_video().videoHeight,o=this.iva.$ivaWrap.get(0).clientWidth,a=this.iva.$ivaWrap.get(0).clientHeight;return o/a>n/r?(t=a/r,e=(o-n*t)/2):(t=o/n,i=(a-r*t)/2),[t,e,i]},y.prototype.resize=function(){this.pp=this.__get_real_rect(),this.resultmanager.resize()},y.prototype.clean=function(){this.resultmanager.clean(),this.controlBtn.clean(),this.shape.clean(),this.shape.toZero()},y.prototype.feedback=function(t){u(t,function(t,e){e&&console.log(e),this.iva.player.play()}.bind(this))},y}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(4),i(200),i(201),i(202),i(203),i(83)],r=function(t,e,i,n,r,o){function a(t){switch(t){case"水瓶座":return"&#xe607;";case"双鱼座":return"&#xe608;";case"处女座":return"&#xe609;";case"巨蟹座":return"&#xe60a;";case"天秤座":return"&#xe60b;";case"摩羯座":return"&#xe60c;";case"狮子座":return"&#xe60d;";case"天蝎座":return"&#xe60e;";case"射手座":return"&#xe60f;";case"双子座":return"&#xe610;";case"金牛座":return"&#xe611;";case"牡羊座":return"&#xe612;";default:return""}}function s(e,i,n){var r="http://demo.test.videojj.com/picture/query",a=o+"/api/spider/text/v2/",l={url:e};t.ajax({url:r,method:"GET",data:l,success:function(r){if(1==r.msg.parsed){if("识别错误!"==r.msg.names[0]||"下载图片失败!"==r.msg.names[0])return n(null,[]);var o={keywords:r.msg.names.join(",")};t.ajax({url:a,data:o,success:function(t){return n(null,i,t.msg)}})}else setTimeout(function(){s(e,i,n)},3e3)}})}function l(e,i,n){var r="http://demo.test.videojj.com/picture/add",o={url:e};t.ajax({url:r,method:"GET",data:o,success:function(t){return t.msg?void s(e,i,n):n(t.error)}})}function c(t,e){this.rmr=t,this.j={},this.data={}}function h(t,e){this.rmr=t,this.j={},this.data=void 0,this.options=e}function d(t,e){this.rmr=t,this.j={},this.data=void 0,this.options=e}function u(){this.j={}}c.prototype={set_data:function(t){this.data=t},render:function(e){this.j.dom=t(ejs.render(r,{data:this.data})),this.j.dom.appendTo(e),this.__event__init()},__event__init:function(){var t=this;this.j.dom.find(".iva-vor-cancel-btn").on("click",function(e){e.stopPropagation(),t.clean(),t.rmr.play()}),this.j.dom.find(".iva-vor-submit-btn").on("click",function(e){e.stopPropagation();var i=t.j.dom.find('[name="imgurl"]').val(),n=t.j.dom.find('[name="content"]').val();t.clean(),t.rmr.fb_submit({imgurl:i,content:n})})},clean:function(){this.j.dom&&this.j.dom.remove()}},h.prototype={set_data:function(t){this.data=t},render:function(e){this.j.dom=t(ejs.render(n,{data:this.data})),this.j.dom.appendTo(e),this.__event__init()},__event__init:function(){var e=this;this.j.dom.find(".iva-vor-feedback").on("click",function(t){t.stopPropagation(),e.clean(),e.rmr.feedback(),e.rmr.i=3}),this.j.dom.find(".iva-vor-playBtn").on("click",function(t){t.stopPropagation(),e.rmr.play()}),this.j.dom.find(".iva-vor-itemBtn").on("click",function(i){i.stopPropagation();var n=t(this);if(!n.hasClass("iva-vor-productBtn")){var r=e.j.dom.parent().get(0);e.clean(),e.data.is_product=!1,e.data.is_acter=!0,e.rmr.a.set_data(e.data),e.rmr.a.render(r),e.rmr.i=1}})},clean:function(){this.j.dom&&this.j.dom.remove()},update:function(t){this.clean(),this.render(t)}},d.prototype={set_data:function(t){this.data=t},render:function(e){this.j.dom=t(ejs.render(i,{data:this.data,xz:a(this.data.main.xz)})),this.j.dom.appendTo(e),this.__event__init()},__event__init:function(){var e=this;this.j.dom.find(".iva-vor-feedback").on("click",function(t){t.stopPropagation(),e.clean(),e.rmr.feedback(),e.rmr.i=3}),this.j.dom.find(".iva-vor-playBtn").on("click",function(t){t.stopPropagation(),e.rmr.play()}),this.j.dom.find(".iva-vor-itemBtn").on("click",function(i){i.stopPropagation();var n=t(this);if(!n.hasClass("iva-vor-acterBtn")){var r=e.j.dom.parent().get(0);e.clean(),e.data.is_product=!0,e.data.is_acter=!1,e.rmr.p.set_data(e.data),e.rmr.p.render(r),e.rmr.i=2}})},clean:function(){this.j.dom&&this.j.dom.remove()},update:function(t){this.clean(),this.render(t)}},u.prototype={userbox_dom:function(){return this.j.dom.find(".iva-vor-userbox").get(0)},render:function(i){this.j.dom=t(ejs.render(e,{})),this.j.dom.css({width:i.clientWidth,height:i.clientHeight}),this.j.dom.appendTo(i),this.__event__init()},__event__init:function(){self=this,this.j.dom.on("click",function(t){t.stopPropagation()}),this.j.dom.on("mousemove",function(t){t.stopPropagation()})},resize:function(t){this.j.dom&&this.j.dom.css({width:t.clientWidth,height:t.clientHeight})},clean:function(){this.j.dom&&this.j.dom.remove()}};var p=function(t,e){this.iva=t,this.playbtn_callback=e.playbtn_callback||function(){},this.feedbackbbtn_callback=e.feedbackbbtn_callback||function(){},this.r=new u(this),this.a=new d(this),this.p=new h(this),this.f=new c(this),this.data=void 0,this.i=0};return p.prototype={init:function(t){this.id=(new Date).toString(),this.data=t,this.data.main=t.main[0],this.data.other=void 0,this.data.product=t.product.slice(0,4),this.data.main&&l(this.data.main.origin_image,this.id,function(t,e,i){this.data.other=i.slice(0,2),this.a.set_data(this.data),1==this.i&&this.id==e&&this.a.update(this.r.userbox_dom())}.bind(this))},acter:function(){t(this.iva.player.get_current_video()).addClass("iva-blur"),this.r.render(this.iva.$ivaWrap.get(0)),this.data.is_acter=!0,this.a.set_data(this.data),this.a.render(this.r.userbox_dom()),this.i=1},product:function(){t(this.iva.player.get_current_video()).addClass("iva-blur"),this.r.render(this.iva.$ivaWrap.get(0)),this.data.is_product=!0,this.p.set_data(this.data),this.p.render(this.r.userbox_dom()),this.i=2},feedback:function(){this.f.set_data(this.data),this.f.render(this.r.userbox_dom()),this.i=3},fb_submit:function(e){this.r.clean(),this.p.clean(),this.a.clean(),this.f.clean(),t(this.iva.player.get_current_video()).removeClass("iva-blur"),this.feedbackbbtn_callback(e)},play:function(){this.r.clean(),this.p.clean(),this.a.clean(),this.f.clean(),t(this.iva.player.get_current_video()).removeClass("iva-blur"),this.playbtn_callback()},resize:function(){this.r.resize(this.iva.$ivaWrap.get(0))},clean:function(){this.r.clean(),this.p.clean(),this.a.clean(),this.f.clean(),t(this.iva.player.get_current_video()).removeClass("iva-blur")}},p}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t='	    <div class="iva-vor-result">	      <div class="iva-vor-mask"></div>	      <div class="iva-vor-userbox">	      </div>	    </div>	  ';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='	    <header class="iva-vor-acter">	      <div class="iva-vor-left iva-vor-section">	          <div class="iva-vor-main">	            <% if (data.main) { %> 	              <img class="iva-vor-img iva-vor-users" src="<%= data.main.origin_image || "http://7xjfim.com2.z0.glb.qiniucdn.com/icon%20renwu.png" %>">	              <div class="hi-icon-effect-3 hi-icon-effect-3a iva-vor-similarity">	                <a class="hi-icon iva-vor-div"><%= data.main.similarity || "0%" %></a>	                <a class="hi-icon iva-vor-hand iva-vor-iconfont">&#xe613;</a>	              </div>	              <img class="iva-vor-img iva-vor-baike" src="<%= data.main.image || "http://7xjfim.com2.z0.glb.qiniucdn.com/icon%20renwu.png"%>">	            <% }%>	          </div>	      </div>	      <div class="iva-vor-right iva-vor-section">	        <div class="iva-vor-main">	          <header class="iva-vor-name">	            <% if (data.main) { %>	              <%= data.main.name || "" %> 	              <span class="iva-vor-profession">	               / <% if (data.main.profession.length > 10) { %> <%= data.main.profession.substr(0, 10) + "..." %> <% } else { %> <%= data.main.profession || "" %> <%}%>	             </span>	              <span class="iva-vor-brith iva-vor-iconfont"> <%- xz || "" %> <%= data.main.xz || "" %> </span>	            <% } %>	          </header>	          <p class="iva-vor-p iva-vor-content">	            <% if (data.main) %>	              <span class="iva-vor-main-label">简介：</span> <%= data.main.content || "" %>	          </p>	          <p class="iva-vor-p">	           <span class="iva-vor-main-label">相似的明星：</span>	           <%#<span class="iva-vor-other">李湘翔</span> x 2%>	             <% if (data.other) { %>	               <span class="iva-vor-other"><%=data.other[0].name%></span>	               <span class="iva-vor-other"><%=data.other[1].name%></span>	             <%}%>	          </p>	        </div>	      </div>	    </header>	    <footer class="iva-vor-footer">	      <div class="iva-vor-item">	        <p class="iva-vor-p">	          <img class="iva-vor-img-failed" src="http://7xjfim.com2.z0.glb.qiniucdn.com/iva-vor-failed.png">	          <span class="iva-vor-feedback">灵悟不准确？帮助反馈</span>	        </p>	      </div>	      <div class="hi-icon-effect-3 hi-icon-effect-3a iva-vor-item">	        <% if (data.main) { %>	          <a class="iva-vor-active icon-renwu iva-vor-acterBtn iva-vor-itemBtn iva-vor-iconfont"></a>	        <% } %>	        <% if (data.product.length > 0) { %>	          <a class="hi-icon icon-shangpin iva-vor-productBtn iva-vor-itemBtn iva-vor-iconfont"></a>	        <% } %>	      </div>	      <div class="iva-vor-item">	        <div class="hi-icon-effect-3 hi-icon-effect-3a">	          <a class="hi-icon iva-vor-playBtn">	            <strong class="iva-vor-playword">继续播放</strong>	            <strong class="iva-vor-playicon iva-vor-iconfont">&#xe606;</strong>	          </a>	        </div>	      </div>	    </footer>	  ';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='	    <header class="iva-vor-product">	      <% if (data.product && data.product.length>0) { %>	        <% for (var i=0;i<data.product.length;i++) { %>	          <a class="iva-vor-product-link" target="_blank" href="<%= data.product[i].linkurl %>">	            <div class="iva-vor-product-item">	              <div class="iva-vor-product-link">	                <div class="iva-vor-imgurl" style="background-image: url(<%= data.product[i].cover %>)"></div>	                <p class="iva-vor-product-link iva-vor-product-word">	                  <%= data.product[i].title %>	                </p>	                <p class="iva-vor-product-link iva-vor-product-word iva-vor-product-price">	                  <span class="iva-vor-product-dollar">￥ <%= data.product[i].price.toFixed(2) %>	                </p>	              </div>	              <div class="iva-vor-product-banner iva-vor-iconfont" style="background-color:<%=data.product[i].from[1]%>">	                &#xe614; 来自<%=data.product[i].from[0]%>	              </div>	            </div>	          </a>	        <% } %>	      <% } %>	    </header>	    <footer class="iva-vor-footer">	      <div class="iva-vor-item">	        <p class="iva-vor-p">	          <img class="iva-vor-img-failed" src="http://7xjfim.com2.z0.glb.qiniucdn.com/iva-vor-failed.png">	          <span class="iva-vor-feedback">灵悟不准确？帮助反馈</span>	        </p>	      </div>	      <div class="hi-icon-effect-3 hi-icon-effect-3a iva-vor-item">	        <% if (data.main) { %>	          <a class="hi-icon icon-renwu iva-vor-acterBtn iva-vor-itemBtn iva-vor-iconfont"></a>	        <% } %>	        <% if (data.product.length > 0) { %>	          <a class="iva-vor-active icon-shangpin iva-vor-productBtn iva-vor-itemBtn iva-vor-iconfont"></a>	        <% } %>	      </div>	      <div class="iva-vor-item">	        <div class="hi-icon-effect-3 hi-icon-effect-3a">	          <a class="hi-icon iva-vor-playBtn">	            <strong class="iva-vor-playword">继续播放</strong>	            <strong class="iva-vor-playicon iva-vor-iconfont">&#xe606;</strong>	          </a>	        </div>	      </div>	    </footer>	  ';return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t='	    <div class="iva-vor-feedback">	      <div class="iva-vor-left iva-vor-section">	        <img class="iva-vor-img" src="http://7xjfim.com2.z0.glb.qiniucdn.com/iva-vor-success.png">	      </div>	      <div class="iva-vor-right iva-vor-section">	        <section class="iva-vor-header">	          <span class="iva-vor-green">[灵悟]</span>目前尚处于实验阶段，识别和预测的准确率正在提高中，可能会出现不准的情况	        </section>	        <section class="iva-vor-section">	          <input type="hidden" name="imgurl" value="<%= data.imgurl %>"/>	          <div class="iva-vor-content"><textarea class="iva-vor-textarea" name="content" placeholder="如果发现识别不准确，并且你知道内容是神马，欢迎提供给我们，也更希望得到更多的建议帮助灵悟变得更智能"></textarea></div>	          <button class="iva-vor-submit-btn iva-vor-green">灵悟加油</button>	          <button class="iva-vor-cancel-btn iva-vor-black">继续灵悟</button>	          <div class="iva-vor-title">Video++人工智能实验室提供技术支持</div>	        </section>	      </div>	    </div>	  ';
return t}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r;n=[i(4)],r=function(t){function e(t,e){this.iva=t,this.j={},this.options=e}return e.prototype={init:function(){this.j.dom=t(document.createElement("div")),this.j.dom.appendTo(this.iva.$ivaWrap),this.j.dom.addClass("iva-vor-control-bar"),this.j.submitBtn=t(document.createElement("button")),this.j.cancelBtn=t(document.createElement("button")),this.j.submitBtn.addClass("iva-vor-btn").addClass("iva-vor-green"),this.j.cancelBtn.addClass("iva-vor-btn").addClass("iva-vor-black").addClass("iva-vor-iconfont"),this.j.submitBtn.text("灵悟一下"),this.j.cancelBtn.html("&#xe604;"),this.j.cancelBtn.appendTo(this.j.dom.get(0)),this.j.submitBtn.appendTo(this.j.dom.get(0)),this.default_width=this.j.dom.width(),this.default_height=this.j.dom.height(),this.__init_event()},__init_event:function(){this.j.cancelBtn.on("click",function(){this.cancel()}.bind(this)),this.j.submitBtn.on("click",function(){this.submit()}.bind(this)),this.j.cancelBtn.on("click mousemove",function(t){t.stopPropagation()}),this.j.submitBtn.on("click mousemove",function(t){t.stopPropagation()})},submit:function(){this.options.submit&&this.options.submit()},cancel:function(){this.options.cancel&&this.options.cancel()},render:function(t){setTimeout(function(){var e=2,i=20,n=this.iva.player.videoController.player_control_bar.player_control_bar.height(),r=t.y+t.height+i,o=t.x+t.width-this.default_width-e;this.iva.$ivaInterface.get(0).clientHeight-n-(t.y+t.height+i+this.j.dom.height())<0&&(r=t.y+t.height-this.j.dom.height()-i,o=t.x+t.width-this.default_width-i),this.j.dom.css({top:r,left:o,display:"block"}),this.j.dom.addClass("iva-vor-show")}.bind(this),300)},clean:function(){this.j.dom&&this.j.dom.remove()}},e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(4)],r=function(t){function e(t){this.iva=t,this.j={}}return e.prototype={init:function(){this.j.dom=t(document.createElement("div")),this.j.dom.addClass("iva-vor-preview"),this.j.img=t(document.createElement("img")),this.j.crossOrigin="anonymous",this.j.dom.css({top:this.iva.vor.shape.y,left:this.iva.vor.shape.x,width:this.iva.vor.shape.width,height:this.iva.vor.shape.height}),this.j.img.css({width:this.iva.vor.shape.width,height:this.iva.vor.shape.height}),this.j.dom.appendTo(this.iva.$ivaWrap)},show:function(t){this.j.img.attr("src",t),this.j.dom.html(this.j.img)},play:function(t){this.j.dom.addClass("iva-vor-play").on("transitionend",t)},clean:function(){this.j.dom.removeClass("iva-vor-play"),this.j.dom.remove()}},e}.apply(e,n),!(void 0!==r&&(t.exports=r))}]);console.info("Iva update at: Fri Jan 08 2016 19:50:44 GMT+0800 (CST)")